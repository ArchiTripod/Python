<!DOCTYPE html>
<html lang="zh-CN" dropEffect="none" class="no-js">
<head>
<meta charset="utf-8" />

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="renderer" content="webkit" />

<title>

12306 外包给阿里巴巴、IBM 等大企业做是否可行？ - 知乎

</title>

<meta name="apple-itunes-app" content="app-id=432274380, app-argument=zhihu://questions/22451397">



<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta http-equiv="mobile-agent" content="format=html5;url=http://www.zhihu.com/question/22451397">
<meta id="znonce" name="znonce" content="f93f2d29bb104db09703f8794bf7fd55">
<link rel="apple-touch-icon-precomposed" href="http://static.zhihu.com/static/img/ios/zhihu(57px).png" />
<link rel="apple-touch-icon-precomposed" href="http://static.zhihu.com/static/img/ios/zhihu(72px).png" sizes="72x72" />
<link rel="apple-touch-icon-precomposed" href="http://static.zhihu.com/static/img/ios/zhihu(76px).png" sizes="76x76" />
<link rel="apple-touch-icon-precomposed" href="http://static.zhihu.com/static/img/ios/zhihu(114px).png" sizes="114x114" />
<link rel="apple-touch-icon-precomposed" href="http://static.zhihu.com/static/img/ios/zhihu(120px).png" sizes="120x120" />
<link rel="apple-touch-icon-precomposed" href="http://static.zhihu.com/static/img/ios/zhihu(152px).png" sizes="152x152" />


<link rel="shortcut icon" href="http://static.zhihu.com/static/favicon.ico" type="image/x-icon">

<link rel="search" type="application/opensearchdescription+xml" href="http://static.zhihu.com/static/search.xml" title="知乎" />
<link rel="stylesheet" href="http://static.zhihu.com/static/ver/d6d1d8af46437d8edc24966ce70eafdd.z.css">



<!--[if lt IE 9]>
<script src="http://static.zhihu.com/static/components/respond/dest/respond.min.js"></script>
<link href="http://static.zhihu.com/static/components/respond/cross-domain/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/static/components/respond/cross-domain/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/static/components/respond/cross-domain/respond.proxy.js"></script>
<![endif]-->

<script src="http://static.zhihu.com/static/ver/30ff61b37d19820b83181a78d6ca0d16.instant.min.js"></script>




</head>

<body class="zhi">
<div role="navigation" class="zu-top">
<div class="zg-wrap modal-shifting" id="zh-top-inner">
<a href="/" class="zu-top-link-logo" id="zh-top-link-logo">知乎</a>

<div class="top-nav-profile">
<a href="/people/zhou-ting-dong" class="zu-top-nav-userinfo ">
<span class="name">周廷栋</span>
<img class="avatar" src="http://pic1.zhimg.com/da8e974dc_s.jpg" />
<span id="zh-top-nav-new-pm" class="zg-noti-number zu-top-nav-pm-count"
style="visibility:hidden" data-count="0">

</span>
</a>
<ul class="top-nav-dropdown" id="top-nav-profile-dropdown">
<li>
<a href="/people/zhou-ting-dong">
<i class="zg-icon zg-icon-dd-home"></i>我的主页
</a>
</li>

<li>
<a href="/inbox">
<i class="zg-icon zg-icon-dd-pm"></i>私信
<span id="zh-top-nav-pm-count" class="zu-top-nav-pm-count zg-noti-number"
style="visibility:hidden" data-count="0">

</span>
</a>
</li>
<li>
<a href="/settings">
<i class="zg-icon zg-icon-dd-settings"></i>设置
</a>
</li>
<li>
<a href="/logout">
<i class="zg-icon zg-icon-dd-logout"></i>退出
</a>
</li>
</ul>

</div>


<div role="search" id="zh-top-search" class="zu-top-search">
<form method="GET" action="/search" id="zh-top-search-form" class="zu-top-search-form form-with-magnify">

<input type="text" class="zu-top-search-input" id="q" name="q" autocomplete="off" value="" placeholder="搜索话题、问题或人…" />
<input type="hidden" name="type" value="question" />
<label for="q" class="hide-text">知乎搜索</label>
<button type="submit" class="magnify-button"><i class="icon icon-magnify-q"></i><span class="hide-text">搜索</span></button>
</form>
<button class="zu-top-add-question" id="zu-top-add-question">提问</button>
</div>



<div id="zg-top-nav" class="zu-top-nav">
<ul class="zu-top-nav-ul zg-clear">

<li class="zu-top-nav-li " id="zh-top-home-link">
<a class="zu-top-nav-link" href="/" id="zh-top-link-home">首页</a>
</li>
<li class="top-nav-topic-selector zu-top-nav-li " id="zh-top-nav-item-topic">
<a class="zu-top-nav-link" href="/topic" id="top-nav-dd-topic">话题</a>

</li>
<li class="zu-top-nav-li ">
<a class="zu-top-nav-link" href="/explore">发现</a>
</li>

<li class="top-nav-noti zu-top-nav-li ">
<a class="zu-top-nav-link" href="javascript:;" id="zh-top-nav-count-wrap" role="button"><span class="mobi-arrow"></span>消息</a>
</li>



</ul>
<div class="zu-top-nav-live zu-noti7-popup zg-r5px no-hovercard" id="zh-top-nav-live-new" role="popup" tabindex="0">
<div class="zu-top-nav-live-inner zg-r5px">
<div class="zu-top-live-icon">&nbsp;</div>
<div class="zu-home-noti-inner" id="zh-top-nav-live-new-inner">
<div class="zm-noti7-popup-tab-container clearfix" tabindex="0">
<button class="zm-noti7-popup-tab-item message">
<span class="icon">消息</span>
</button>
<button class="zm-noti7-popup-tab-item user">
<span class="icon">用户</span>
</button>
<button class="zm-noti7-popup-tab-item thanks">
<span class="icon">赞同和感谢</span>
</button>
</div>
</div>
<div class="zm-noti7-frame-border top"></div>
<div class="zm-noti7-frame">
<div class="zm-noti7-content">
<div class="zm-noti7-content-inner">
<div class="zm-noti7-popup-refresh" style="display:none;">
<img class="noti-spinner" src="/static/img/spinner2.gif" />
</div>
<div class="zm-noti7-content-body">
<div class="zm-noti7-popup-loading">
<img class="noti-spinner" src="/static/img/noti-loading.gif" />
</div>
</div>
</div>
</div>
<div class="zm-noti7-content" style="display:none;">
<div class="zm-noti7-content-inner">
<div class="zm-noti7-popup-refresh" style="display:none;">
<img class="noti-spinner" src="/static/img/spinner2.gif" />
</div>
<div class="zm-noti7-content-body">
<div class="zm-noti7-popup-loading">
<img class="noti-spinner" src="/static/img/noti-loading.gif" />
</div>
</div>
</div>
</div>
<div class="zm-noti7-content" style="display:none;">
<div class="zm-noti7-content-inner">
<div class="zm-noti7-popup-refresh" style="display:none;">
<img class="noti-spinner" src="/static/img/spinner2.gif" />
</div>
<div class="zm-noti7-content-body">
<div class="zm-noti7-popup-loading">
<img class="noti-spinner" src="/static/img/noti-loading.gif" />
</div>
</div>
</div>
</div>
</div>
<div class="zm-noti7-frame-border bottom"></div>
<div class="zm-noti7-popup-footer">
<a href="/notifications" class="zm-noti7-popup-footer-all zg-right">查看全部 &raquo;</a>
<a href="/settings/notification" class="zm-noti7-popup-footer-set" title="通知设置" ><i class="zg-icon zg-icon-settings"></i></a>
</div>
</div>
</div>

</div>


</div>
</div>

<div class="zu-global-notify" id="zh-global-message" style="display:none">
<div class="zg-wrap">
<div class="zu-global-nitify-inner">
<a class="zu-global-notify-close" href="javascript:;" title="关闭" name="close">x</a>
<span class="zu-global-notify-icon"></span>
<span class="zu-global-notify-msg"></span>
</div>
</div>
</div>



<div class="zu-global-notify zu-global-notify-info" id="zh-question-redirect-info" style="display:none"></div>


<div class="zu-global-notify zu-global-notify-info" id="zh-question-notification-summary" style="display:none;">
<div class="zg-wrap">
<div class="zu-global-nitify-inner">
<span class="zu-global-notify-icon"></span>
<ul class="zu-question-notify-wrap">
</ul>
</div>
</div>
</div>
<div class="zg-wrap zu-main question-page" itemscope itemtype="http://schema.org/Question" id="zh-single-question-page"
data-urltoken="22451397">
<meta itemprop="isTopQuestion" content="false" />
<meta itemprop="visitsCount" content="354266" />
<div class="zu-main-content">
<div class="zu-main-content-inner with-indention-votebar">


<div id="zh-message-container" class="zg-info-message" style="display:none;"></div>




<div class="zm-tag-editor zg-section">
<div class="zm-tag-editor-labels zg-clear">

<a class="zm-item-tag"
href="/topic/19550517"
data-tip="t$b$19550517" data-token="19550517" data-topicid="99">
互联网
</a>

<a class="zm-item-tag"
href="/topic/19551577"
data-tip="t$b$19551577" data-token="19551577" data-topicid="454">
阿里巴巴集团
</a>

<a class="zm-item-tag"
href="/topic/19559399"
data-tip="t$b$19559399" data-token="19559399" data-topicid="3068">
IBM
</a>

<a class="zm-item-tag"
href="/topic/19561719"
data-tip="t$b$19561719" data-token="19561719" data-topicid="3839">
网站开发
</a>

<a class="zm-item-tag"
href="/topic/19793213"
data-tip="t$b$19793213" data-token="19793213" data-topicid="86278">
12306（中国铁路客户服务中心）
</a>

</div>
</div>
<div id="zh-question-title" data-editable="true">

<h2 class="zm-item-title zm-editable-content">

12306 外包给阿里巴巴、IBM 等大企业做是否可行？

</h2>
</div>
<div id="zh-question-detail" class="zm-item-rich-text" data-resourceid="1161451" data-action="/question/detail">

<div class="zm-editable-content">如果 12306 项目外包给阿里巴巴或 IBM 等大企业，会不会更好</div>


</div>
<div class="zm-item-meta zm-item-comment-el clearfix" id="zh-question-meta-wrap">
<div class="zm-meta-panel">

<a href="#" name="report-question" class="report zg-right">
<i class="z-icon-no-help"></i>举报</a>

<a href="#" name="addcomment" class="toggle-comment meta-item">
<i class="z-icon-comment"></i>74 条评论
</a>
<a href="#" name="share" class="share meta-item">
<i class="z-icon-share"></i>分享
</a>


<span class="zg-bull">&bull;</span>
<a href="#" name="invite" class="meta-item">邀请回答</a>




</div>
<div class="panel-container">

</div>
</div>

<div class="zh-answers-title clearfix">

<div id="zh-answers-filter" class="answers-sorter">

<span class="lbl">按投票排序</span>
<a class="lbl" href="/question/22451397?sort=created">按时间排序</a>

<i class="zg-icon zg-icon-double-arrow"></i>
</div>

<h3 data-num="360" id="zh-question-answer-num">360 个回答</h3>
</div>
<div class="zh-question-answer-summary-wrap zm-item-rich-text" id="zh-question-answer-summary-wrap" style="display:none;">
<h3>
<a href="http://www.zhihu.com/question/20014415" target="_blank" class="zg-right zg-link-litblue" style="font-weight:normal">什么是答案总结？</a>
答案总结</h3>
<div id="zh-question-answer-summary" class="zg-section"
data-resourceid="1161451" data-action="/question/summary">

<div class="zm-editable-content"></div>

</div>
</div>

<div id="zh-question-answer-wrap" data-pagesize="50" class="zh-question-answer-wrapper" data-widget="navigable" data-navigable-options="{&quot;items&quot;: &quot;&gt;.zm-item-answer&quot;}" data-init="{&quot;params&quot;: {&quot;url_token&quot;: 22451397, &quot;pagesize&quot;: 50, &quot;offset&quot;: 0}, &quot;nodename&quot;: &quot;QuestionAnswerListV2&quot;}" data-fixed-summary="1">


<div tabindex="-1" class="zm-item-answer "

itemprop="topAnswer"

itemscope itemtype="http://schema.org/Answer"
data-aid="3770436"
data-atoken="21431337"
data-collapsed="0"
data-created="1388993013"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="11.1252630496"


>
<a class="zg-anchor-hidden" name="answer-3770436"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">11</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$gg-zhang"
class="zm-item-link-avatar"
href="/people/gg-zhang">
<img src="http://pic3.zhimg.com/666d8e09a_s.jpg"
class="zm-list-avatar"
data-source="http://pic3.zhimg.com/666d8e09a_s.jpg" />
</a>



<a data-tip="p$t$gg-zhang" href="/people/gg-zhang">gg zhang</a>，<strong title="我是一块海绵" class="zu-question-my-bio">我是一块海绵</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="11">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xi-men-han-feng" href="http://www.zhihu.com/people/xi-men-han-feng" class="zg-link" title="西门寒枫">西门寒枫</a>、</span><span class="user-block"><a data-tip="p$t$chu-sheng-chen" href="http://www.zhihu.com/people/chu-sheng-chen" class="zg-link" title="楚生尘">楚生尘</a>、</span><span class="user-block"><a data-tip="p$t$maleon" href="http://www.zhihu.com/people/maleon" class="zg-link" title="Maleon">Maleon</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">一群估计连QPS和TPS都分不清楚的人。。在这憋着一口气先开始黑，黑完爽了再说


</div>

</div>
<a class="zg-anchor-hidden ac" name="3770436-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21431337">发布于 2014-01-06</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>4 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3776838"
data-atoken="21447233"
data-collapsed="0"
data-created="1389028308"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="1290.12521386"


>
<a class="zg-anchor-hidden" name="answer-3776838"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">696</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
<h3 class="zm-item-answer-author-wrap">匿名用户</h3></div>
<div class="zm-item-vote-info " data-votecount="696">

<span class="voters">
<span class="user-block"><a data-tip="p$t$mu-yi-13-84" href="http://www.zhihu.com/people/mu-yi-13-84" class="zg-link" title="木易">木易</a>、</span><span class="user-block"><a data-tip="p$t$shen-lan-79" href="http://www.zhihu.com/people/shen-lan-79" class="zg-link" title="深蓝">深蓝</a>、</span><span class="user-block"><a data-tip="p$t$chao-da-bei-mo-qia-xing-bing-le" href="http://www.zhihu.com/people/chao-da-bei-mo-qia-xing-bing-le" class="zg-link" title="超大杯摩卡星冰乐">超大杯摩卡星冰乐</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">现有的<b>部分讨论</b>，双方缺少对基本事实的共识。<br><br>在下转一篇文章，给诸位提供一些材料，不管是支持还是反对，至少可以指出支持反对哪一点，免得鸡同鸭讲。文章是两年前的，欢迎知情人士指出两年来是否有什么变化。<br><br>文章主要说了12306这个网站有多独特，技术难点在哪里，有什么可能的改善方法。<br><br>==================<br><h2><a href="http://coolshell.cn/articles/6470.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">由12306.cn谈谈网站性能技术<i class="icon-external"></i></a></h2><p><br>2012年1月16日 <a href="http://coolshell.cn/articles/author/haoel" class=" wrap external" target="_blank" rel="nofollow noreferrer">陈皓<i class="icon-external"></i></a><br><br></p><p><a href="http://12306.cn" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">12306.cn</span><span class="invisible"></span><i class="icon-external"></i></a>网站挂了，被全国人民骂了。我这两天也在思考这个事，我想以这个事来粗略地和大家讨论一下网站性能的问题。因为仓促，而且完全基于本人有限的经验和了解，所以，如果有什么问题还请大家一起讨论和指正。（这又是一篇长文，只讨论性能问题，不讨论那些UI，用户体验，或是是否把支付和购票下单环节分开的功能性的东西）</p><br><br><h4>业务</h4><p>任何技术都离不开业务需求，所以，要说明性能问题，首先还是想先说说业务问题。</p><ul><li><strong>其一</strong>，<strong>有人可能把这个东西和QQ或是网游相比</strong>。但我觉得这两者是不一样的，网游和QQ在线或是登录时访问的更多的是用户自己的数据，而订票系统访问的是中心的票量数据，这是不一样的。不要觉得网游或是QQ能行你就以为这是一样的。网游和QQ 的后端负载相对于电子商务的系统还是简单。</li><li><strong>其二</strong>，<strong>有人说春节期间订火车的这个事好像网站的秒杀活动</strong>。的确很相似，但是如果你的思考不在表面的话，你会发现这也有些不一样。火车票这个事，还有很多查询操作，查时间，查座位，查铺位，一个车次不 行，又查另一个车次，其伴随着大量的查询操作，下单的时候需要对数据库操作。而秒杀，直接杀就好了。另外，关于秒杀，完全可以做成只接受前N个用户的请求（完全不操作后端的任何数据， 仅仅只是对用户的下单操作log），这种业务，只需要在内存cache中放好可秒杀的数量，还可以把数据分布开来放，100商品，10台服务器一台放10个，无需在当时操作任何数据库。可以订单数够后，停止秒杀，然后批量写数据库。而且秒杀的商品不多。火车票这个不是像秒杀那么简单的，春运时间，几乎所有的票都是热门票，而且几乎是全国人民都来了。（淘宝的双十一也就3百万用户，而火车票瞬时有千万级别甚至是亿级别的）</li><li><strong>其三</strong>，<strong>有人拿这个系统和奥运会的票务系统比较</strong>。我觉得还是不一样。虽然奥运会的票务系统当年也一上线就废了。但是奥运会用的是抽奖的方式，也就是说不存在先来先得的抢的方式，而且，是事后抽奖，事前只需要收信息，事前不需要保证数据一致性，没有锁，很容易水平扩展。</li><li><strong>其四</strong>，<strong>订票系统应该和电子商务的订单系统很相似</strong>，都是需要对库存进行：1）占住库存，2）支付（可选），3）扣除库存的操作。这个是需要有一致性的检查的，也就是在并发时需要对数据加锁的。B2C的电商基本上都会把这个事干成异步的，也就是说，你下的订单并不是马上处理的，而是延时处理的，只有成功处理了，系统才会给你一封确认邮件说是订单成功。我相信有很多朋友都收到认单不成功的邮件。<strong>这就是说，数据一致性在并发下是一个瓶颈</strong>。</li><li><strong>其五</strong>，<strong>铁路的票务业务很变态</strong>，其采用的是突然放票，而有的票又远远不够大家分，所以，大家才会有抢票这种有中国特色的业务的做法。于是当票放出来的时候，就会有几百万人甚至上千万人杀上去，查询，下单。几十分钟内，一个网站能接受几千万的访问量，这个是很恐怖的事情。<a href="http://www.linuxso.com/architecture/17006.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">据说12306的高峰访问是10亿PV<i class="icon-external"></i></a>，集中在早8点到10点，每秒PV在高峰时上千万。</li></ul><p>多说几句：</p><ul><li><strong>库存是B2C的恶梦，库存管理相当的复杂</strong>。不信，你可以问问所有传统和电务零售业的企业，看看他们管理库存是多么难的一件事。不然，就不会有那么多人在问凡客的库存问题了。（你还可以看看《乔布斯传》，你就知道为什么Tim会接任Apple的CEO了，最主要的原因是他搞定了苹果的库存周期问题）</li><li><strong>对于一个网站来说，浏览网页的高负载很容易搞定，查询的负载有一定的难度去处理，不过还是可以通过缓存查询结果来搞定，最难的就是下单的负载</strong>。因为要访问库存啊，对于下单，基本上是用异步来搞定的。去年双11节，淘宝的每小时的订单数大约在60万左右，京东一天也才能支持40万（居然比12306还差），亚马逊5年前一小时可支持70万订单量。可见，下订单的操作并没有我们相像的那么性能高。</li><li><strong>淘宝要比B2C的网站要简单得多，因为没有仓库</strong>，所以，不存在像B2C这样有N个仓库对同一商品库存更新和查询的操作。下单的时候，B2C的 网站要去找一个仓库，又要离用户近，又要有库存，这需要很多计算。试想，你在北京买了一本书，北京的仓库没货了，就要从周边的仓库调，那就要去看看沈阳或 是西安的仓库有没有货，如果没有，又得看看江苏的仓库，等等。淘宝的就没有那么多事了，每个商户有自己的库存，库存就是一个数字，并且库存分到商户头上了，反而有利于性能扩展。</li><li><strong>数据一致性才是真正的性能瓶颈</strong>。有 人说nginx可以搞定每秒10万的静态请求，我不怀疑。但这只是静态请求，理论值，只要带宽、I/O够强，服务器计算能力够，并支持的并发连接数顶得住10万TCP链接的建立 的话，那没有问题。但在数据一致性面前，这10万就完完全全成了一个可望不可及的理论值了。</li></ul><p>我说那么多，我只是想从业务上告诉大家，我们需要从业务上真正了解春运铁路订票这样业务的变态之处。</p><br><br><h4>前端性能优化技术</h4><p>要解决性能的问题，有很多种常用的方法，我在下面列举一下，我相信12306这个网站使用下面的这些技术会让其性能有质的飞跃。</p><br>一、前端负载均衡<p>通过DNS的负载均衡器（一般在路由器上根据路由的负载重定向）可以把用户的访问均匀地分散在多个Web服务器上。这样可以减少Web服务器的请求负载。因为http的请求都是短作业，所以，可以通过很简单的负载均衡器来完成这一功能。最好是有CDN网络让用户连接与其最近的服务器（CDN通常伴随着分布式存储）。（关于负载均衡更为详细的说明见“后端的负载均衡”）</p><br>二、减少前端链接数<p>我看了一下12306.cn，打开主页需要建60多个HTTP连接，车票预订页面则有70多个HTTP请求，现在的浏览器都是并发请求的（当然，浏览器的一个页面的并发数是有限的，但是你挡不住用户开多个页面，而且，后端服务器TCP链接在前端断开始，还不会马上释放或重要）。所以，只要有100万个用户，就有可能会有6000万个链接（访问第一次后有了浏览器端的cache，这个数会下来，就算只有20%也是百万级的链接数），太多了。一个登录查询页面就好了。把js打成一个文件，把css也打成一个文件，把图标也打成一个文件，用css分块展示。把链接数减到最低。</p><br>三、减少网页大小增加带宽<p>这个世界不是哪个公司都敢做图片服务的，因为图片太耗带宽了。现在宽带时代很难有人能体会到当拨号时代做个图页都不敢用图片的情形（现在在手机端浏览也是这个情形）。我查看了一下12306首页的需要下载的总文件大小大约在900KB左右，如果你访问过了，浏览器会帮你缓存很多，只需下载10K左右的文件。但是我们可以想像一个极端一点的案例，1百万用户同时访问，且都是第一次访问，每人下载量需要1M，如果需要在120秒内返回，那么就需要，1M * 1M /120 * 8 = 66Gbps的带宽。很惊人吧。所以，我估计在当天，12306的阻塞基本上应该是网络带宽，所以，你可能看到的是没有响应。后面随着浏览器的缓存帮助12306减少很多带宽占用，于是负载一下就到了后端，后端的数据处理瓶颈一下就出来。于是你会看到很多http 500之类的错误。这说明后端服务器垮了。</p><br>四、前端页面静态化<p>静态化一些不常变的页面和数据，并gzip一下。还有一个变态的方法是把这些静态页面放在/dev/shm下，这个目录就是内存，直接从内存中把文件读出来返回，这样可以减少昂贵的磁盘I/O。使用nginx的sendfile功能可以让这些静态文件直接在内核心态交换，可以极大增加性能。</p><br>五、优化查询<p>很多人查询都是在查一样的，完全可以用反向代理合并这些并发的相同的查询。这样的技术主要用查询结果缓存来实现，第一次查询走数据库获得数据，并把数据放到缓存，后面的查询统统直接访问高速缓存。为每个查询做Hash，使用NoSQL的技术可以完成这个优化。（这个技术也可以用做静态页面）</p><p>对于火车票量的查询，个人觉得不要显示数字，就显示一个“有”或“无”就好了，这样可以大大简化系统复杂度，并提升性能。把查询对数据库的负载分出去，从而让数据库可以更好地为下单的人服务。</p><br>六、缓存的问题<p>缓存可以用来缓存动态页面，也可以用来缓存查询的数据。缓存通常有那么几个问题：</p><p>1）缓存的更新。也叫缓存和数据库的同步。有这么几种方法，一是缓存time out，让缓存失效，重查，二是，由后端通知更新，一量后端发生变化，通知前端更新。前者实现起来比较简单，但实时性不高，后者实现起来比较复杂 ，但实时性高。</p><p>2）缓存的换页。内存可能不够，所以，需要把一些不活跃的数据换出内存，这个和操作系统的内存换页和交换内存很相似。FIFO、LRU、LFU都是比较经典的换页算法。相关内容参看<a href="http://en.wikipedia.org/wiki/Cache_algorithms" class=" wrap external" target="_blank" rel="nofollow noreferrer">Wikipeida的缓存算法<i class="icon-external"></i></a>。</p><p>3）缓存的重建和持久化。缓存在内存，系统总要维护，所以，缓存就会丢失，如果缓存没了，就需要重建，如果数据量很大，缓存重建的过程会很慢，这会影响生产环境，所以，缓存的持久化也是需要考虑的。</p><p>诸多强大的NoSQL都很好支持了上述三大缓存的问题。</p><br><br><h4>后端性能优化技术</h4><p>前面讨论了前端性能的优化技术，于是前端可能就不是瓶颈问题了。那么性能问题就会到后端数据上来了。下面说几个后端常见的性能优化技术。</p><br>一、数据冗余<p>关于数据冗余，也就是说，把我们的数据库的数据冗余处理，也就是减少表连接这样的开销比较大的操作，但这样会牺牲数据的一致性。风险比较大。很多人把NoSQL用做数据，快是快了，因为数据冗余了，但这对数据一致性有大的风险。这需要根据不同的业务进行分析和处理。（注意：用关系型数据库很容易移植到NoSQL上，但是反过来从NoSQL到关系型就难了）</p><br>二、数据镜像<p>几乎所有主流的数据库都支持镜像，也就是replication。数据库的镜像带来的好处就是可以做负载均衡。把一台数据库的负载均分到多台上，同时又保证了数据一致性（Oracle的SCN）。最重要的是，这样还可以有高可用性，一台废了，还有另一台在服务。</p><p>数据镜像的数据一致性可能是个复杂的问题，所以我们要在单条数据上进行数据分区，也就是说，把一个畅销商品的库存均分到不同的服务器上，如，一个畅销商品有1万的库存，我们可以设置10台服务器，每台服务器上有1000个库存，这就好像B2C的仓库一样。</p><br>三、数据分区<p>数据镜像不能解决的一个问题就是数据表里的记录太多，导致数据库操作太慢。所以，把数据分区。数据分区有很多种做法，一般来说有下面这几种：</p><p>1）把数据把某种逻辑来分类。比如火车票的订票系统可以按各铁路局来分，可按各种车型分，可以按始发站分，可以按目的地分……，反正就是把一张表拆成多张有一样的字段但是不同种类的表，这样，这些表就可以存在不同的机器上以达到分担负载的目的。</p><p>2）把数据按字段分，也就是竖着分表。比如把一些不经常改的数据放在一个表里，经常改的数据放在另外多个表里。把一张表变成1对1的关系，这样，你可以减少表的字段个数，同样可以提升一定的性能。另外，字段多会造成一条记录的存储会被放到不同的页表里，这对于读写性能都有问题。但这样一来会有很多复杂的控制。</p><p>3）平均分表。因为第一种方法是并不一定平均分均，可能某个种类的数据还是很多。所以，也有采用平均分配的方式，通过主键ID的范围来分表。</p><p>4）同一数据分区。这个在上面数据镜像提过。也就是把同一商品的库存值分到不同的服务器上，比如有10000个库存，可以分到10台服务器上，一台上有1000个库存。然后负载均衡。</p><p>这三种分区都有好有坏。最常用的还是第一种。数据一旦分区，你就需要有一个或是多个调度来让你的前端程序知道去哪里找数据。<strong>把火车票的数据分区，并放在各个省市，会对12306这个系统有非常有意义的质的性能的提高</strong>。</p><br>四、后端系统负载均衡<p>前面说了数据分区，数据分区可以在一定程度上减轻负载，但是无法减轻热销商品的负载，对于火车票来说，可以认为是大城市的某些主干线上的车票。这就需要使用数据镜像来减轻负载。使用数据镜像，你必然要使用负载均衡，在后端，我们可能很难使用像路由器上的负载均衡器，因为那是均衡流量的，因为流量并不代表服务器的繁忙程度。因此，我们需要一个任务分配系统，其还能监控各个服务器的负载情况。</p><p>任务分配服务器有一些难点：</p><ul><li>负载情况比较复杂。什么叫忙？是CPU高？还是磁盘I/O高？还是内存使用高？还是并发高？还是内存换页率高？你可能需要全部都要考虑。这些信息要发送给那个任务分配器上，由任务分配器挑选一台负载最轻的服务器来处理。</li><li>任务分配服务器上需要对任务队列，不能丢任务啊，所以还需要持久化。并且可以以批量的方式把任务分配给计算服务器。</li><li>任务分配服务器死了怎么办？这里需要一些如Live-Standby或是failover等高可用性的技术。我们还需要注意那些持久化了的任务的队列如何转移到别的服务器上的问题。</li></ul><p>我看到有很多系统都用静态的方式来分配，有的用hash，有的就简单地轮流分析。这些都不够好，一个是不能完美地负载均衡，另一个静态的方法的致命缺陷是，如果有一台计算服务器死机了，或是我们需要加入新的服务器，对于我们的分配器来说，都需要知道的。另外，还要重算哈希（一致性hash可以部分解决这个问题）。</p><p>还有一种方法是使用抢占式的方式进行负载均衡，由下游的计算服务器去任务服务器上拿任务。让这些计算服务器自己决定自己是否要任务。这样的好处是可以简化系统的复杂度，而且还可以任意实时地减少或增加计算服务器。但是唯一不好的就是，如果有一些任务只能在某种服务器上处理，这可能会引入一些复杂度。不过总体来说，这种方法可能是比较好的负载均衡。</p><br>五、异步、 throttle 和 批量处理<p>异步、throttle（节流阀） 和批量处理都需要对并发请求数做队列处理的。</p><ul><li>异步在业务上一般来说就是收集请求，然后延时处理。在技术上就是可以把各个处理程序做成并行的，也就可以水平扩展了。但是异步的技术问题大概有这些，a）被调用方的结果返回，会涉及进程线程间通信的问题。b）如果程序需要回滚，回滚会有点复杂。c）异步通常都会伴随多线程多进程，并发的控制也相对麻烦一些。d）很多异步系统都用消息机制，消息的丢失和乱序也会是比较复杂的问题。</li><li>throttle 技术其实并不提升性能，这个技术主要是防止系统被超过自己不能处理的流量给搞垮了，这其实是个保护机制。使用throttle技术一般来说是对于一些自己无法控制的系统，比如，和你网站对接的银行系统。</li><li>批量处理的技术，是把一堆基本相同的请求批量处理。比如，大家同时购买同一个商品，没有必要你买一个我就写一次数据库，完全可以收集到一定数量的请求，一次操作。这个技术可以用作很多方面。比如节省网络带宽，我们都知道网络上的MTU（最大传输单元），以态网是1500字节，光纤可以达到4000多个字节，如果你的一个网络包没有放满这个MTU，那就是在浪费网络带宽，因为网卡的驱动程序只有一块一块地读效率才会高。因此，网络发包时，我们需要收集到足够多的信息后再做网络I/O，这也是一种批量处理的方式。批量处理的敌人是流量低，所以，批量处理的系统一般都会设置上两个阀值，一个是作业量，另一个是timeout，只要有一个条件满足，就会开始提交处理。</li></ul><p>所以，<strong>只要是异步，一般都会有throttle机制，一般都会有队列来排队，有队列，就会有持久化，而系统一般都会使用批量的方式来处理</strong>。</p><br><p><a href="http://blog.codingnow.com/2012/01/ticket_queue.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">云风同学设计的“排队系统”<i class="icon-external"></i></a> 就是这个技术。这和电子商务的订单系统很相似，就是说，我的系统收到了你的购票下单请求，但是我还没有真正处理，我的系统会跟据我自己的处理能力来throttle住这些大量的请求，并一点一点地处理。一旦处理完成，我就可以发邮件或短信告诉用户你来可以真正购票了。</p><br><p>在这里，我想通过业务和用户需求方面讨论一下云风同学的这个排队系统，因为其从技术上看似解决了这个问题，但是从业务和用户需求上来说可能还是有一些值得我们去深入思考的地方：</p><br><p>1）<strong>队列的DoS攻击</strong>。首先，我们思考一下，这个队是个单纯地排队的吗？这样做还不够好，因为这样我们不能杜绝黄牛，而且单纯的ticket_id很容易发生DoS攻击，比如，我发起N个 ticket_id，进入购票流程后，我不买，我就耗你半个小时，很容易我就可以让想买票的人几天都买不到票。有人说，用户应该要用身份证来排队， 这样在购买里就必需要用这个身份证来买，但这也还不能杜绝黄牛排队或是号贩子。因为他们可以注册N个帐号来排队，但就是不买。黄牛这些人这个时候只需要干一个事，把网站搞得正常人不能访问，让用户只能通过他们来买。</p><br><p>2）<strong>对列的一致性</strong>？对这个队列的操作是不是需要锁？只要有锁，性能一定上不去。试想，100万个人同时要求你来分配位置号，这个队列将会成为性能瓶颈。你一定没有数据库实现得性能好，所以，可能比现在还差。<strong>抢数据库和抢队列本质上是一样的</strong>。</p><br><p>3）<strong>队列的等待时间</strong>。购票时间半小时够不够？多不多？要是那时用户正好不能上网呢？如果时间短了，用户不够时间操作也会抱怨，如果时间长了，后面在排队的那些人也会抱怨。这个方法可能在实际操作上会有很多问题。另外，半个小时太长了，这完全不现实，我们用15分钟来举例：有1千万用户，每一个时刻只能放进去1万个，这1万个用户需要15分钟完成所有操作，那么，这1千万用户全部处理完，需要1000*15m = 250小时，10天半，火车早开了。（我并非信口开河，<a href="http://t.cn/z0g7dGJ" class=" wrap external" target="_blank" rel="nofollow noreferrer">根据铁道部专家的说明<i class="icon-external"></i></a>：这几天，平均一天下单100万，所以，处理1000万的用户需要十天。这个计算可能有点简单了，我只是想说，<strong>在这样低负载的系统下用排队可能都不能解决业务问题</strong>）</p><br><p>4）<strong>队列的分布式</strong>。这个排队系统只有一个队列好吗？还不足够好。因为，如果你放进去的可以购票的人如果在买同一个车次的同样的类型的票（比如某动车卧铺），还是等于在抢票，也就是说系统的负载还是会有可能集中到其中某台服务器上。因此，最好的方法是根据用户的需求——提供出发地和目的地，来对用户进行排队。而这样一来，队列也就可以是多个，只要是多个队列，就可以水平扩展了。这样可以解决性能问题，但是没有解决用户长时间排队的问题。</p><br><p>我觉得完全可以向网上购物学习。<strong>在排队（下单）的时候，收集好用户的信息和想要买的票，并允许用户设置购票的优先级，比如，A车次卧铺买 不到就买 B车次的卧铺，如果还买不到就买硬座等等，然后用户把所需的钱先充值好，接下来就是系统完全自动地异步处理订单</strong>。成功不成功都发短信或邮件通知用户。这样，系统不仅可以省去那半个小时的用户交互时间，自动化加快处理，还可以合并相同购票请求的人，进行批处理（减少数据库的操作次数）。<strong>这种方法最妙的事是可以知道这些排队用户的需求，不但可以优化用户的队列，把用户分布到不同的队列，还可以像亚马逊的心愿单一样，通过一些计算就可以让铁道部做车次统筹安排和调整</strong>（最后，排队系统（下单系统）还是要保存在数据库里的或做持久化，不能只放在内存中，不然机器一down，就等着被骂吧）。</p><br><br><h4>小结</h4><p>写了那么多，我小结一下：</p><br><p>0）<strong>无论你怎么设计，你的系统一定要能容易地水平扩展</strong>。也就是说，你的整个数据流中，所有的环节都要能够水平扩展。这样，当你的系统有性能问题时，“加30倍的服务器”才不会被人讥笑。</p><br><p>1）<strong>上述的技术不是一朝一夕能搞定的，没有长期的积累，基本无望</strong>。我们可以看到，无论你用哪种都会引发一些复杂性，设计总是在做一种权衡。</p><br><p>2）集中式的卖票很难搞定，使用上述的技术可以让订票系统能有几佰倍的性能提升。而在<strong>各个省市建分站，分开卖票，是能让现有系统性能有质的提升的最好方法</strong>。</p><br><p>3）<strong>春运前夕抢票且票量供远小于求这种业务模式是相当变态的</strong>，让几千万甚至上亿的人在某个早晨的8点钟同时登录同时抢票的这种业务模式是变态中的变态。业务形态的变态决定了无论他们怎么办干一定会被骂。</p><br><p>4）<strong>为了那么一两个星期而搞那么大的系统</strong>，而其它时间都在闲着，有些可惜了，这也就是铁路才干得出来这样的事了。</p><br><p><em><strong>更新2012年9月27日 </strong></em></p><p><strong> Alexa 统计的12306的PV</strong> （注：Alexa的PV定义是：一个用户在一天内对一个页面的多次点击只算一次）</p><noscript><img src="http://pic3.zhimg.com/9d34a6a6320340e986ce8551568959b6_b.jpg" data-rawwidth="800" data-rawheight="440" class="origin_image zh-lightbox-thumb" width="800" data-original="http://pic3.zhimg.com/9d34a6a6320340e986ce8551568959b6_r.jpg"></noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="800" data-rawheight="440" class="origin_image zh-lightbox-thumb lazy" width="800" data-original="http://pic3.zhimg.com/9d34a6a6320340e986ce8551568959b6_r.jpg" data-actualsrc="http://pic3.zhimg.com/9d34a6a6320340e986ce8551568959b6_b.jpg"><br><p>（<strong>本文转载时请注明作者和出处，请勿于记商业目的</strong>）</p><p><strong>（转载本站文章请注明作者和出处 <a href="http://coolshell.cn/" class=" wrap external" target="_blank" rel="nofollow noreferrer">酷 壳 – CoolShell.cn<i class="icon-external"></i></a> ，请勿用于任何商业用途）</strong></p><br><p>====================</p><br><br><b>注：有个地方要更新一下。</b><b>文中在比较 12306 和淘宝时提到：</b><blockquote>「去年（2011年）双11节，淘宝的每小时的订单数大约在60万左右。」<br><b>「</b>淘宝的双十一也就3百万用户，而火车票瞬时有千万级别甚至是亿级别的。<b>」</b></blockquote>文中这个数字现在已经不适用。淘宝的容量两年来有了巨大的提升。<br>2013 年淘宝双11的第一分钟，产生 33.9 万笔交易，有 1370 万人次同时在线。第二分钟和第三分钟成交笔数分别为 111 万笔和 190 万笔。交易峰值出现在 1 分 27 秒，1 秒钟内，13637 人同时成功付款。数据来源：<a href="http://www.techweb.com.cn/internet/2013-11-11/1354937.shtml" class=" wrap external" target="_blank" rel="nofollow noreferrer">双11当天6小时内支付宝交易额突破百亿_TechWeb<i class="icon-external"></i></a>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3776838-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21447233">编辑于 2014-01-14</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>67 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="7250395"
data-atoken="29666652"
data-collapsed="0"
data-created="1408941989"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="1659.12398225"


>
<a class="zg-anchor-hidden" name="answer-7250395"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">1020</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$LinkinBryant"
class="zm-item-link-avatar"
href="/people/LinkinBryant">
<img src="http://pic1.zhimg.com/663fd70d8_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/663fd70d8_s.jpg" />
</a>



<a data-tip="p$t$LinkinBryant" href="/people/LinkinBryant">林布</a>，<strong title="攒钱买Ψ烦心orz" class="zu-question-my-bio">攒钱买Ψ烦心orz</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="1020">

<span class="voters">
<span class="user-block"><a data-tip="p$t$bo-bo-34-41" href="http://www.zhihu.com/people/bo-bo-34-41" class="zg-link" title="薄薄">薄薄</a>、</span><span class="user-block"><a data-tip="p$t$da-dan-89" href="http://www.zhihu.com/people/da-dan-89" class="zg-link" title="大胆">大胆</a>、</span><span class="user-block"><a data-tip="p$t$xiao-dao-72" href="http://www.zhihu.com/people/xiao-dao-72" class="zg-link" title="小刀">小刀</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">看了几个高票答案，有点着急。<br><br>12306最让人诟病的是频繁崩溃，而洗地的人讨论的是票够不够卖。<br><br>话放在这里，<b>12306根本没有用心在做。<br></b><br>我以前是干前端的，sever端很多东西我不懂，也知道难度极大。我无意于评论后端的水平，但是我们可以通过看得见的东西来讨论太极是用什么人，什么态度去做这个网站。<br><br>简单的说：无论数据库那边有多难，至少前端都不应该做成这么落后，混乱，业余的样子。<br><br><br>数据库上面的问题讨论的很多了，我不搀和。最差的情况下，哪怕数据库方面直接挂掉了，至少页面也应该是活着的啊。<br>这里我负责任的说一句，12306的前端，到目前为止依旧是一滩狗屎（目前:2014.8.25默认使用的版本）<br>你可以说IBM和阿里解决不了所有的问题，起码他们不能帮你造铁路。不过就12306前端体现出的<b>本科毕设水平</b>，也好意思这么说吗？<br><blockquote>「挟太山以超北海，语人曰『我不能』，是诚不能也。为长者折枝，语人曰『我不能』，是不为也，非不能也。<br></blockquote>算了先不吐槽，上点啥内容<br>我为什么说，12306的前端是落后过时的<br><br><br><br>----------<b>郑重声明：我欢迎任何形式的讨论，但是认为我在讨论外观/体验，UI/UE的请回去重新学习中学语文再来评论</b>--------------<br><br>很多细节，我随便列举<br><ul><li>页内js写的到处都是，东一片西一片，很难维护</li><br><li>css技术落后，多个icon图片分开加载，完全可以用css切割来减少请求次数，提高效率</li><br><li>js技术老旧且极不成熟：使用jquery 1.4.2也就罢了，页内有大量字符串拼接html然后用$jq.html()方法写入的语句，很难维护，可读性低。</li><li>许多本应私有方法暴露在window对象下，比如getQueryParamValue这种，对安全性和可维护性都十分不利</li><br><li>资源加载未优化：除了现成的控件以外，js没有经过压缩和混淆，不过比我上一次看（12年底）的时候，大段大段的注释要好一些。此外资源加载次序没有优化调整，一些不重要的js文件在head处加载，没必要</li><br><li>前端技术不但落后，而且混乱，没有统一。在选取dom元素方面，一个页面里同时存在jQuery的选择器以及document.getElementById的方法。同时Jquery控件和接近被淘汰的flash控件混用来呈现了一个很混乱的前端代码</li><li>html的命名简直不知所谓，indexLeft下面是newLeft，newRight...谁知道这是什么跟什么啊。对后来的维护势必造成困扰。相比之下二维码的div叫做erweima还算比较萌</li><li><a data-title="@stone moai" data-editable="true" class="member_mention" href="http://www.zhihu.com/people/59256d81824b3bacbd62cc604b472a58" data-hash="59256d81824b3bacbd62cc604b472a58" data-tip="p$b$59256d81824b3bacbd62cc604b472a58">@stone moai</a> 同学在评论里提及，打开这个页面<a href="https://kyfw.12306.cn/otn/queryTrainInfo/init" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">kyfw.12306.cn/otn/query</span><span class="invisible">TrainInfo/init</span><span class="ellipsis"></span><i class="icon-external"></i></a>，结果发现head里加载了这样一个js文件<a href="https://kyfw.12306.cn/otn/resources/js/query/train_list.js?scriptVersion=1.3462" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">kyfw.12306.cn/otn/resou</span><span class="invisible">rces/js/query/train_list.js?scriptVersion=1.3462</span><span class="ellipsis"></span><i class="icon-external"></i></a>。请求大小是1.7M。存储的是全国所有车次的  ([车次号(路线],[对应数据库ID])。为了完成一个输入框自动完成的功能。<br><b>简直不可思议！</b><br>这就是一个小型的静态数据表，完全可以存放在数据库中用ajax来查询。如果担心请求次数对服务器的压力的话，可以租用一个第三方的服务器来解决。但是他们的做法是，把这个丢在了JS里。<br>丢在JS里不是不可以，但是这种巨大的非必须文件本应在document.load事件里来异步加载。但是他们的做法是，把这个丢在了head下面。我...一口老血</li></ul><br><br><p><i>UI设计过时丑陋那真的不用我多说了，设计问题我也管不着。不过这分明就是5000块钱的外包模板而已啊。</i></p><br><p><b>总体来说，以12306前端技术的落后，业余，低效，混乱。</b>以此来看，我很难相信他们的在数据库方面能够有多么好的表现。我还是得说，这就是一帮子大学生现学现卖的毕设水平，作为这个级别的网站而言，就是一滩屎，连个坨都没有——好歹一坨屎也是成形的屎。</p><br><p>说起来我之前看到他们的大段注释的时候，还看的出来他们在规章制度上挺严格，注释写的一板一眼的。但是实际上也就是制度上严格而已，管理上十分混乱，连一个统一前端技术方案都没有，才会闹getElementById和jQuery选择器大规模混用的笑话。</p><p>至于其他一些不利于快速加载，不利于减少请求，减少响应时间的小毛病，不是大问题，对于学生毕设来说可以接受。但是连这些很低级很基础的举手之劳都做不好或者不想做的，你网站崩溃确实是有客观的原因，但是就这样还好意思说什么客观条件？</p><br><br><p><b>项羽说天要亡我非战之罪情有可原，你一马谡自己不好好做事把自己弄死了，还怪王平不给力，好意思吗。</b></p><br><br><br><p>几点说明</p><ol><li>前端的代码浏览器里都能看到，写的好坏大家一看便知。至于后台，不了解，不多说。对于某些对技术一无所知还来摆酸话的，我希望知乎能出一个自定义评论验证码。比如现在我就想弄一个"写一个超链接"的验证码，能过滤到很多没有价值的评论。</li><li>重复：<b>我真的没有在讨论任何和外观体验有关的话题</b></li><li>针对“虽然前端硬伤但是不影响整体，后台多努力你造吗”——或者根本选择无视前端硬伤的：<br>我更关注的是开发团队的<b>技术实力</b>，而就其前端而言，选用的技术古旧体现出的落后，基本优化缺失体现出的毛糙业余，同一个页面使用不同技术方案体现出的毫无管理，都是伴随团队的整个开发过程的。<br>做出这样一个落后业余混乱前端的团队，是绝对没有实力做出一套好的解决方案的。<br>前端的性能问题或者别的问题相对于其数据问题确实不是一个大问题，但是前端落后业余混乱的硬伤表现出的开发者团队能力的问题，则比起数据来说是一个更具体更现实的问题了，除非有证据能证明后台开发的团队是另一个技术实力远强于前端的团队。<br>更何况以前端的业余程度来说，他们负责代码审查和白盒测试的团队恐怕也....</li><li>竟然真的看到了类似于，出于高并发系统的难度，前端代码质量和水平要为其让路这样的神论断。我希望持有这个论断的知友能够把他的理论依据就事论事的和目前我们能看到的前端代码结合在一起。<br>简单的说，就是指出某一段具体的代码”为什么不能写成更高质量，而只能以目前这种水平完成“。talk is cheap</li></ol>


</div>

</div>
<a class="zg-anchor-hidden ac" name="7250395-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-08-25" target="_blank" href="/question/22451397/answer/29666652">编辑于 2014-08-27</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>417 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3768493"
data-atoken="21426532"
data-collapsed="0"
data-created="1388983693"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="23021.1252378"


>
<a class="zg-anchor-hidden" name="answer-3768493"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">12K</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$xpenryn"
class="zm-item-link-avatar"
href="/people/xpenryn">
<img src="http://pic1.zhimg.com/234f53502fd5c81570b39bb1414c0750_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/234f53502fd5c81570b39bb1414c0750_s.jpg" />
</a>



<a data-tip="p$t$xpenryn" href="/people/xpenryn">王强</a>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="12518">

<span class="voters">
<span class="user-block"><a data-tip="p$t$dan-qing-tao" href="http://www.zhihu.com/people/dan-qing-tao" class="zg-link" title="单庆涛">单庆涛</a>、</span><span class="user-block"><a data-tip="p$t$yang-yue-69-14" href="http://www.zhihu.com/people/yang-yue-69-14" class="zg-link" title="杨月">杨月</a>、</span><span class="user-block"><a data-tip="p$t$leogogo100" href="http://www.zhihu.com/people/leogogo100" class="zg-link" title="leo袁">leo袁</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><p>12306首秀被骂的狗血喷头后铁道部找来IBM、阿里巴巴等大企业要解决方案，给出的条件是资金管够但是问题得解决。几大企业最后都拒绝了（其中阿里巴巴最后负责了排队系统的建设）。12306开始自己尝试解决问题。他们发现市面上可以买到的成套解决方案都不足以应付春运购票负载，所以只能自己改进已有的数据库（注：其实是改用<a href="http://www.vmware.com/cn/products/vfabric-sqlfire/overview.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">VMware SQLFire/GemFire<i class="icon-external"></i></a>，这里我之前理解错误）。以前12306用的是小型机，发现性能严重不足，遂改用x86系统+linux平台（原平台为<a href="http://en.wikipedia.org/wiki/HP_Superdome" class=" wrap external" target="_blank" rel="nofollow noreferrer">HP Superdome<i class="icon-external"></i></a>小型机，UNIX系统，<a href="http://en.wikipedia.org/wiki/Adaptive_Server_Enterprise" class=" wrap external" target="_blank" rel="nofollow noreferrer">Sybase ASE<i class="icon-external"></i></a>数据库）。最后他们的核心系统用了十几个节点（现在应该是17节点）的多路Xeon E7（具体几路待考），每个节点配1TB内存，数据库全部在内存中运行。2013年春运，12306系统峰值负载11万tps，与2012年淘宝双11活动峰值负载相当，新的系统基本经受住了考验。</p><br><p><i>补充：以上内容是我在2013年7月得知的信息，彼时没有任何公开来源提到过12306新系统的技术细节。甚至，当时局外人没人知道12306已经在2012年开始做了技术改造。直到数日之前，铁总首次向媒体公开了技术改造的详情：</i><a href="http://server.chinabyte.com/151/12820151.shtml" class=" wrap external" target="_blank" rel="nofollow noreferrer">分布式集群内存数据技术引领12306技术革命<i class="icon-external"></i></a><i>。这篇文章给出的细节，与我之前看到的内容完全一致。由此我可以确信信息来源是此次技术升级的核心人士。</i></p><p><i>另外，关于第三方合作对方给出的信息是IBM、Oracle、Sybase全部不能满足要求，主要是这些厂商的方案部署以后，要升级时不能做到不停机灵活扩展。也就是说，IBM没有做到是他们技术不足“搞不定”。阿里巴巴参与了改造，负责了排队系统。此外，虽然后端经受住了压力，前端却如大家所看到的那样还是频频卡死。到底卡死的原因是前端水平太低还是访问压力太大，暂时没有可靠的信息供判断。</i></p><br><p>淘宝的问题是其系统架构是分散度较高的，各个订单之间关联度不大；而12306每出一张票都要对全线路做数据更新（因为一条线路存在多个站点），因此系统负载相较淘宝来说集中很多，直接搬淘宝的方案也无法解决问题。淘宝的应用类型决定了阿里巴巴可以通过部署大量的服务器来分散压力，但12306就不行。其实他们的核心系统的硬件成本不过数百万，不是他们不想采购更多服务器，而是买更多的服务器也没什么用途。最后，在经过软件层面的优化之后，12306的瓶颈其实是核心节点的CPU、内存性能。但是这个性能的提升不是朝夕的事情，而是受限于摩尔定律，基本上每两年才能翻一倍多些。（这段话是我自己的分析，不过现在12306的后端数据库系统应付现有需求已经够用了）</p><i>补充：关于座位实时复用，我看到的信息明确表明12306出票时，每出一张区间票都要实时调整该线路其他受影响区间段的余票数量，且这是很大的压力来源；另外，对方表示所使用的GemFire数据库与简单的memcache/redis数据缓冲不同，有着本质区别。</i><br><p>==========================</p><p>然后我说点对铁路系统购票困难现象的看法：</p><br><p>一种商品只要出现供不应求现象，那么结果只有两种：大家排队购买；出现黑市，变相提高商品的流通价格并抑制需求。</p><br><p>12306这个事情，就是标准的限价商品供不应求之后出现排队与黑市现象的例子。因为供不应求，所以有了黄牛、抢票软件与秒杀。如果供应充足，一个车次直到发车前都有一两张余票，那么黄牛、抢票就毫无存在价值，旅客也用不着守在电脑前和其他人比拼手速和网速以及电脑性能网络性能了。</p><br><p>现在供应不足的前提下，12306就算把系统做的性能再高，也只是会加快热门车次票务秒杀的速度而已——而这更会刺激抢票软件，大家为了在更短的时间里成功抢到队列名额就会不断提升自己的抢票性能。打个比方说就是一个店门前排队，消费者为了增加买到商品的概率去雇人代排，每个消费者都雇了好多人，造成店门口的通道拥挤不堪。为了减缓拥堵，商家不断拓宽通道，但每次一拓宽消费者们就会增加雇佣的排队劳力把新增的通道空间占满，形成恶性循环。这样下去，只要还存在供不应求的现象，这种循环就不会有终止的时候。也就是说，12306的问题主要不是出在网站本身。</p><br><p>那么怎样解决供应不足的问题？这么多年来铁路不断升级运力修建新线，已经建成全球最庞大的铁路运输系统，可是到了春运还是只能勉强应付。从这个角度来说铁路部门在供应不足的问题上也不该承担太大责任，他们已经做得很不错了。</p><br><p>那么问题的根源就出在不断增加的需求上了。为什么我国铁路系统需要承担如此庞大的客运流量需求？很显然，是因为全国范围的人口流动。大量务工上学人员过节要返乡，节后回驻地，这个刚性需求是合理的。可是为什么他们必须要到外地去打工上学？为什么数以亿计的人员要远离家乡去谋生求学？</p><br><p>最后我们会发现，区域发展不平衡才是罪魁祸首。正因为多少人在家乡无法得到足够的机会与资源，他们必须到发达地区奋斗和实现自己的价值。只要这种不平衡现象还在继续，每年春节前后就不可避免地出现大批人员全国范围流动的情况，就不可避免地出现运输能力不足的尴尬。改进12306也好，增加铁路网投资也好，最终都只是治标不治本。如果这个社会不去直面根本问题，那么这些表象的症结永无解开的时候。</p><br><p>说起来，有几个人愿意背井离乡呢？</p><p>=============================================</p><p>然后这个问题争了几天，我实在忍不住要吐槽一下了：</p><br><p>12306这个事情，网上有多少网友从一开始就献计献策了，也有不少网友提供了很不错的建议。但不得不说，很多网友在提建议时完全就是一种居高临下、自以为是的态度，上来就先认定需求简单可以轻松应付，随便有点经验的工程师就能搞定，12306出问题全怪体制太烂，国企效率低下，一帮人光拿钱不做事，技术水平太低……</p><br><p>淘宝2013年双11活动，峰值流量是一秒钟完成1.3万笔订单。12306在2014年1月6日全天网络出票400万张。看起来双11流量完爆12306是吧？等等！别忘了12306这400万张票可不是全天悠悠闲闲平均地卖出去的，而是分成10个时段集中被抢走的。每个时段开始放票后数分钟之内大部分票就已经被抢光了。以每个时段40万票，峰值持续三分钟估算，高峰期一分钟出票在10万张以上毫不夸张。诚然，一分钟10万订单还比不上淘宝2013双11，但别忘了一年以前阿里巴巴也只是达到了一分钟15万订单的水平而已（并且在高峰期一样卡爆）。而且一分钟10万出票还满足不了需求的，以旅客购票的热情来看，达到一分钟50万票都不一定能让所有旅客满意。</p><br><p>淘宝在2012年双11时已经是业界顶尖水平了，其软硬件技术皆为自主研发，既便如此面对一分钟十几万的订单量都会卡死。请问，觉得12306“需求简单，问题可以轻松解决”的，是不是水平已经高到了阿里巴巴都要请你们去领导整个技术团队的级别呢？是不是你们的方案可以轻松应付每分钟数十万笔订单，达到全球一流水平了？</p><br><p>淘宝面临的需求是业界从未有过的，所以淘宝的路很艰难。12306面临的需求是其他人遇到过的么？全世界哪个国家、哪种客运票务系统敢说自己的负载达到12306三分之一的水平？面对空前庞大的压力，诸位“技术高手”只是凭着自己一点程序员的经验，在电脑前一个人思考上一会儿就给出个“简单、实用、省钱、轻松应付”的解决方案——你们知不知道“自大”这两个字怎么写啊？</p><br><p>作为局外人，本来就难以了解铁路售票系统内部的业务逻辑。想出建议可以，那么是不是先收集些信息，了解下背景？是不是先拉出一份需求清单来，把客户的想法搞明白搞清楚了，然后再考虑技术实现？能不能不要上来就想着技术上怎么方便怎么做，把客户需求随意地简化？好多人提的方案在票务供应不足的情况下直接就超售了，难道你要让旅客前一分钟还为订到票高兴，下一分钟对着“您的票被取消”的提示破口大骂么？或者订票延迟确认——知不知道旅客看到选择的车次没能买到票后会做什么？马上去看其他车次有没有票啊！你延迟确认几分钟，然后对排队的账户做抽签，多少旅客会觉得自己被耽误了啊！旅客的要求就是速度越快越好，最好是下订单后一秒钟出结果才安心哩。这还仅仅是简单想一下就能知道的问题，局外人不了解或不能轻易想到的问题又有多少？诸位高谈阔论时，有没有虚心地去找找内部人士了解或者搜索类似的票务系统的研究论文？真觉得自己的头脑聪明绝顶，连背景调查都不做就可以轻松把握所有细节？还有，你们想出来的方案做没做过实验啊？考虑没考虑过硬件适配性啊？你们了解现在市面上能买到的硬件系统，什么样级别的能满足可靠性、性能和可扩展性、可维护性的需求么？你们在多路服务器平台上验证过你们的分布式数据库构想么？哦原来你们什么都没做过，怕是连多节点集群互联该用什么连接方式都不知道，你们拍下脑瓜，一句“那些问题都好解决”就完事儿了？就算你们自己没做过，找找类似的案例会累死么？研究下别人做过的经验就不够高贵冷艳么？就贬低自己技术水平了么？连类似的案例研究都没有，随口就是别人做得到我做得到，真觉得自己写过几行代码就多么伟大了么？</p><br><p>还有一些人，看说IBM没做就一口认定是12306故意排挤IBM，认定IBM解决这问题肯定没压力。好嘛，IBM什么时候做过如此规模的票务系统了？你细节什么都不知就预设结论了？为啥淘宝当年没选择IBM作为方案提供商而是自主研发？IBM的大数据业务主要集中在金融领域，这不代表它在其他领域就样样精通好不好？它能拿出的方案无非是Power7小型机平台，Power7在数据库性能上又比Xeon E7强多点？然后Power7系统卖多少钱了解么？后续维护难度多大了解么？把适合银行金融行业的平台放到12306来真的合适么？说起来，不就是因为“12306”和“IBM”这俩名字放一起，诸位内心里首先就给前者打了负分对后者仰视么？要是把“12306”换成“nasdaq”，那结论就又是一回事儿了——哦正好nasdaq没用IBM方案，可见nasdaq是排挤IBM内部人赚黑心钱是吧？不过2013年工商银行系统升级故障，应该是和方案提供商IBM无关的，肯定是国企的体制问题无误！</p><br><p>评价一个事物，首先不是了解背景、研究问题产生的原因，首先是看被评价者处于什么立场，打着什么标签。如果是“敌对阵营”那就毫不犹豫地踩上一脚再说话，接下来就算研究也只研究“它的错误在哪儿”，不考虑“它也有对的可能性”。在12306这个问题上就是：12306是国企，是铁总下属机构，所以它出了问题一定是自身原因。票务系统做不好一定是铁路方面不懂技术，把该用来请大企业做方案的钱自己贪掉了，一定不可能是大企业都没信心解决这问题。旅客普遍使用抢票软件也是12306的责任，不是供应不足的原因……</p><br><p>最后呢？12306还是做到了全球最强的客运票务系统。一贯被认为是因循守旧的国企，在选择技术方案时放弃沿用多年的小型机/UNIX平台去拥抱业界还是新鲜事物的基于x86/linux的大规模分布内存数据库系统，承受住了堪比2012年淘宝双11的压力。在这个领域，12306可以自豪地说自己是做的最好的案例。它还在卡，还是偶尔崩溃，页面还是难看，可是这些迟早会改进。这个过程中也还是会有冷嘲热讽，还是会有所谓的大牛指点江山，但最终解决春运高峰期一天数百万张秒杀售票的，还是12306自己。</p><br><p>所以，走自己的路，让别人去说吧。</p><p>=======================================================</p><p>下面我说说12306系统改进面临的一些问题，一些网友提出的解决方案的可行性。</p><br><p>1.“超级计算机能不能用于12306？”——不能，详情见这个<a href="http://www.zhihu.com/question/21217971/answer/17575573" class="internal">页面</a>；</p><br><p>2.“能不能用一个服务器甚至一个集群处理一个车次来加快速度？”——没有意义，处理速度在硬件上主要受限于每个CPU线程获得的内存带宽与延迟，其中内存延迟更重要一些。一个核心处理还是一台服务器处理，内存延迟这个参数是没什么区别的；</p><br><p>3.“能不能在多地建立集群，分别处理某地的车次？”——道理同上；</p><br><p>4.“能不能取消座位实时复用，降低处理压力？”——如果所有区间站的票数都是预先确定的，那么到最后必然会出现有的冷门区间座位空置的情况，这是旅客不希望看到的；</p><br><p>5.“能不能把座位实时复用改为延时复用，热门车次第一次放票后，根据区间之间的情况在下一个放票点调整各区间票额？”——这样做可以减轻计算压力，但是会让大量旅客在第一次订票失败后等待下一次放票，增加下一次放票的负载。而且这会干扰旅客的抢票计划，原来是一个车次没票后就去找下一个车次，现在是一个车次要抢两次甚至更多，反而让旅客更累；</p><br><p>6.“能不能改成预先排队抽签，放票前订票旅客在网上选择进入队列，放票后抽签决定，避免争抢”——很多人提出类似这样的主意。注意热门车次放票被抢光后，没买到票的旅客会立刻去找其他车次是否有票。也就是说即便有这个预排队功能，也不能阻止没去排队的旅客在放票开始之后去买票。对于热门车次而言，参与预排队的旅客抽签失败的概率非常高，而他们抽签失败后多数会失去对这个功能的信任，转而继续选择抢票的方式，于是很快大多数人都会放弃抽签。如果设定为只有参与预排队的旅客才能买到票，那么抽签失败的旅客就失去了对其他车次的选择权，结果更是一场灾难。希望提出类似方案的网友好好思考我上面这些内容。</p><br><p>7.“12306的负载不是比淘宝小很多么？”——淘宝2013年双11峰值订单数量一分钟79万笔，12306每次放票按500热门车次算，根据<a href="http://wx.sina.com.cn/news/m/2014-01-05/074734446.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">央视直播春运火车票抢票<i class="icon-external"></i></a> 这篇报道，热门车次峰值抢票速度在每分钟500票左右。很容易算出现在12306的峰值订单量在一分钟10万-30万的级别，与淘宝双11峰值是相同数量级。</p><br><p>我在前面提过供求关系是12306面临的核心问题，可能很多没有经济学基础的网友不太明白，我这里再详细解释下。</p><br><p>任何限价商品出现供不应求情况时，最终获得商品的大多数消费者支付的成本都是要超出商品本身的标价的。一个简单的例子，超市限量出售半价鸡蛋，大批顾客去抢购，虽然排队买到的顾客为鸡蛋本身花的钱少了，但是这些顾客付出了在那里排队的时间和人力成本。排了很久队才买到鸡蛋的顾客，为鸡蛋支付的时间与人力成本甚至可能超过了他买半价鸡蛋省下的金额。于此同时，限量供应的条件下必然有一些排队者最终没能买到鸡蛋。之所以有人买到鸡蛋有人没买到，大多数情况下是因为前者比后者付出了更多的成本；排队者是在跟其他排队者竞争，那些看到长长的队伍就放弃的潜在消费者就是竞争的失败者。</p><br><p>12306的情况也是如此。在现有的车票限价限量供应体系下，在某些高峰期有乘车需求的旅客数量大大超过了铁路系统在这些时间段的运输能力。在这个前提下，必然会有大量旅客无法在这些时间段买到车票，被迫改变出行计划或者出行方式；而买到票的旅客为车票支付的成本，大多数情况下都是高于甚至远高于车票本身的标价的。超出的这一部分成本，可以体现为向黄牛买票支付的溢价，可以体现为在车站售票口排队付出的时间精力，而到了12306的时代，就可以体现为为了抢到票而付出的等待成本。</p><br><p>因此，12306无论怎么改进，都不可能降低因为供求关系而产生的旅客获得车票的额外成本。12306改进的结果只是会改变这种额外成本的形式。以前没有网络订票，大家去售票厅排队或者一次又一次打电话；现在有了网络订票，大家在网上卡到骂娘。但大家吐槽12306的种种缺陷时，其实原因并不是旅客真的特别重视网站的美观程度、重视网页的代码是不是高水平，而是还有很多人没能按自己的心意买到车票。旅客对12306的需求只有一条——买到旅客需要的车票；可是12306无法解决这个需求。对于旅客来说，卡三个小时但买到了票的体验是60分，三次放票时每次都一秒钟就被告知票已售完的体验是0分。</p><br><p>于是12306的未来就会很麻烦。随着系统的改进升级，整套系统的负载能力会越来越强大。可是性能的提升意味着热门车次放票后售空的速度越来越快。上面引据的例子里，一个车次一分钟就卖掉500张票；性能改进后，最终达到的效果可能是5秒钟就卖掉全部票额。而对于旅客来说，卖票速度提升并不会减少他们为了获得车票而付出的额外成本——以前是买一张票卡10分钟半小时，现在一个订单几秒钟就确认了，但是为了能在几秒钟里抢过其他旅客，你需要提升你的电脑性能，增加你的网络带宽，降低你的网络延迟；你需要更强大的抢票软件，一秒钟内发起更多的请求……最后，你在硬件设备上增加的投入就是你付出的额外成本，相比之前你在等待网页响应时付出的时间成本来说只是换了形式。以前售票厅时代大家比拼谁去排队排的早，以后大家比拼谁的网络性能好。而且，12306的响应速度越快，旅客之间的设备军备竞赛也就会越激烈。最后，大家会为了降低几十毫秒的延迟购买国内的vpn通道，改用表现更好的网卡，跑到号称能提供更高抢票性能的网吧去抢票……然后还是会有大量用户因为竞争不过其他旅客而被迫改变出行计划或出行方式。而且当旅客纷纷提升自己设备的性能时，对12306的压力也会越来越大，12306自己也必须同步增加性能，投入越来越高的成本。从技术的角度讲，12306面对的是一个随着它自身性能增长而同步甚至更快提升的需求，具有这样残酷要求的类似案例就只有股票、期货电子交易市场而已。甚至，12306最终的压力可能会超过这些市场。</p><br><p>回到最开始的问题：12306包给知名大企业是否会更好？答案是，无论谁来做，最终结果都是一样。</p>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3768493-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-06" target="_blank" href="/question/22451397/answer/21426532">编辑于 2014-01-10</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>2383 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="12392743"
data-atoken="42498683"
data-collapsed="0"
data-created="1426821086"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="1.1230433978"


>
<a class="zg-anchor-hidden" name="answer-12392743"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">1</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$li-chu-wen-40"
class="zm-item-link-avatar"
href="/people/li-chu-wen-40">
<img src="http://pic3.zhimg.com/f1717046dff4cd0df01345e8dc594182_s.jpg"
class="zm-list-avatar"
data-source="http://pic3.zhimg.com/f1717046dff4cd0df01345e8dc594182_s.jpg" />
</a>



<a data-tip="p$t$li-chu-wen-40" href="/people/li-chu-wen-40">李楚文</a>，<strong title="擅长用图说话 某公司PM" class="zu-question-my-bio">擅长用图说话 某公司PM</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="1">

<span class="voters">
<span class="user-block"><a data-tip="p$t$yuan-xin-26" href="http://www.zhihu.com/people/yuan-xin-26" class="zg-link" title="袁欣">袁欣</a></span>
</span>


<span>赞同</span>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><a href="http://www.csdn.net/article/2015-03-03/2824091#0-tsina-1-1934-397232819ff9a47a7b7e80a40613cfe1" class=" wrap external" target="_blank" rel="nofollow noreferrer">技术揭秘12306改造（二）：探讨12306两地三中心混合云架构-CSDN.NET<i class="icon-external"></i></a><br><br><noscript><img src="http://pic2.zhimg.com/1a6060d069b8e45636df294d7792aca9_b.jpg" data-rawheight="400" data-rawwidth="600" class="origin_image zh-lightbox-thumb" width="600" data-original="http://pic2.zhimg.com/1a6060d069b8e45636df294d7792aca9_r.jpg">具体可以参考</noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawheight="400" data-rawwidth="600" class="origin_image zh-lightbox-thumb lazy" width="600" data-original="http://pic2.zhimg.com/1a6060d069b8e45636df294d7792aca9_r.jpg" data-actualsrc="http://pic2.zhimg.com/1a6060d069b8e45636df294d7792aca9_b.jpg">具体可以参考


</div>

</div>
<a class="zg-anchor-hidden ac" name="12392743-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/42498683">发布于 2015-03-20</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>添加评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3780674"
data-atoken="21456711"
data-collapsed="0"
data-created="1389071450"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="693.125242819"


>
<a class="zg-anchor-hidden" name="answer-3780674"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">476</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
<h3 class="zm-item-answer-author-wrap">匿名用户</h3></div>
<div class="zm-item-vote-info " data-votecount="476">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xiao-dao-72" href="http://www.zhihu.com/people/xiao-dao-72" class="zg-link" title="小刀">小刀</a>、</span><span class="user-block"><a data-tip="p$t$wolegeq" href="http://www.zhihu.com/people/wolegeq" class="zg-link" title="默默地EEer">默默地EEer</a>、</span><span class="user-block"><a data-tip="p$t$asukayuyan" href="http://www.zhihu.com/people/asukayuyan" class="zg-link" title="于贺">于贺</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">=~~~~=<br>更新内容：<br>=~~~~=<br>王强已经对那个段子做了一些修改，但问题依然存在：<br><ol><li>段子之后的描述混淆了「买票难」和「12306网站做的烂」两个概念，前者是票难买，后者是12306难用。对于前者我非常理解，但后者才是本题的重点；</li><li>尽管还是不咋地，但12306的改善有目共睹，这点无可否认，我也从未否认。<br>可12306是否改善了并不能说明任何问题。雷军说的好，台风口上猪都会飞，2011年6月上线到现在几年时间加重金投入都没改善的话，真当科研人员是猪？</li><li>12306遇到的问题前所未有，12306是最大的订票系统，除了中国人口多，这不能说明什么，想论证题目还请参照第四点。<br>某个问题别人没遇到过，不代表不能解决，现在的承包公司显然也没遇到过，而且比起其他的大公司资历更浅，于此讨论没有任何意义；</li><li>讨论的重点在于，如果此任务外包给更有实力的公司，是否会更好（现在承包12306的是太极控股）。到目前为止王强答案能论证这点的只有「第二次招标钱管够但是别的公司技术不够不敢做」，关于这次招标王强仍未提供任何可查证的出处，只是声称12306的技术披露连带证明了整个段子的真实性；<br></li><li>王强的补充内容已经开始玩弄诛心论动机揣测那一套了，我对这道题本无兴趣，只是碰巧看过IBM方案被毙掉的新闻，对王强的小段子忍不住吐槽而已。<br>碰巧我上一次回答关于12306的问题还是在帮铁道部说话（<a href="http://www.zhihu.com/question/22145367/answer/21100462" class="internal">如何评价 12306 火车票订票网站的手机客户端？</a>）<br>屁股不正看世界，永远是歪的。</li><li>正如第五点，我对此题没兴趣，所以直接匿名取关。现在也厌烦了评论区五毛美分的口水仗，更新到此为止，关闭评论，有意见投票表达，亦可另开答案。</li></ol><br>另外我帮王强确认了第二次招标的存在：<br><a href="http://finance.sina.com.cn/stock/s/20130126/073714411327.shtml" class=" wrap external" target="_blank" rel="nofollow noreferrer">铁道部改造12306遭疑：通过太极股份买自家产品|12306|铁道部<i class="icon-external"></i></a><br><a href="http://epaper.stcn.com/paper/zqsb/html/epaper/index/content_405262.htm" class=" wrap external" target="_blank" rel="nofollow noreferrer">太极计算机股份有限公司关于铁道部新一代客票系统一期工程项目中标公告<i class="icon-external"></i></a><br>（证明这次改造早就有公开资料，所谓「局外人没人知道12306已经在2012年开始做了技术改造」证伪，至于他说的那几个技术细节是不是机密到「此次技术升级的核心人士」才知道，这点存疑）<br><br>基于现有资料，保留对于所谓「钱管够但是别的公司技术不够不敢做」的质疑，互联网大鳄阿里巴巴吓尿了，号称「智慧地球」的百年老店IBM吓尿了，结果在一期工程还是一坨屎的太极控股一拍脑袋提出了方案（引用来源提到，二期工程开头仍然是一坨屎，直到最近才有所改善），并且铁道部英明的预见了这次拍脑袋——你说这是神话，但我认为是童话。<br><br>除了王强的段子，其他的新闻都指向一个信息：铁道部利用太极控股自买自卖，然后太极控股做了一坨渣，尽管这坨渣最近已经没那么烂了。<br>=~~~~~=<br>原始答案：<br>=~~~~~=<br>我是来反对排名第一<a data-hash="789e2e68e5baf02a859da78a07527761" href="http://www.zhihu.com/people/789e2e68e5baf02a859da78a07527761" class="member_mention" data-editable="true" data-title="@王强" data-tip="p$b$789e2e68e5baf02a859da78a07527761">@王强</a> 答案的。<br><br>所谓「真假自辩」还真是一个有趣的托词，没任何引用来源和辅证途径，几近不可证伪。<br><br>我Google了一下 12306+IBM 搜索结果如下：<a href="https://www.google.com/#newwindow=1&amp;q=12306+ibm" class=" wrap external" target="_blank" rel="nofollow noreferrer">Google 搜索结果<i class="icon-external"></i></a><br><noscript><img src="http://pic2.zhimg.com/8676d4dc618dcedac0cb10e5647219c5_b.jpg" data-rawwidth="812" data-rawheight="609" class="origin_image zh-lightbox-thumb" width="812" data-original="http://pic2.zhimg.com/8676d4dc618dcedac0cb10e5647219c5_r.jpg"></noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="812" data-rawheight="609" class="origin_image zh-lightbox-thumb lazy" width="812" data-original="http://pic2.zhimg.com/8676d4dc618dcedac0cb10e5647219c5_r.jpg" data-actualsrc="http://pic2.zhimg.com/8676d4dc618dcedac0cb10e5647219c5_b.jpg"><a href="http://news.163.com/12/0111/09/7NFR4JUD00014L3C.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">12306招标:铁道部公司中标 IBM方案被毙<i class="icon-external"></i></a><br><a href="http://www.it863.com.cn/html/2012/it_0926/34571.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">太极中标铁道部12306网 IBM提1.9亿成熟方案被拒<i class="icon-external"></i></a><br><a href="http://news.itxinwen.com/2012/0112/376981.shtml" class=" wrap external" target="_blank" rel="nofollow noreferrer">12306故障频发 铁道部舍本逐末淘汰IBM遭抱怨|12306 IBM 网上订票<i class="icon-external"></i></a><br><a href="http://opinion.china.com.cn/opinion_43_31943.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">假如IBM成为12306的中标承建者？<i class="icon-external"></i></a><br><br>12306的中标机构为「太极控股」，这是个什么玩意？<br><br><a href="http://www.21cbh.com/HTML/2013-1-23/5NNjUxXzYxMDU5Ng.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">12306采购自循环：通过太极股份采购自家产品|12306|通过太极<i class="icon-external"></i></a><br><a href="http://news.sina.com.cn/c/2013-02-18/063926285505.shtml" class=" wrap external" target="_blank" rel="nofollow noreferrer">铁道部再次拒绝公开12306网站招标信息<i class="icon-external"></i></a><br><a href="http://legal.china.com.cn/2013-12/31/content_31053241.htm" class=" wrap external" target="_blank" rel="nofollow noreferrer">12306招标信息公开案久拖未决 爆料人催促开审<i class="icon-external"></i></a><br><br>铁道部弄了一个马甲公司然后自己投标给自己，这就是所谓的「<b>资金管够</b>但是问题得解决」？<br><br>再说铁道部好歹是国家机构，预算如何有管够一说？商业公司的胃口岂是只占点小便宜就走？预算管够的话商业公司真会放弃这个项目？<br><br>「如果有10％的利润，资本就会保证到处被使用；有20％的利润，资本就能活跃起来；有50％的利润，资本就会铤而走险；为了100％的利润，资本就敢践踏一切人间法律；有300％以上的利润，资本就敢犯任何罪行，甚至去冒绞首的危险」——马克思<br><br><b>如果商业公司真的放弃这个项目，只能说明预期收益和成本的比例无法让人满意。<br></b><br>IBM是整套解决方案公司，只要你肯出钱，从芯片设计制造到软件开发维护都能做，大不了专门为12306设计一个芯片方案，这样的利润大到难以想象，<b>就算做不出来，捞一笔还是没问题的，真是钱管够怎么可能放弃？</b><br><br>至于如<a data-hash="a0505f218ac81e213ace54fa3ab41ec5" href="http://www.zhihu.com/people/a0505f218ac81e213ace54fa3ab41ec5" class="member_mention" data-editable="true" data-title="@陈涛" data-tip="p$b$a0505f218ac81e213ace54fa3ab41ec5">@陈涛</a>所说，「是不是地球上的技术已经不能解决12306了？」，我个人无法回答，现在只能肯定12306的情况确实特殊，但仅此而已，更多的猜测请从技术出发，不要摆这些乱七八糟的段子误导大众。<br><br><b>造谣可耻。</b>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3780674-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21456711">编辑于 2014-01-09</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>59 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3777200"
data-atoken="21448119"
data-collapsed="0"
data-created="1389035539"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="126.125256752"


>
<a class="zg-anchor-hidden" name="answer-3777200"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">116</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$xiaofan-4"
class="zm-item-link-avatar"
href="/people/xiaofan-4">
<img src="http://pic1.zhimg.com/da8e974dc_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/da8e974dc_s.jpg" />
</a>



<a data-tip="p$t$xiaofan-4" href="/people/xiaofan-4">xiaofan</a>，<strong title="招码农，工作地点杭州半年欧洲半年，熬几年可以拿绿卡。为欧洲超级加速器写控制软件" class="zu-question-my-bio">招码农，工作地点杭州半年欧洲半年，熬几…</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="116">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xiao-dao-72" href="http://www.zhihu.com/people/xiao-dao-72" class="zg-link" title="小刀">小刀</a>、</span><span class="user-block"><a data-tip="p$t$sheng-kent" href="http://www.zhihu.com/people/sheng-kent" class="zg-link" title="sheng kent">sheng kent</a>、</span><span class="user-block"><a data-tip="p$t$he-pan-97" href="http://www.zhihu.com/people/he-pan-97" class="zg-link" title="he pan">he pan</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">很好奇，难道12306也会雇水军洗白自己嘛，否则漏洞百出的技术解释，居然也会被转来转去的。估计是12306系统承包商雇的？这样可能性更高。<br><br>上面所谓的技术分析文章，反而就是完全没有大规模并发架构经验的人YY之作。思考方式完全不入门。<br><br>简单说，要处理这种瞬间峰值，基本原则是接受这不能用平常方法堆叠性能去解决，要设计专门的系统方案去处理。第一要做的是在系统关键点上做降能、限流方案，动态页面降级静态，实时请求转成队列等，不能把压力都压到最脆弱点上形成死节点；第二是要转实时在线计算为预先离线计算，把数据库写/锁操作变成顺序索引；第三是要有预警和触发机制，性能超限就主动拒绝部分请求，不能把所有进程都拖死；<br><br>这些方法自然不是写一般商业软件的公司所理解的，更别说大学生了，不过也不至于高大上到国家机密。实际原因嘛，估计是甲方（铁道部）没人愿意出头来承担春运高峰系统宕机的解决之责吧，注定吃力不讨好没有收益大有风险，和治理城郊结合部一样；乙方自然不能说：为每年一次大姨妈，我还需要搭建额外系统，一年只用几个小时，而且又贵又必然表现不如平常。项目经理说出来不是让甲方乙方所有人跳火坑嘛，必须连夜fire的节奏。这种时候，大家默契的装傻，才是商道政道呀。<br><br>最后发现跑题了，回到原问题，这是典型的结构性障碍，看似天灾实为人祸，不是乙方不给力，而是甲方难担当。换个乙方没戏，换甲方有可能。<br><br>吐槽几句，虽然这个网站活糙价高必然有奸情，但从实际效果说，票最后不还是全卖掉了吗，网站宕机又怎么了，干嘛要做那么好，浪费资源。无非就是你以为上个网站就能获得公平机会结果连形式上的快感都没享受到，又体会到习惯的无力悲催感嘛。网站多宕机一会儿，最好宕个8小时，让连夜排队的民工兄弟们多买几张票，不是更好嘛。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3777200-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21448119">编辑于 2014-01-07</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>24 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3765320"
data-atoken="21418589"
data-collapsed="0"
data-created="1388943362"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="1286.12526655"


>
<a class="zg-anchor-hidden" name="answer-3765320"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">838</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$so898"
class="zm-item-link-avatar"
href="/people/so898">
<img src="http://pic4.zhimg.com/0eb52fe6f_s.jpg"
class="zm-list-avatar"
data-source="http://pic4.zhimg.com/0eb52fe6f_s.jpg" />
</a>



<a data-tip="p$t$so898" href="/people/so898">Bill Cheng</a>，<strong title="是一只死掉的考拉，大家不用在意" class="zu-question-my-bio">是一只死掉的考拉，大家不用在意</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="838">

<span class="voters">
<span class="user-block"><a data-tip="p$t$bo-jing-ren" href="http://www.zhihu.com/people/bo-jing-ren" class="zg-link" title="薄景仁">薄景仁</a>、</span><span class="user-block"><a data-tip="p$t$farthersky" href="http://www.zhihu.com/people/farthersky" class="zg-link" title="马力">马力</a>、</span><span class="user-block"><a data-tip="p$t$qian-lei-49" href="http://www.zhihu.com/people/qian-lei-49" class="zg-link" title="钱雷">钱雷</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><ol><li>放淘宝做依旧会卡死，不过是以不同的方式，比如说502界面更好看，等待的时候给你玩玩Flash游戏（多年以来的旧数据库可不是说优化就优化的，更不是说换就换的）</li><li>就算是让淘宝来做，铁路运力不增加，票也不会增加，买不到票的还是会有很多</li><li>在铁路运输不能完全市场化的情况下（票价上升，让某些人被迫选择其他出行方式），大家买票都是看脸的；淘宝不绕过发改委来弄拍卖，也拯救不了这一点</li><li>票就那么多，瞬间就被买完了，没买到的人照样会骂的，让淘宝来做，只是让那帮人骂的人从骂铁路总公司转移到骂铁路总公司和淘宝，对于淘宝来说这完全属于吃力不讨好（当然政府的回扣还是很可观的）</li><li>购买者个人隐私的问题。（参考支付宝这几天出的大新闻 <a class=" wrap external" href="http://www.cnbeta.com/articles/267040.htm" target="_blank" rel="nofollow noreferrer">支付宝回应前员工盗数据事件：未涉及核心信息<i class="icon-external"></i></a>）（铁路总公司的员工可不会为了这么点钱放弃仕途，你懂得）<br></li><li>防止支付宝金融体系的一家独大和脱离监管</li><li>让淘宝来做，黄牛的日子应该会更好过吧，贿赂铁路员工算是贿赂政府公务人员，贿赂淘宝员工总不算吧，呵呵……<br></li></ol><br><p>关于<a class="member_mention" href="http://www.zhihu.com/people/2ad81c8a01a31f156ff16a439b926ba8" data-hash="2ad81c8a01a31f156ff16a439b926ba8" data-tip="p$b$2ad81c8a01a31f156ff16a439b926ba8">@李东</a>的</p><blockquote><p>淘宝应该可以做好的<br><br>但是，像淘宝这样的互联网公司，极有可能把所有的进度和方案公布出来，太透明了，好吗？好吗？</p></blockquote>这样的言论，我想问：阿里有哪个项目的进度是透明的？你这盲目极端天真的想法是哪里来的？作政府项目还项目全部透明？！你当阿里的公关部门都是傻子么？<br>支付宝出了资料泄露的这种事情，有第一时间通知用户么？还不是在被媒体曝光之后才说的！<br>搞不懂你们这帮人对于商业公司的信任来自于何处……被这帮公司控制的网络媒体洗脑了么？


</div>

</div>
<a class="zg-anchor-hidden ac" name="3765320-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-06" target="_blank" href="/question/22451397/answer/21418589">编辑于 2014-01-06</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>128 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3796541"
data-atoken="21495951"
data-collapsed="0"
data-created="1389180777"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="722.123977704"


>
<a class="zg-anchor-hidden" name="answer-3796541"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">493</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$li-ai-ji"
class="zm-item-link-avatar"
href="/people/li-ai-ji">
<img src="http://pic3.zhimg.com/d121528fe_s.jpg"
class="zm-list-avatar"
data-source="http://pic3.zhimg.com/d121528fe_s.jpg" />
</a>



<a data-tip="p$t$li-ai-ji" href="/people/li-ai-ji">李爱吉</a>，<strong title="自由主义者" class="zu-question-my-bio">自由主义者</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="493">

<span class="voters">
<span class="user-block"><a data-tip="p$t$yuan-xin-26" href="http://www.zhihu.com/people/yuan-xin-26" class="zg-link" title="袁欣">袁欣</a>、</span><span class="user-block"><a data-tip="p$t$xiao-ping-62-91" href="http://www.zhihu.com/people/xiao-ping-62-91" class="zg-link" title="肖平">肖平</a>、</span><span class="user-block"><a data-tip="p$t$carryin" href="http://www.zhihu.com/people/carryin" class="zg-link" title="尹明明">尹明明</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">实在是看不下去了，现在都是些什么答案在被狂赞啊<br><br>先明确反对<a class="internal" href="http://www.zhihu.com/people/xpenryn">王强</a>的答案，就这就能混k级以上的赞<br><br>12306的问题很简单，就是前端承载力的问题，taobao如果不行，那才见鬼了<br>至于排名第一的王强说的后台服务器的问题，简直是太太太简单了，还在回复中用“一秒钟几百万次的数据库写入”来唬人，好像这个值真的很大似的。<br><br>其实技术问题早就像与<a class="internal" href="http://www.zhihu.com/people/xpenryn">王强</a>辩论的<a href="http://www.zhihu.com/people/xu-feng-54" class="internal">徐峰</a>说的一样，大牛们早就讨论过了，现在已经没有大牛有兴趣再说这个了<br>--------------------------------以下是关于技术的严肃回复-----------------------------<br><br><a class="internal" href="http://www.zhihu.com/people/xpenryn">王强</a>的回答包括他与其他人的辩论，通篇重要的就这么几点：<br><br>1，商业公司不行的论点之一：这件事儿其实很复杂，铁道部下属公司已经很牛了，谁都解决不了<br>2，商业公司不行的论点之二：12306其实和taobao不一样，难点不一样<br>3，不满意是因为买不到票，这要靠铁路运力解决<br>4，任何公开渠道都查不到的内幕消息（但是<a class="internal" href="http://www.zhihu.com/people/xpenryn">王强</a> 神通广大有来源有渠道，并且就不告诉你渠道是什么）称，铁道部招标，商业公司技术不行，都不敢上。<br><br>关于1：对于技术问题，它复杂不复杂是一回事儿，能不能解决是另一回事儿，复杂的技术被解决掉的多了去了<br>关于2：世界是没有两个需求完全相同的网站项目，12306存在taobao不同的技术难点，不代表12306的技术难点就是无解的，更不代表taobao或其它商业公司的专业技术团队解决不了<br>关于3：逻辑不清或者故意混淆视听。不满意买不到票，和不满意网站的体验，是两个问题。 用户对12306不满的，不是买不到票，而是在使用12306时的体验。12306购票的核心步骤就是查询，下单，返回购买是否成功。 而这几步操作经常卡死，无响应，结果错误，甚至整站崩溃。 拿铁道部自己举例子，12306存在之前，也买不到票，没有人骂排队3天是窗口的问题；拿同是网站的举例子，小米也是大多数人抢不到，但没人去骂小米网站做的sb。<br>关于4：如果您一直相信阴谋论，或者您有丁点兴趣，去查一下什么叫招标，还信这个，呵呵，我的答案您不必再看下去了，赶快 反对+没帮助+拉黑，我怕和你产生任何需要正常逻辑思维能力的交流<br><br>关于技术细节：<br>前端无响应，卡死，网站崩溃，这个taobao轻松解决，没有必要着这里跑题去解释什么是cdn，什么是前端设计准则了<br>至于<a class="internal" href="http://www.zhihu.com/people/xpenryn">王强</a>说的后端技术难点，真正有点料的，就以下两点：<br>1，每秒上百万的数据库写入（不知道这个是怎么统计得到的），必须卡；<br>2，同一线路，因为出发到达的站点有各种组合，造成余票数据之间有依赖，座位要复用；<br><br><a href="http://www.zhihu.com/people/xu-feng-54" class="internal">徐峰</a>已经给出了很好地解决方案，12306刚推出的那个春节，专业技术论坛中就有人分析过这个解决方案：就是 每个车次一台专用服务器（或者一个集群，总够了吧），部署在不同的机房，这样数据库压力，流量压力自然就分开了。<br>而 <a class="internal" href="http://www.zhihu.com/people/xpenryn">王强</a>竟然在给<a href="http://www.zhihu.com/people/xu-feng-54" class="internal">徐峰</a>的回复中，说这个方案的问题在于，计算座位复用时，只能用到一个线程，无法并发，而单cpu核心的算力不够！！算力不够啊啊啊啊，本人必须承认，刚在看到这个说法时，有种被雷焦的感觉，实在是哭笑不得啊，挖哈哈哈哈哈呜呜呜呜呜<br><br>本来觉得笑尿了，完全不值一驳，连写答案的兴趣都没了。谁知道吃个午饭，那个答案被赞了那么多次，过k了啊<br>本人就耐着性子来帮众无脑盲从之辈算个排列组合问题：<br><br>假设某车次，有n个停靠站点，把这n个站点编号为s1, s2, s3, . . ., sn<br>在s1上车的乘客，可能在s2, s3, s4, s5, s6 . . . sn下车。那么就是说，从s1出发的票，可能有种到s(n-1)种到达。<br><br>以此类推，从sx站出发的票，共有n - x种到达，那么，有n站停靠的线路，共有 (n-1) + (n -2)... + (n - n)种票，很简单的等差数列，高一数学知识，和为  ：<br>n(n-1) / 2   <br>（这里我本来思维惯性，从0开始算车站编号了，第一次算成了n(n+1)，以至于下面的100站的例子，票的种类多算了100种。谢谢<a href="http://www.zhihu.com/people/h-b-soap" class="internal">h.b soap</a>指出，这更说明了这个算量实在是太不值一提啦）<br><br>用[x,y）表示从sx出发，sy到达的票，<br>用N(x,y)表示该种类票的余量<br>那么，[x,y）发生了1张退票，会且只会引发的，无非就是[x,y)沿线相关站点的票随之变动（可能增加1）<br>很明显，这里y越大，x越小，那么变动的票的种类就越多，最极限情况就是x == 1，y == n，这时所有种类的票都会+1<br><br>现实中，最复杂的最长的线路，能有多少个停靠站？就假设它有100个站点，足够了吧（感觉不够的举例反驳我，请告诉我哪趟车超过了100站，我给你重来一遍下面的计算）<br>那就是说，一次座位复用计算，最多涉及到100 * （100 - 1） / 2 = 4950种不同的票。<br>就用最笨的最笨的穷举法，就是把每种票都遍历一遍，看是否受到了影响（这个判断也异常简单，和上面一样，比较一下个各个站点的编号就行了，核心逻辑一个if语句，整数比下大小就基本解决），也就5050次循环（即5050次比大小和加减法），依据<a href="http://www.zhihu.com/people/xu-feng-54" class="internal">徐峰</a>的“非公开来源消息”，用上了至强集群这种高大上的硬件的系统，1s内能做多少次处理？<br><br>这还是全部按最复杂的情况并故意按最笨的方法处理的。<br><br>你告诉我，按车次分布这种做法IBM和taobao的团队想不到搞不出来，或者一个没有图片，没有音视频，只有几个干巴巴的数据的网站，前端的压力cdn解决不行？？？<br>至于后端的并发数量， server按车次分布后，每个server的并发一点都不大，谁没事儿老去刷自己不坐的车次（并且还可以设置刷新频率，现在就有）。<br>还嫌大，至强集群都搞不定，来找我，我用我的pc给你搞。数据库也已经自然分布了，并且，就算是<a class="internal" href="http://www.zhihu.com/people/xpenryn">王强</a>所谓的每秒百万级的数据库访问的，我能告诉你这在业内根本不是个事儿么。<br><br>上面还没提，其实现实压力比上述还小的多得多。因为各个运行区间的票，不完全是即时动态算的，很多运行区间就是事先规划好票的预留量，这样座位复用需要的计算会少很多<br>------------------------------------------<br>以上，技术部分完毕，想提出各种12306现在根本不提供的变态功能需求说明这系统还有很多难题的，先去让12306把这些功能做出来再说。现在我们就只说12306的现有功能，能不能做好，我的回答是，能，并且交给专业的商业团队，很容易的事情。<br><br>再吐槽一下，包括<a class="internal" href="http://www.zhihu.com/people/xpenryn">王强</a>在内的很多人的逻辑，其实还是那个经典奴才思维模式： “ 肉食者确实在努力为屁民服务，且智商很高，人家在下一盘很大的棋，复杂到你都不懂，并且你根本连棋盘是怎么回事儿都不知道（但是<a class="internal" href="http://www.zhihu.com/people/xpenryn">王强</a>却因为不知何故能获取正常人都获取不到的“非公开来源消息”，<a class="internal" href="http://www.zhihu.com/people/xpenryn">王强却</a>知道）所以你上你也不行，所以都老老实实用着12306，万一没崩溃，快去喊谢恩万岁吧<br><br>关于很多看起来是做程序的人赞的原因：合格程序员太少了，大多数赞的所谓的“从业人士”，自己觉得自己没自信解决，听到人说这东西谁都解决不了，自然很是高兴，哈哈<br>哪个自称懂技术且赞同<a class="internal" href="http://www.zhihu.com/people/xpenryn">王强</a>的人具体分析出难点在哪里了么，说来说去就是没法分布，你没法分布就知道别人没法分布？稍专业点的技术群技术论坛中，12306技术上到底是不是没治了，从来都没见过争论<br><br>-----------------------------------<br>以下是回复中写的，觉得有必要提出到答案里，没料的回复，一律不再理：<br><br>然后，再说一遍，我回答的重点，不是在写一套12306的技术解决方案，只是在说，那个无脑答案中说的困难理由，是多么的荒谬。还是那句话，如果真的要我
提供全套的解决方案，那就请把做12306的钱给我，我来做个给你看。否则，一味的使劲找细节来说我解决方案（它本就不是个解决方案）不完善，那就是耍流
氓


</div>

</div>
<a class="zg-anchor-hidden ac" name="3796541-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-08" target="_blank" href="/question/22451397/answer/21495951">编辑于 2014-08-28</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>172 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3781382"
data-atoken="21458461"
data-collapsed="0"
data-created="1389074789"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="91.1252461457"


>
<a class="zg-anchor-hidden" name="answer-3781382"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">74</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$cui-zhao"
class="zm-item-link-avatar"
href="/people/cui-zhao">
<img src="http://pic2.zhimg.com/c3812be29_s.jpg"
class="zm-list-avatar"
data-source="http://pic2.zhimg.com/c3812be29_s.jpg" />
</a>



<a data-tip="p$t$cui-zhao" href="/people/cui-zhao">崔钊</a>，<strong title="钢化玻璃心，东方不败身" class="zu-question-my-bio">钢化玻璃心，东方不败身</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="74">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xiao-dao-72" href="http://www.zhihu.com/people/xiao-dao-72" class="zg-link" title="小刀">小刀</a>、</span><span class="user-block"><a data-tip="p$t$ming-yang-13-77" href="http://www.zhihu.com/people/ming-yang-13-77" class="zg-link" title="明扬">明扬</a>、</span><span class="user-block"><a data-tip="p$t$jerry-young" href="http://www.zhihu.com/people/jerry-young" class="zg-link" title="Jerry Young">Jerry Young</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">看了那么多体谅"政府"苦衷的答案，有点怒了，一方面他们经常混淆“<b>铁路运力紧张</b>”和“<b>12306这个网站是不是很差(能不能做得更好)</b>”，而问题显然是针对<b>后者</b>的。令一方面在不清楚12306网站真正难点的情况下，凭空“体谅”其难处。排名第三的匿名答案还是基本上聚焦在技术上的，确实技术上完美的做到你所说的各种指标有点困难，但是在非关键指标上稍微降低点要求，总是能做的比现在好一些的(有舍才有得嘛)，我也在做跟性能很攸关的行业(性能在GB/s的SSD)明白各方面做到完美的方案有时候是不能能的，但是比方说(也许这是个不恰当的比方，见谅)，我损失一些数据一致性(也就是允许一定程度的“超售”)，但通过一个延迟的订单最终确认环节来补救(最终发现确实超售的在若干分钟/小时内给用户反馈)，这样总比让大家都面对一个卡死的网站要好得多。我是典型的工程师思维，有问题我们就想办法解决，实在不行降低要求来解决，但是你不解决问题而是搞推诿(xxx来了也搞不好)，搞政治(xxx是关系国计民生/国家安全的重要行业，必须政府来搞),我只能....算了忍了:(<br><br>//修改1<br>真要讲技术，请打开排名第一答案的所有评论，搜<a class="member_mention" href="http://www.zhihu.com/people/1b08b8a5f639fa3dcdee367e97edef5d" data-hash="1b08b8a5f639fa3dcdee367e97edef5d" data-tip="p$b$1b08b8a5f639fa3dcdee367e97edef5d">@徐峰</a>  和<a class="member_mention" href="http://www.zhihu.com/people/789e2e68e5baf02a859da78a07527761" data-hash="789e2e68e5baf02a859da78a07527761" data-tip="p$b$789e2e68e5baf02a859da78a07527761">@王强</a> 的评论，就可以看到技术牛人和铁道部的技术牛人是什么区别了，基本上这也就是12306自己做和请淘宝/IBM/其他大型商业公司做的区别了。<br><br>～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～<br>顺便贴出我在前面的一个回复供喷<br>抢一天抢不到与抢一秒抢不到之间我还是愿意抢一秒，毕竟省了时间。铁道部自己做做不好和请商业公司做不好，我还是愿意请公司做，其一，淘宝(或其他任何应
付海量访问的顶尖公司)和铁道部谁更专业不是明摆着么(不要说淘宝和12306的业务有多大差别，应为这根本就不是问题点，真正的问题是“请外行做还是请
内行做的问题”，别跟我说铁道部也不"完全"是外行，跟淘宝比起来一个没做过类似业务的单位显然就是外行).其二，放在公司，就算做不成，钱好歹增加了良性GDP，花在铁道部里，天晓得！！！！不要纠结于买不买得到票，因为大家都知道短时间内不可能解决运力问题，所以目前的问题很简单，就是“<b>是不是应该找最专业的人做最困难的事</b>”，答案也很清楚“<b>铁道部里绝对没有最专业的人(团队)</b>”


</div>

</div>
<a class="zg-anchor-hidden ac" name="3781382-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21458461">编辑于 2014-01-09</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>55 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3793159"
data-atoken="21487606"
data-collapsed="0"
data-created="1389161881"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="2085.12519515"


>
<a class="zg-anchor-hidden" name="answer-3793159"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">1341</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$fuqiufeng"
class="zm-item-link-avatar"
href="/people/fuqiufeng">
<img src="http://pic4.zhimg.com/226ff727f5e958912c349d7562724c67_s.jpg"
class="zm-list-avatar"
data-source="http://pic4.zhimg.com/226ff727f5e958912c349d7562724c67_s.jpg" />
</a>



<a data-tip="p$t$fuqiufeng" href="/people/fuqiufeng">付秋风</a>，<strong title="居善地，心善渊，言善信，动善时。" class="zu-question-my-bio">居善地，心善渊，言善信，动善时。</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="1341">

<span class="voters">
<span class="user-block"><a data-tip="p$t$wen-jie-zi" href="http://www.zhihu.com/people/wen-jie-zi" class="zg-link" title="文解字">文解字</a>、</span><span class="user-block"><a data-tip="p$t$gaokun-qiu" href="http://www.zhihu.com/people/gaokun-qiu" class="zg-link" title="gaokun Qiu">gaokun Qiu</a>、</span><span class="user-block"><a data-tip="p$t$wang-shao-bo-82" href="http://www.zhihu.com/people/wang-shao-bo-82" class="zg-link" title="王少博">王少博</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">后面的答案是午休前躺床上手机敲的，可能有诸多观点模糊不清，承蒙各位厚爱，已经好几百赞了，那就来多说点所谓的“技术”原因。<br>1.先说结论。12306外包给阿里巴巴和IBM都是不可行的。<br>2.许多人拿淘宝双11说话。别的都不扯，只说系统需求。用最外行的视角来揣测，淘宝双11最大的难点在于支付宝，当然这是我自己揣摩的。淘宝的商品数据更接近分布式仓储仿真，而12306的数据关联性要大的多。<br>3.客票库不只有12306访问，还有全路过万的车站售票窗口和过万的代售点，以及电话订票系统。因为客观原因，既有的票据库是分布式的，采用的票额计划制。简单来说，北京到广州的车，分给保定站多少张车票就是多少张，分给石家庄站多少张就是多少张，不能实现复用（复用就是北京到广州的车，有旅客购买了北京到郑州段，郑州到广州站生成一张新的车票）。<br>4.即便是现在，也不可能放弃计划式票务管理。运力紧张是客观存在的，不同地域铁路发展水平是千差万别的。这也是为什么北京到上海的车票好买，但北京到某些西部地区的票很抢手，而春运期间后者的需求是矛盾的根本。<br>5.12306的车票预定界面，查询之后需要执行的命令要远远复杂于淘宝商品查询、购买、支付任何一个环节。查询北京到昆明，不是到简单地到库里select T61、T239和K471三趟车的数据，需要访问北京局、郑州局、武汉局、广铁集团、成都局、昆明局的数据库，每个库都会有自己的队列。实事求是地讲，12306的数据和车站窗口的数据是没办法同步的，既有库和12306的库完全同步在目前的客观条件下是不可能实现的。<br>6.其实解决方案也没有想象得那么复杂，和那些技术性的答案一样，推倒重来构建一套新的客票发售系统，把所有的资源都集中到总公司，不管采用分布式或是其它系统架构，12306访问遇到的前台问题都能解决。老调重弹，如果你觉得在实用性都不能保证的时候，用户体验也很重要，请你去投奔注明的3某0来一起毁灭信息技术行业吧。<br>7.哪家公司能给出可行的过渡方案我们姑且不说，这就只说更深层次的问题。这个方案和大同世界某产主义一样，就是个屁。心细的旅客估计留意过，乘坐火车时经常会看到“北客”“南客”“西客”之类的字样。每趟列车都是有担当局的，比如北京到上海的列车，可能是北京局担当，也可能是上海局担当。<br>8.你把北京局出机车出车辆出司机出列车员出跟车检车员的列车车票拿到网上大家随便抢？苏南地区往返上海旅客较多，就让北京的旅客都坐到南京，换乘南京到上海的车？<br>9.不要觉得这几个问题出来，就可以扣大帽子给铁路说，这是你们内部管理和协调机制的问题了，和技术有什么关系。除了华北华东华南个别铁路建设程度不错的地区，多数地区在春运期间必须优先保证长途旅客发送。这和B格高党们可以选择坐飞机的道理是一样的，短途旅客的选择更多。<br>10.退一万步讲，所有车票都拿出来全程复用，其结果就是铁路倒退回计划经济时代，高度中央集权，这种情况没有腐败，没有黄牛，没有条子票你相信吗？这种情形你还想买到火车票？省省吧，到时候手里有资源的人恨不得把12306关了呢。<br>11.另外老有人说民营资本进入铁路，破除垄断之类的。我一般都只是骂几句不当回事，今天就跟那些自由民主人士说说铁路民营是怎么个情况。很多无良媒体采访些莫名其妙的神经病人士，他们都会有些很奇葩的想法，更可恶的是许多人深以为然。关于铁路优质资产打包上市，这种措施除了融资，还有什么别的意义。能赚钱的线路让民资外资进来，西部铁路边远山区由国家或铁总自己掏钱？上升到意识形态上来说，舍弃后者将前者上市的行为，是卖国。让前者上缴利润反哺后者的屁话就不要说了，我们自己不会做啊，要你来干嘛。<br>12.多少年的春运苦难，多少年的艰苦探索，得出的结论是：除了增加运力，别无他法。七年便能进入世界领先水准（那些喷子们，你们到现在还有国产的CPU芯片和操作系统呢，COS什么的就别拿出来BB了，贴近题目来说，也别再意淫淘宝和IBM大神有多牛逼了）的大概只有高铁吧。因为723，因为所谓的舆论，因为那位四万亿影帝，也可能因为交通运输业其它几位从不居安思危到了跟前才开始恐惧的恶心同仁，高铁降速了，不管是列车运营还是铁路建设。<br>13.说多了都是眼泪。李少泉的北洋水师全军覆没时的心境，常人难以理解。国家兴亡，匹夫有责，却不是让大家都指点江山。周树人比不上孙逸仙的最浅显原因就是他除了胡BB什么都不做，后世已经用近百年的血泪证明了那些所谓国民性的理论真得真得很搞笑。用那些东西来指导自己的生活工作，大概就只能成为后面回复里那些“技术帝”，也大概正是因为我们的父辈都浸淫在里面，才造就这个物欲横流道德丧失（此处省略一百个四字短语）的局面。<br>14.今年春运的目标是安全出行、方便出行、温馨出行，不是温馨出行、安全出行、方便出行，也不是方便出行、安全出行、温馨出行。客票安全是铁路信息技术工作最大的风险源。<br>15.我们20岁时在知乎一起胡BB。祈望我们50岁时，能再来这个问题看看。希望那时的国家昌盛富强，没有巨大的贫富差距， 没有巨大的地域差别，多数人都能在家乡工作。即便春节需要回家，超过六百公里我们都能掏得起机场建设费和燃油附加，不足四百公里我们都能交得起高速过路费和路政交警高速城管的罚款。<br>16.全国办理铁路客运业务的城镇，百分之九十以上都能通过飞机和汽车（或“或”）达成运输。<br>----------------------------------------以下是原答案----------------------------------------------------<br>作为一名铁路系统内的IT人士，我想说几点我个人的看法，与单位无关，也没有什么层次和逻辑。<br>1.我们不讲客观主观原因，不提历史遗留问题，只说现在的运力条件下，铁路旅客运输的重中之重是保障更多人—尤其是弱势群体，比如学生、进城务工人员等—的基本需求，而非部分人的更多需求。<br>2.某60在12306改动态验证码时官微发布的东西大家可以去了解一下。那代表了某些所谓IT人的自私、狂妄、虚伪和无知。你不是淘宝的运维人员，那350亿数字背后的惊心动魄里，你只是个参与者或是旁观者，而不是枪林弹雨里的将士。无论胜败荣辱，都与你无干。<br>3.我们有两百多万职工。你们加班加点熬夜做设计写标书赶程序，他们已经经历几十年昼夜颠倒的生活；你们抱怨亚历山大突发疾病亚健康过劳死，他们有许多人还没退休已是一身病；你们平日忙他们也忙，你们节假日回家他们更忙。<br>4.标榜什么无意，只是在这九百六十万热土的角角落落，有许多人在默默地奉献着，就为了你在下班之后洗把热水澡，煮一壶咖啡，躺到温暖的被窝里，拿起平板电脑，打开知乎，指责谩骂侮辱他们，或是他们的劳动成果。<br>12306只是售票的一部分，甚至是可有可无的一部分。我们是企业，背着2.6万亿的负债。不要认为这种说法无赖，无赖的是你们这些便宜占习惯了变欲求不满变本加厉蹬鼻子上脸的人。我们的建设，我们的运营，用的是我们的贷款，别张口闭口纳税人的钱。<br>5.世间总不能事事如意，遇到不顺利的事，先想想自己能做什么，别一味地要求别人。知乎里那些B格远高于常人的朋友，请你们把车票让给农民朋友学生兄弟。你们觉得苹果比诺基亚牛逼太多的时候，他们只能在给老家的父母妻儿汇款剩下的生活费里抠出几百块把自己那部屏幕破碎的手机换了。<br>6.上面一段话有个雷同的比喻是那些所谓的“贫困县”，不要狡辩，你们就是违背社会公义和良心，抢了他们回家的车票。你们乘坐飞机，换来的是明年情人节给女朋友送的礼物比预期差一些；他们乘坐飞机，代价是明年的春耕家里买不起化肥和农药。你们的选择更多，所以有了12306，我们就能送更多的学生更多的农民回家过年，即便是在绿皮车厢连接处的小马扎上坐二十个小时。<br>7.知乎的技术大牛确实很多，但有谁敢出头立军令状？有人反驳@王强 的段子，说“谣言可耻”，而你们除了意淫些完美的解决方案，还能做什么。IBM的整体解决方案是厉害，但是风险有多大你们了解么？12306可以崩溃可以瘫痪可以拒绝访问，但是为了效率影响安全，它IBM能承担得起？<br>8.这才说到离题目最近的东西。效率与安全不可兼得，这是铁路运输目前最大的难题之一。然而，安全是生命，效率是蛋糕。蛋糕可以不吃，命却不能不保。你们有几个知道京沪线陇海线列车晚点一分钟值多少钱吗？<br>9.你们总是揶揄我们从来不正点，晚点三个小时以内不算晚点。然而你们觉得我们晚点无所谓么？列车上有孕妇临盆大出血有病人病危呼吸衰竭，停不停车？股道上有闲杂人员司机下意识判定紧急制动还来得及，停不停车？下雪结冰洪水漫道塌方落石要不要慢行？地质灾害自然灾害抢修完了要不要先跑一趟实验列车？<br>10.你们留过洋觉得自己学习过更先进的技术接触过更有效的制度感受过更和谐的文化，只是你们知道那技术那制度那文化怎么来的么？乔布斯放到中国来能成就苹果么？知乎日报里也总有鼓吹苹果如何如何乔布斯如何如何的，我总忍不住连编辑跟着一起骂。<br>11.任何问题都有背景和上下文，抛开约束条件，问一只狮子竟然直接就被牛顶飞到四五米高(请谷歌有关视频查看)，它们怎么能成为万兽之王，就是耍流氓。不要总是觉得政府怎么怎么样体制怎么怎么样垄断怎么怎么样。你们还听信那些误人子弟的专家学者无良媒体的说法，觉得铁路还停留在远古时代计划经济，还是庞然大物转身困难，那我只能呵呵，然后告诉你。其实有时候，可怕的不是落伍于时代，而是乌龟已经完成比赛了，兔子还在意淫自己甩开人家多少圈。<br>12.铁路旅客运输另一个巨大难题，是无知而浮躁的舆论叫嚣和实干的鸿沟，需要我们舍弃进步与发展的机遇来填。先说舆论。看过《走向GH》的同志都应该能感触到，李中堂袁大头和太后背着千古骂名，却是为江山社稷黎民百姓做了许多事情的。康有为谭嗣同之流包括后来的周树人，除了空想，他们还能做什么。最近知乎有人比较二战后的德日和某朝，主流的观点是他们二战前就有固定的工业基础、技术能力和教育体系。那我们的国力在一百二十年前比东临强胜很多倍，一样被打败又作何解释。当然，这又是知乎的另一个问题。<br>13.上面长篇累牍一大段，要说明的问题是什么呢，知乎实在是个鱼龙混杂的地方。太多的人拿着些哗众取宠的逻辑和观点，用许多脑残赞，来毁掉有求知欲的人思考辨析的可能。<br>14.扯得有点远，但实在不吐不快。热血上头，也不讲什么严密不严密，也有许多文辞句法标点错误，那些反对者们尽管找个茬子来放大了喷，最好能证明楼主逻辑混乱文盲在世神经不正常。<br>15.最后插个题外话。如果你是一个有想法有追求有忧国忧民情怀而心怀天下的人，第一步是充实自己，学贯中西，通晓古今；第二步是强大自己，看遍众生，历尽山河；第三步就是静待时机，卧薪尝胆，韬光养晦。<br>16.路，是一步一步走出来的；经济，是一砖一瓦构建起来的；国家，是你、我、他，一点一滴做出来的。<br>最后送给大家几句B格甚高的话。<br>一是实干兴邦，空谈误国。<br>二是宽以待人，严于律己。<br>三是取舍之间，必有得失。<br>四是如鱼饮水，冷暖自知。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3793159-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-08" target="_blank" href="/question/22451397/answer/21487606">编辑于 2014-01-17</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>260 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3802160"
data-atoken="21509932"
data-collapsed="0"
data-created="1389237872"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="166.12524573"


>
<a class="zg-anchor-hidden" name="answer-3802160"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">137</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$fenng"
class="zm-item-link-avatar"
href="/people/fenng">
<img src="http://pic1.zhimg.com/515e26050_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/515e26050_s.jpg" />
</a>



<a data-tip="p$t$fenng" href="/people/fenng">Fenng</a>，<strong title="老网民" class="zu-question-my-bio">老网民</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="137">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xiao-dao-72" href="http://www.zhihu.com/people/xiao-dao-72" class="zg-link" title="小刀">小刀</a>、</span><span class="user-block"><a data-tip="p$t$doushaojun" href="http://www.zhihu.com/people/doushaojun" class="zg-link" title="窦少君">窦少君</a>、</span><span class="user-block"><a data-tip="p$t$wermkar" href="http://www.zhihu.com/people/wermkar" class="zg-link" title="wermkar">wermkar</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">在 12306 上抢「同一时间同一车次」车票的有多少人? <br><br>问题真是很复杂。洗地党很累。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3802160-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21509932">发布于 2014-01-09</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>28 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3780981"
data-atoken="21457444"
data-collapsed="0"
data-created="1389072773"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="88.1252507234"


>
<a class="zg-anchor-hidden" name="answer-3780981"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">60</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$arronleung"
class="zm-item-link-avatar"
href="/people/arronleung">
<img src="http://pic1.zhimg.com/fbc1e9ca0_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/fbc1e9ca0_s.jpg" />
</a>



<a data-tip="p$t$arronleung" href="/people/arronleung">Arron Leung</a>，<strong title="和公众打交道是门学问啊！！！！" class="zu-question-my-bio">和公众打交道是门学问啊！！！！</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="60">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xiao-dao-72" href="http://www.zhihu.com/people/xiao-dao-72" class="zg-link" title="小刀">小刀</a>、</span><span class="user-block"><a data-tip="p$t$xiang-chi-xian-cai" href="http://www.zhihu.com/people/xiang-chi-xian-cai" class="zg-link" title="孟夏胐">孟夏胐</a>、</span><span class="user-block"><a data-tip="p$t$bu-luo-fan-chen" href="http://www.zhihu.com/people/bu-luo-fan-chen" class="zg-link" title="不落凡尘">不落凡尘</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">这根本不是一个技术问题。其实12306是可以做的非常流畅，但是，有两个问题；<br><br><b>1，没买到票的人的抱怨该如何解决？<br><br>2，购买非常顺畅导致的秒杀，如何解释“内部早就分配好了”的质疑？<br></b><br>前几年，有很多人在网上发帖，说他们搬着小板凳，提前等了大半夜，排窗口第一个，票刚放出来，他/她排第一个都没抢到票，于是在网上大骂“火车票早就内部分配好了”，早就黑心卖给黄牛党了。可是，全国那么多窗口，票只有那么多，就算排第一个也买不到票，这是完全有可能的啊。可是，怎么回应他们的质疑呢？<br><br>现在分配方式换成网络。还是那么多人，只有那么多票，不会增加一张火车票的供给。<br><br>假如12306购买非常流畅，淘宝上午11点钟放票，大家都苦苦守着，准备11：00可以动手抢票，结果你11:00点击下去没抢到票，再点击，还没到11；01就显示票已经卖完了。你会不会痛骂淘宝？会不会觉得这他妈的就是坑爹的玩意？<br><br>这时候汹涌的民意，又该如何对待呢？<br><br>至于社会公平问题就更严重了，我用IE浏览器，你用chrome，我电脑2000块钱，慢如蜗牛，你电脑7000，快如猎狗。如果12306购买非常流畅，公平又怎么解决？要知道，用ie，廉价电脑的人数非常庞大，就像不会用电脑，只知道去排队的农民工大叔一样，这部分人也绝不是少数。<br><br>这也是为什么12306设计动态验证码的原因，打击那些更熟练使用电脑的人，阻止360等抢票软件，没有一张火车票得来是容易的。在网络层面，把所有人都放在同一条起跑线上，让每个人都必须老老实实来参与抢票这个行为。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3780981-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21457444">编辑于 2014-01-08</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>39 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3792825"
data-atoken="21486762"
data-collapsed="0"
data-created="1389160066"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="128.125238861"


>
<a class="zg-anchor-hidden" name="answer-3792825"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">73</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$tan-tao-51"
class="zm-item-link-avatar"
href="/people/tan-tao-51">
<img src="http://pic4.zhimg.com/780d39b07_s.jpg"
class="zm-list-avatar"
data-source="http://pic4.zhimg.com/780d39b07_s.jpg" />
</a>



<a data-tip="p$t$tan-tao-51" href="/people/tan-tao-51">覃韬</a>，<strong title="MMORPG 服务器程序猿" class="zu-question-my-bio">MMORPG 服务器程序猿</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="73">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xi-men-han-feng" href="http://www.zhihu.com/people/xi-men-han-feng" class="zg-link" title="西门寒枫">西门寒枫</a>、</span><span class="user-block"><a data-tip="p$t$wang-st-70" href="http://www.zhihu.com/people/wang-st-70" class="zg-link" title="王ST">王ST</a>、</span><span class="user-block"><a data-tip="p$t$yyy-www-32" href="http://www.zhihu.com/people/yyy-www-32" class="zg-link" title="yyy www">yyy www</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">--------2014-1-10 14:26更新-----------------------------------------------------------------------<br>刚才又有点想法，铁路系统对于春运期间的车票应该是有一定的分配的，比如一趟 上海 - 汉口 的火车，铁路局对几个大站之间的车票应该会有一定的配额，否则一开抢上海到南京的车票卖出2000张，到合肥和汉口的同学就干瞪眼了。所以实际上铁路局可能会事先分配好，上海到汉口的车票最少要保证200张 南京到汉口的最少要保证200张，上海到合肥的200张..... 诸如此类。<br><br>既然如此，这些车票也就都是可以预先在数据库中分配出来，把这些车票分布到其他线程去出票，而不用全部挤到核心的出票线程，这些车票如果卖完了再将请求发到核心出票线程来，如果逾时还没卖完（比如开售30分钟后）就把票退回核心线程再次入库。<br><br>--------2014-1-9 10:17更新-----------------------------------------------------------------------<br>早上起来，突然想到还有优化的空间。<br><noscript><img src="http://pic1.zhimg.com/ebc8df4ad93f03da9a761f621dedf4fc_b.jpg" data-rawwidth="459" data-rawheight="270" class="origin_image zh-lightbox-thumb" width="459" data-original="http://pic1.zhimg.com/ebc8df4ad93f03da9a761f621dedf4fc_r.jpg"></noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="459" data-rawheight="270" class="origin_image zh-lightbox-thumb lazy" width="459" data-original="http://pic1.zhimg.com/ebc8df4ad93f03da9a761f621dedf4fc_r.jpg" data-actualsrc="http://pic1.zhimg.com/ebc8df4ad93f03da9a761f621dedf4fc_b.jpg"><br>--------2014-1-8 22:21更新-----------------------------------------------------------------------<br>晚上优化了下，现在这速度怎么也该够了<br><noscript><img src="http://pic4.zhimg.com/ea47d2c798365a6eca9bc6e1a3c86a73_b.jpg" data-rawwidth="660" data-rawheight="376" class="origin_image zh-lightbox-thumb" width="660" data-original="http://pic4.zhimg.com/ea47d2c798365a6eca9bc6e1a3c86a73_r.jpg"></noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="660" data-rawheight="376" class="origin_image zh-lightbox-thumb lazy" width="660" data-original="http://pic4.zhimg.com/ea47d2c798365a6eca9bc6e1a3c86a73_r.jpg" data-actualsrc="http://pic4.zhimg.com/ea47d2c798365a6eca9bc6e1a3c86a73_b.jpg"><br>-----------------------------------------------------------------------------------------------------------------------------------------<br>如果是说技术角度，给淘宝做是不是会比目前的12036更好，答案是肯定的。目前赞同最多的答案对于购票难的分析是中肯的，但是前半段所谓12306不能通过布署大量服务器来分散压力提高负载则不敢苟同。<br><br>首先，每一个火车车次之间是完全不关联的，每一个车次的购票事务都可以分配到不同的物理服务器，或者说处理器核心上去处理，这就是最简单的分布式方案了。<br><br>考虑到春运期间每一班火车可能同时都有几十万人甚至几百万人去抢，对于热门车次还可以进一步拆分，比如硬卧车厢的车票和硬座车厢的车票就可以分开来，同理动车和高铁的一等座，二等座也可以分开来。<br><br>到了这一步，就很难再拆分下去了，一个车次的同一席别的座位，很难再分布到不同的处理器核心上去了，但我们还可以把余票查询事务再拆分出来，同时余票查询因为不涉及到数据的写入，也不需要一致性的强保证，这个事务完全可以通过缓存的方式分散到数个数十个乃至数百个处理器核心上去处理。<br><br>所以，在我看来，在目前的硬件条件下，技术上要提高12306的负载到满足春运购票需求是没有什么问题的。但是要做到这样可能会面临其他的问题，比如这样的系统造价高昂，却只有春运这一个月用得上，存在巨大的浪费；又比如这样的系统可能和铁路的旧有系统不兼容，对旧有系统的升级和改造又是一项巨大的工程；再比如铁路局没这么多资金做这个系统（不要笑，铁路现在很穷的）。<br><br>所以，如果你问我12306交给淘宝做，能不能做得比现在好，我觉得是可以的。但是淘宝会接这个单子吗？ 我觉得悬。<br><br>首先这个项目收益低，基本是一次性的收入，再多也多不到哪去；其次铁路旧有系统的升级改造很可能会有很大的阻力和困难；其次万一没做好，面子丢了不说，可能还要承担很大的责任。<br><br>这么个鸡肋的项目，我想淘宝才不会接呢。<br><br>最后，昨天写的个单车次放票模拟，2000个座位，30个站，随机起点终点出票并且座位复用，共4个线程，线程1出票，线程2检查票是否放完，线程34随机起点终点查询余票，结果如下：<br><noscript><img src="http://pic3.zhimg.com/01ebfdf982c7373efaad996231fac2d6_b.jpg" data-rawwidth="640" data-rawheight="440" class="origin_image zh-lightbox-thumb" width="640" data-original="http://pic3.zhimg.com/01ebfdf982c7373efaad996231fac2d6_r.jpg"></noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="640" data-rawheight="440" class="origin_image zh-lightbox-thumb lazy" width="640" data-original="http://pic3.zhimg.com/01ebfdf982c7373efaad996231fac2d6_r.jpg" data-actualsrc="http://pic3.zhimg.com/01ebfdf982c7373efaad996231fac2d6_b.jpg">


</div>

</div>
<a class="zg-anchor-hidden ac" name="3792825-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-08" target="_blank" href="/question/22451397/answer/21486762">编辑于 2014-01-10</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>63 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3784708"
data-atoken="21466731"
data-collapsed="0"
data-created="1389091740"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="60.1252269566"


>
<a class="zg-anchor-hidden" name="answer-3784708"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">39</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$chen-yu-hao-86"
class="zm-item-link-avatar"
href="/people/chen-yu-hao-86">
<img src="http://pic1.zhimg.com/9443c2e20_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/9443c2e20_s.jpg" />
</a>



<a data-tip="p$t$chen-yu-hao-86" href="/people/chen-yu-hao-86">陈裕皓</a>，<strong title="为成为『全栈工程师』而努力" class="zu-question-my-bio">为成为『全栈工程师』而努力</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="39">

<span class="voters">
<span class="user-block"><a data-tip="p$t$yang-chen-40-54" href="http://www.zhihu.com/people/yang-chen-40-54" class="zg-link" title="杨晨">杨晨</a>、</span><span class="user-block"><a data-tip="p$t$yu-dong-bin" href="http://www.zhihu.com/people/yu-dong-bin" class="zg-link" title="余冬斌">余冬斌</a>、</span><span class="user-block"><a data-tip="p$t$mi-shi-de-zhi-nan-zhen" href="http://www.zhihu.com/people/mi-shi-de-zhi-nan-zhen" class="zg-link" title="迷失的指南针">迷失的指南针</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">现在有点怀疑<a data-hash="789e2e68e5baf02a859da78a07527761" href="http://www.zhihu.com/people/789e2e68e5baf02a859da78a07527761" class="member_mention" data-editable="true" data-title="@王强" data-tip="p$b$789e2e68e5baf02a859da78a07527761">@王强</a> 的说法了，毕竟我们都没看过它的后台是怎么写的。<br><br>虽然说是一项技术性的难题，可能需要NB的硬件设备支持。但也并不是不可优化，并不是我们只能坐以待毙地等技术的革新。<br><br>至少以下问题就现在的技术手段是可以解决的：<br>以下仅是前端：<br>1.在抢票高峰期12306的主页也会卡，这就不能理解了——没有做查询操作，上万人同时点击主页这个并发完全可以处理好吧。你淘宝秒杀会卡，仅仅只是上主页看看图片也会卡吗？<br><br>2.包括登陆、确认等等按钮。在高峰期会真正地卡死，就是卡UI。这个可以明显感觉得到，就好像ios卡UI会被系统杀掉一样。卡到不行，最后导致浏览器让它crush了。<noscript><img src="http://pic3.zhimg.com/7b5596e06ec56ee64748416ec06e741e_b.jpg" data-rawwidth="227" data-rawheight="41" class="content_image" width="227"></noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="227" data-rawheight="41" class="content_image lazy" width="227" data-actualsrc="http://pic3.zhimg.com/7b5596e06ec56ee64748416ec06e741e_b.jpg"><noscript><img src="http://pic4.zhimg.com/d1537c0aee9d3225a9bdd3ce5d253d57_b.jpg" data-rawwidth="139" data-rawheight="39" class="content_image" width="139">败在前端最不能忍！</noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="139" data-rawheight="39" class="content_image lazy" width="139" data-actualsrc="http://pic4.zhimg.com/d1537c0aee9d3225a9bdd3ce5d253d57_b.jpg">败在前端最不能忍！<br><br>3.不仅仅是卡UI卡到崩溃这么简单，你卡在这个界面，<br><noscript><img src="http://pic1.zhimg.com/b071d6c4fcf854ba11c637a96b987d6c_b.jpg" data-rawwidth="440" data-rawheight="107" class="origin_image zh-lightbox-thumb" width="440" data-original="http://pic1.zhimg.com/b071d6c4fcf854ba11c637a96b987d6c_r.jpg"></noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="440" data-rawheight="107" class="origin_image zh-lightbox-thumb lazy" width="440" data-original="http://pic1.zhimg.com/b071d6c4fcf854ba11c637a96b987d6c_r.jpg" data-actualsrc="http://pic1.zhimg.com/b071d6c4fcf854ba11c637a96b987d6c_b.jpg"><br>点击一下“确认”没反应，两种情况——<br>(1)整个页面全部卡住，不响应任何动作。 <br>(2)按钮还可以点击。<br>一般用户怎么做？<br>(1)”完了，卡死了，刷新一下吧，关了重开吧“，12306：”请求中断“。<br>(2)”我去，点了没用啊，继续点啊点啊，狂点“，12306：”受不了，要挂要挂“。<br>这还怎么能买到票？不要小看交互，不要小看用户体验，不要小看细节，哪怕点击确认后按钮变灰还做不到吗？<br><br>4.等到终于出现提交订单的界面：<br><noscript><img src="http://pic3.zhimg.com/61dc57af325d6dbee112145e437d219a_b.jpg" data-rawwidth="521" data-rawheight="114" class="origin_image zh-lightbox-thumb" width="521" data-original="http://pic3.zhimg.com/61dc57af325d6dbee112145e437d219a_r.jpg">好的，再跳转到”未完成订单“看看：</noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="521" data-rawheight="114" class="origin_image zh-lightbox-thumb lazy" width="521" data-original="http://pic3.zhimg.com/61dc57af325d6dbee112145e437d219a_r.jpg" data-actualsrc="http://pic3.zhimg.com/61dc57af325d6dbee112145e437d219a_b.jpg">好的，再跳转到”未完成订单“看看：<br><noscript><img src="http://pic4.zhimg.com/dbc992bceb77a02b744acabbba6a5337_b.jpg" data-rawwidth="295" data-rawheight="72" class="content_image" width="295">尼玛，赶紧杀回订票页面重新订。呵呵，我还要重新选择乘车人、优先车次、优先铺位，呵呵。</noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="295" data-rawheight="72" class="content_image lazy" width="295" data-actualsrc="http://pic4.zhimg.com/dbc992bceb77a02b744acabbba6a5337_b.jpg">尼玛，赶紧杀回订票页面重新订。呵呵，我还要重新选择乘车人、优先车次、优先铺位，呵呵。<br>既然是这种放票——抢票的模式，这些信息大多难道不就是应该事先填好的吗？现在好像是订票系统的一个自动填充的附加功能一样。<br>不优化订票流程，不思考用户需求。为什么那么多”抢票助手“？不是因为”抢票助手“抢票快，而是便利、体验好。例如某抢票助手二代：<noscript><img src="http://pic4.zhimg.com/60a773ec0ab335ec736c819e963d034f_b.jpg" data-rawwidth="980" data-rawheight="509" class="origin_image zh-lightbox-thumb" width="980" data-original="http://pic4.zhimg.com/60a773ec0ab335ec736c819e963d034f_r.jpg">已经脱离了12306的页面，自己独立页面，防的就是卡UI。</noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="980" data-rawheight="509" class="origin_image zh-lightbox-thumb lazy" width="980" data-original="http://pic4.zhimg.com/60a773ec0ab335ec736c819e963d034f_r.jpg" data-actualsrc="http://pic4.zhimg.com/60a773ec0ab335ec736c819e963d034f_b.jpg">已经脱离了12306的页面，自己独立页面，防的就是卡UI。<br>有票就是有票，无票就是无票，拥堵就是拥堵，没订上就是没订上，该异步异步，该同步同步，你像石化了一样卡住，像个贱人一样”哎呀！“是什么情况？。<br><br>后台不了解，不敢妄加评论，可以参考<br>由12306.cn谈谈网站性能技术<a href="http://coolshell.cn/articles/6470.html" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">coolshell.cn/articles/6</span><span class="invisible">470.html</span><span class="ellipsis"></span><i class="icon-external"></i></a><br><br>解决不了核心问题，优化性能总是可以的吧。<br><br>很多人会说：用户体验再高，运力不足，不还是缺票吗？<br>是的，这不是一个网站好坏能决定的，票是源头问题。但一个购票体验的好坏却能体现<b>公平</b>。<br>没有绝对的公平，只有相对的公平，你不能让所有人有票，但至少能让大多数人觉得公平。<br><br>首先，放票前总有一部分票是留给xxx和铁路子弟的这个众所周知，不信可以悄悄问问在铁路工作的亲戚朋友。<br>我们用着12306官网或是”抢票助手“，如何能抢得过黄牛？我们一系列操作过后6秒一刷新，放出票来还得一番操作。”黄牛“们呢？无需图形界面，几条请求语句，多台电脑同时每秒轮番刷新。我的票被其他人抢走了算运气不佳，我的票被黄牛堵住了，肯定是不公平的。<br><br>成绩和变化是有目共睹的，技术上的瓶颈也是客观存在的，但并不能因此安于现状。<br><br>我就斗胆头脑风暴一下，比如：<br>我订南京——乌鲁木齐，只有一趟列车，抢不到。<br>但是却抢到了徐州到乌鲁木齐的火车票，而徐州到乌鲁木齐有5次列车，比较容易就买到票。然后很轻松地买一张从南京到徐州的高铁票就可以了。这种换乘方案虽然可能麻烦一点，多花一点钱，但至少可以订到票回家。<br>如今很多网站也有做行程规划的，帮你搜索机票低价日历，规划最优换乘。12306完全可以用这种方式，根据自己统计的数据帮用户提供第二选择，这样能起到”分流“作用，也是一种减缓热门站点压力的方法。<br><br>其实说到底，只是铁道部有没有像淘宝一样”动脑子“（当然了，毕竟票是刚性需求嘛）。不作为，不以服务为目的，烂就是烂，和砸多少钱，技术多NB无关。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3784708-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21466731">编辑于 2014-01-12</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>7 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3803990"
data-atoken="21514372"
data-collapsed="0"
data-created="1389247425"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="10.1252449799"


>
<a class="zg-anchor-hidden" name="answer-3803990"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">9</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$songxin"
class="zm-item-link-avatar"
href="/people/songxin">
<img src="http://pic1.zhimg.com/5172fe454866b5ec7d723892430f4ff8_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/5172fe454866b5ec7d723892430f4ff8_s.jpg" />
</a>



<a data-tip="p$t$songxin" href="/people/songxin">听海</a>，<strong title="前端 Tinghaige.com" class="zu-question-my-bio">前端 Tinghaige.com</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="9">

<span class="voters">
<span class="user-block"><a data-tip="p$t$ming-yang-13-77" href="http://www.zhihu.com/people/ming-yang-13-77" class="zg-link" title="明扬">明扬</a>、</span><span class="user-block"><a data-tip="p$t$cha-shu-gu-24" href="http://www.zhihu.com/people/cha-shu-gu-24" class="zg-link" title="茶树菇">茶树菇</a>、</span><span class="user-block"><a data-tip="p$t$lao-wang-21" href="http://www.zhihu.com/people/lao-wang-21" class="zg-link" title="老王">老王</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">作为常年没有抢票压力的人，在买了几次火车票之后觉得，所谓技术原因都是借口。<br><br>前面几十位朋友说的，关键在于票不够，显然是跑题了。我们谈论的是网站问题，不是铁道部有没有人贪污，铁路运力够不够好吗？<br><br>12306的问题在于，网站本身不顺畅。而且我们只是希望12306能回到一个正常网站的响应速度上来，而不是每一个操作都要等很久，不是时不时的报错。<br><br>为什么骂12306？我买张票，等了快半个小时，提交以后告诉我没票。这不蛋疼么。<br><br>承认12306的技术人员水平不够高有那么困难么？<br>淘宝就没遇到过前所未有的问题吗？我还真不信12306遇到的问题是现在无法解决的。<br>有困难可以解决，12306的进步我们也是有目共睹的。<br><br>简单的说就是：<br>有票就有票，没票你赶紧告诉我，我去想别的办法。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3803990-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-09" target="_blank" href="/question/22451397/answer/21514372">编辑于 2014-01-09</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>1 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3782457"
data-atoken="21461121"
data-collapsed="0"
data-created="1389080274"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="23.1252568718"


>
<a class="zg-anchor-hidden" name="answer-3782457"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">18</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
<h3 class="zm-item-answer-author-wrap">匿名用户</h3></div>
<div class="zm-item-vote-info " data-votecount="18">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xi-men-han-feng" href="http://www.zhihu.com/people/xi-men-han-feng" class="zg-link" title="西门寒枫">西门寒枫</a>、</span><span class="user-block"><a data-tip="p$t$zheng-xiao-jie-98" href="http://www.zhihu.com/people/zheng-xiao-jie-98" class="zg-link" title="郑小桔">郑小桔</a>、</span><span class="user-block"><a data-tip="p$t$sosdan" href="http://www.zhihu.com/people/sosdan" class="zg-link" title="凉宫八儿匕">凉宫八儿匕</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">本人非IT专业出身，有说错的还请见谅指正。<br><br>先直接回答题主的问题：票务IT系统和淘宝这样的电商在技术上有很大区别，就像卖包子的在忙不过来的时候不会找卖饼的帮忙做包子一样。<br><br>本人给欧美的航空业票务IT系统（简称PSS系统）公司做过项目，从技术上讲跟铁路票务系统是一个性质，就是每当卖出一张票，所有其他销售终端（网站，电话，火车站窗口代销点）正在查票信息的和正在付款买票的顾客都会受到影响，有可能上一秒还有的票下一秒就没了。所以数据在所有终端实时共享更新的要求很高。淘宝和amazon之类的电商就没有这么高的同步要求。<br><br>还有一点，每当顾客搜索票务信息时，并不是简单的检索从出发地到目的地的票价和余票数量，全国有这么多火车站，不可能任意两个车站都有直达车，每查询一次服务器要运行一遍路径搜索算法，寻找最快或者最便宜的结果，淘宝的关键词搜索和票务检索的技术区别应该还是比较大的吧。<br><br>2010左右年的时候，谷歌开始进入PSS市场，因为这个市场利润丰厚，PSS公司每卖出去一张就能找航空公司收$3-$20左右的费用（廉价航空公司情况不一样），但就算凭借谷歌自己在搜索领域的技术水平，他也没办法直接将技术直接移植使用，而是先收购一个PSS搜索技术公司。全球最大的PSS公司法国amadeus每年光在技术上的投资就不下10亿刀，中铁每年能投入多少？


</div>

</div>
<a class="zg-anchor-hidden ac" name="3782457-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21461121">发布于 2014-01-07</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>17 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3785102"
data-atoken="21467703"
data-collapsed="0"
data-created="1389094194"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="-17.8747442589"


>
<a class="zg-anchor-hidden" name="answer-3785102"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">16</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$incredible-vczh"
class="zm-item-link-avatar"
href="/people/incredible-vczh">
<img src="http://pic1.zhimg.com/3a6c25ac3864540e80cdef9bc2a73900_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/3a6c25ac3864540e80cdef9bc2a73900_s.jpg" />
</a>



<a data-tip="p$t$incredible-vczh" href="/people/incredible-vczh">vczh</a>，<strong title="专业造轮子 https://github.com/vczh-libraries" class="zu-question-my-bio">专业造轮子 <a href="https://github.com/vczh-libraries" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">github.com/vczh-librari</span><span class="invisible">es</span><span class="ellipsis"></span><i class="icon-external"></i></a></strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="16">

<span class="voters">
<span class="user-block"><a data-tip="p$t$geekxiong" href="http://www.zhihu.com/people/geekxiong" class="zg-link" title="王雄">王雄</a>、</span><span class="user-block"><a data-tip="p$t$xing-ming-64-16" href="http://www.zhihu.com/people/xing-ming-64-16" class="zg-link" title="邢明">邢明</a>、</span><span class="user-block"><a data-tip="p$t$quan-da-xiao-xue-sheng" href="http://www.zhihu.com/people/quan-da-xiao-xue-sheng" class="zg-link" title="拳打小学生">拳打小学生</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><p>说到底，还不是为什么过年非得回家，清明节、劳动节、国庆节就不行吗，传统就是瞎扯淡。</p><p>=======</p><p>其实我以前还跟别人讨论过，把火车票卖贵一点，然后户口在不同地区的人，可以在不同的一段日子里买到非常便宜的火车票。应该有很多舍不得花钱的人就可以在别的时候回家了。</p>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3785102-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21467703">编辑于 2014-01-07</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>37 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3779468"
data-atoken="21453817"
data-collapsed="0"
data-created="1389065128"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="259.125257944"


>
<a class="zg-anchor-hidden" name="answer-3779468"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">148</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$mo-mo-20-13"
class="zm-item-link-avatar"
href="/people/mo-mo-20-13">
<img src="http://pic2.zhimg.com/42daa0b55_s.jpg"
class="zm-list-avatar"
data-source="http://pic2.zhimg.com/42daa0b55_s.jpg" />
</a>



<a data-tip="p$t$mo-mo-20-13" href="/people/mo-mo-20-13">莫莫</a>，<strong title="化了" class="zu-question-my-bio">化了</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="148">

<span class="voters">
<span class="user-block"><a data-tip="p$t$zhang-feng-82-23-86" href="http://www.zhihu.com/people/zhang-feng-82-23-86" class="zg-link" title="张峰">张峰</a>、</span><span class="user-block"><a data-tip="p$t$DrOmoLau" href="http://www.zhihu.com/people/DrOmoLau" class="zg-link" title="刘奥妙大夫">刘奥妙大夫</a>、</span><span class="user-block"><a data-tip="p$t$xue-ji-42" href="http://www.zhihu.com/people/xue-ji-42" class="zg-link" title="雪霁">雪霁</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">一看题主就是被买票气的不行的，你是有多憎恨12306（开个玩笑）。那我就扯远点。<br>        买票这个事给淘宝也没用，<b>核心矛盾是票不够</b>，而不是12306网站速度慢，如果票能满足所有人的需求，你就算刷了几个小时才买到了回家了票 也不会这样憎恨12306吧，作为屁民大部分还会感恩戴德吧。<b>说白了还是供需矛盾</b>，铁道部不可能为了春运这一个月，平常就上大量的空车在线路上跑，IT企业可以通过租用云服务器解决瞬时流量问题，但是铁道部不行，就算租用了大量的服务器，并且解决了<a data-hash="789e2e68e5baf02a859da78a07527761" href="http://www.zhihu.com/people/789e2e68e5baf02a859da78a07527761" class="member_mention" data-tip="p$b$789e2e68e5baf02a859da78a07527761">@王强</a>提到的cpu性能瓶颈，所有人都能很流畅的买票，但是你发现瞬间票就售完了，我相信题主不会赞扬12306这次买票流畅，不卡顿，而是会继续骂娘。<br>        每年双11淘宝上都会有抢购比如2999的iphone，1999的ipad当然数量极少。一般都是开抢后几秒钟瞬间售光，也经常出现验证码刷不出来，小米的抢购大家也懂得，其实本质上跟12306抢不到票都一样。但是没抢到的大多就是呵呵一笑，最多骂两句就没了，有多少人就冲这恨上了淘宝、小米？那为啥这么多人没抢到票就愿12306呢？无非就是iphone,ipad,小米等不是必需品，抢不到了我可以等下次，甚至我用其他手机也行，但是每年春运的火车票对广大期盼回乡的游子来说决定了能否回家，能否见到自己的父母，妻子，儿女。<br>        12306这个问题的再NB的IT企业也无法从根源上解决，你让铁路再发展个5年也没用（还是不可能为了春运平时上大量的空车）归根结底是个社会问题，解决问题的方法就是发展落后地区的经济，如果你在西安，郑州，武汉，长沙，成都，这些中东部省会城市拿的工资跟北京上海比差不了多少，我想大部分还人是愿意留在离父母，离家近的地方打工吧，少数有闯劲的去北上广就行了，到时候买票难还是问题吗？<br><b>很多问题的解决不是因为想到了解决问题的方法，而是问题本身消失了。</b>经济发展平衡了，大家都在家门口打工，每年春运还用愁那一张回乡的票吗？


</div>

</div>
<a class="zg-anchor-hidden ac" name="3779468-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21453817">发布于 2014-01-07</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>38 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3787349"
data-atoken="21473124"
data-collapsed="0"
data-created="1389106694"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="51.1252548716"


>
<a class="zg-anchor-hidden" name="answer-3787349"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">37</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$Ivony"
class="zm-item-link-avatar"
href="/people/Ivony">
<img src="http://pic3.zhimg.com/23a5bca736788ab73e3bd58e56761cda_s.jpg"
class="zm-list-avatar"
data-source="http://pic3.zhimg.com/23a5bca736788ab73e3bd58e56761cda_s.jpg" />
</a>



<a data-tip="p$t$Ivony" href="/people/Ivony">Ivony</a>，<strong title="，，，" class="zu-question-my-bio">，，，</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="37">

<span class="voters">
<span class="user-block"><a data-tip="p$t$bu-luo-fan-chen" href="http://www.zhihu.com/people/bu-luo-fan-chen" class="zg-link" title="不落凡尘">不落凡尘</a>、</span><span class="user-block"><a data-tip="p$t$liu-qing-19-73-57" href="http://www.zhihu.com/people/liu-qing-19-73-57" class="zg-link" title="刘清">刘清</a>、</span><span class="user-block"><a data-tip="p$t$mi-cai" href="http://www.zhihu.com/people/mi-cai" class="zg-link" title="mi cai">mi cai</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">呵呵，去年有人在知乎问，<a href="http://www.zhihu.com/question/20492353/answer/15278514" class="internal">如果你是12306.cn网站技术总监，你会如何架构？</a><br><br>我回答，我会直接外包给淘宝去做，省钱省心。<br><br>不过老实说，虽然我很希望12306这个网站外包给淘宝去做，却不是因为淘宝的技术力量可以让这个网站解决售票难的问题。<br><br><br>因为火车票的问题的根本还是在于严重的<b>供需矛盾</b>，春运期间火车票太紧俏了，需求量太大了，这个矛盾短时间内几乎没有缓解的可能，而这也就决定了，<b>不论是谁来做这个网站，我们买到票的概率并不会提升，买到票的难度并不会下降</b>（<i>除非是我来做，可能会提升我买到票的概率XD</i>）<br><br>这个供需矛盾的症结则是在于火车票定价是<b>脱离市场</b>的，是被发改委物价局神马的卡死的。别说在春运期间，就是在平日里，几乎都没有什么比火车更为<b>价廉物美</b>的运输方式可以选择，而在春运期间，火车票就像是国家送温暖啊，<b>买到就是赚到</b>啊。<br><br>换言之，即使交给淘宝、京东、亚马逊去做，12306可能可以在用户体验，购票流程，或是稳定性方面（其实现在12306的稳定性已经不错了）得到加强，<b>却不可能让大家都满意</b>（因为没票才是硬道理么）。<br><br><br>事实上我很希望12306交由淘宝去做，更多的是为了让12306这个网站洪水般的流量发挥出<b>更大的价值</b>出来，这才是国有垄断企业的糟糕之处。一个中国流量排名Top10的网站，竟然让这些流量成为了服务器的累赘，重资购入大量硬件设备，且完全看不到任何收回成本的希望，这是很大的<b>浪费</b>啊。<br><br>铁道部，银行提醒你要还钱了，，，，


</div>

</div>
<a class="zg-anchor-hidden ac" name="3787349-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21473124">编辑于 2014-01-07</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>14 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3760518"
data-atoken="21406741"
data-collapsed="0"
data-created="1388913972"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="203.125268651"


>
<a class="zg-anchor-hidden" name="answer-3760518"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">183</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$zhang-xiao-yang-57"
class="zm-item-link-avatar"
href="/people/zhang-xiao-yang-57">
<img src="http://pic1.zhimg.com/da8e974dc_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/da8e974dc_s.jpg" />
</a>



<a data-tip="p$t$zhang-xiao-yang-57" href="/people/zhang-xiao-yang-57">张晓阳</a>，<strong title="......" class="zu-question-my-bio">......</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="183">

<span class="voters">
<span class="user-block"><a data-tip="p$t$yun-fan-96-60" href="http://www.zhihu.com/people/yun-fan-96-60" class="zg-link" title="云凡">云凡</a>、</span><span class="user-block"><a data-tip="p$t$qiuye-ichirou" href="http://www.zhihu.com/people/qiuye-ichirou" class="zg-link" title="邱野一郎">邱野一郎</a>、</span><span class="user-block"><a data-tip="p$t$chen-cheng-16-69" href="http://www.zhihu.com/people/chen-cheng-16-69" class="zg-link" title="陈成">陈成</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">我怎么感觉包给小米更合适呢？<br>今天发十万张票，大家抢啊，明天十万张……<br>到了淡季，那里到那里的票开放购买了……


</div>

</div>
<a class="zg-anchor-hidden ac" name="3760518-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21406741">发布于 2014-01-05</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>48 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3783694"
data-atoken="21464194"
data-collapsed="0"
data-created="1389085828"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="14.1252146365"


>
<a class="zg-anchor-hidden" name="answer-3783694"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">18</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$doudashi"
class="zm-item-link-avatar"
href="/people/doudashi">
<img src="http://pic4.zhimg.com/a0d65b857_s.jpg"
class="zm-list-avatar"
data-source="http://pic4.zhimg.com/a0d65b857_s.jpg" />
</a>



<a data-tip="p$t$doudashi" href="/people/doudashi">豆大师</a>，<strong title="♂产品设计师♂" class="zu-question-my-bio">♂产品设计师♂</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="18">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xiao-dao-72" href="http://www.zhihu.com/people/xiao-dao-72" class="zg-link" title="小刀">小刀</a>、</span><span class="user-block"><a data-tip="p$t$ming-yang-13-77" href="http://www.zhihu.com/people/ming-yang-13-77" class="zg-link" title="明扬">明扬</a>、</span><span class="user-block"><a data-tip="p$t$lao-wang-21" href="http://www.zhihu.com/people/lao-wang-21" class="zg-link" title="老王">老王</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">好像不能取消点赞，居然点赞了....反对第一的答案。（知道再点一次取消了~）<br>真假自辩和大v求证是一曲同工~<br><br>首先，罗列了很多数据，技术标准，乍看起来很有真实感，很让人信服。但是很多地方确实如回复中陈某说的，太局限在技术上了，而且让其他互联网巨头怎么想，其他大站负载不大？（我个人对陈某的说法也不赞同，他确实有点我无知我光荣- -）<br>我觉得解决方案并非要局限在技术上，技术上实现不了的产品上可以解决，产品上解决不了的运营可以解决。就好像几年前还没有12306就不能卖票了？再早些时候还没有网络，各个站也不能互通票务信息就不能卖票了？<br>我对12306的业务不熟悉，可能会不太恰当，但还是提个解决方案。解决王强提到的<br>“<br>淘宝的问题是其系统架构是分散度较高的，各个订单之间关联度不大；而12306每出一张票都要对全线路做数据更新（因为一条线路存在多个站点），因此系统负载相较淘宝来说集中很多，直接搬淘宝的方案也无法解决问题。<br>”<br>所有人可以同时买票，你可以看到当前车次的购票情况，当晚得知购票结果，是否买到，是否愿意接受站票等。<br>用户操作流程：<br>选车次→确认订票→付款→等待通知→买到→完成<br>选车次→确认订票→付款→等待通知→没买到→等待退款→完成<br>也就是说把订票像购房摇号之类一样来操作，这样就能规避你说的即时更新全线数据的负载压力了，只要有一套公平合理的抽奖算法就行了，这样难道不能解决这个问题么？<br><br>其次，提到了12306的根本问题其实区域发展差异问题。。。。我觉得这个偷换概念就偷换的太大了。生活在异地并非都是“背景离乡”的无奈，有很多是向往未知的生活。比如说，你能否认几乎每个人都有一个梦想是环游世界么？呆在老家并非是大多数最愿意的选择。<br>其实关于这点自习想想就觉得有多不靠谱~我也不多扯，想起个黄易的段子：<br>你跟他讲法律，他跟你谈政治<br>你跟他谈政治，他跟你讲民意，<br>你跟他讲民意，他跟你耍流氓<br>你跟他耍流氓，他跟你讲法律<br><br>最次，一个ui，交互烂到极致的网站，我无法想象他的架构能有多优秀。败絮其外，金玉其中真的存在么？<br><br>12306开发号称用了多少？<br>其实根本问题是12306是垄断企业做的


</div>

</div>
<a class="zg-anchor-hidden ac" name="3783694-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21464194">编辑于 2014-01-14</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>32 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3776042"
data-atoken="21445291"
data-collapsed="0"
data-created="1389022776"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="69.1252609418"


>
<a class="zg-anchor-hidden" name="answer-3776042"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">52</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$wei-hao-36"
class="zm-item-link-avatar"
href="/people/wei-hao-36">
<img src="http://pic4.zhimg.com/e0562c3cb_s.jpg"
class="zm-list-avatar"
data-source="http://pic4.zhimg.com/e0562c3cb_s.jpg" />
</a>



<a data-tip="p$t$wei-hao-36" href="/people/wei-hao-36">位浩</a>，<strong title="旅游管理学生，正在努力转入会计学" class="zu-question-my-bio">旅游管理学生，正在努力转入会计学</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="52">

<span class="voters">
<span class="user-block"><a data-tip="p$t$Ivory_cici" href="http://www.zhihu.com/people/Ivory_cici" class="zg-link" title="铜豌豆">铜豌豆</a>、</span><span class="user-block"><a data-tip="p$t$sosdan" href="http://www.zhihu.com/people/sosdan" class="zg-link" title="凉宫八儿匕">凉宫八儿匕</a>、</span><span class="user-block"><a data-tip="p$t$leng-xiao-ming-43" href="http://www.zhihu.com/people/leng-xiao-ming-43" class="zg-link" title="冷孝明">冷孝明</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><p>问题真的在网站吗？我买票从没有很困难过，不管用它新上线的app还是电脑，原因是我每次回家有二十多趟车一天，从来就没卖完过，自然就好买，那些买不到票的，主要原因不应该是没有那么多票吗？我个人认为最近几年的铁道部已经发展非常快了，真的不该被这么黑。</p>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3776042-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21445291">发布于 2014-01-06</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>16 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="13856422"
data-atoken="46151093"
data-collapsed="0"
data-created="1430208945"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="0.0"


>
<a class="zg-anchor-hidden" name="answer-13856422"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">0</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$huang-su-lin-73"
class="zm-item-link-avatar"
href="/people/huang-su-lin-73">
<img src="http://pic1.zhimg.com/da8e974dc_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/da8e974dc_s.jpg" />
</a>



<a data-tip="p$t$huang-su-lin-73" href="/people/huang-su-lin-73">黄宝宝</a>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info empty" data-votecount="0">



</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">IBM也不是神，最后还是他们自己解决的问题。其实没必要去神话IBM，IBM的解决方案通常比较贵罢了。


</div>

</div>
<a class="zg-anchor-hidden ac" name="13856422-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/46151093">发布于 2015-04-28</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>1 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3792988"
data-atoken="21487176"
data-collapsed="0"
data-created="1389160924"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="76.1252457096"


>
<a class="zg-anchor-hidden" name="answer-3792988"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">55</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$gnap"
class="zm-item-link-avatar"
href="/people/gnap">
<img src="http://pic4.zhimg.com/45907f74fa66fe7a90d230e93dc89943_s.jpg"
class="zm-list-avatar"
data-source="http://pic4.zhimg.com/45907f74fa66fe7a90d230e93dc89943_s.jpg" />
</a>



<a data-tip="p$t$gnap" href="/people/gnap">安江泽</a>，<strong title="" class="zu-question-my-bio"></strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="55">

<span class="voters">
<span class="user-block"><a data-tip="p$t$ai-de-hua-5" href="http://www.zhihu.com/people/ai-de-hua-5" class="zg-link" title="爱德华">爱德华</a>、</span><span class="user-block"><a data-tip="p$t$li-peng-22-48" href="http://www.zhihu.com/people/li-peng-22-48" class="zg-link" title="李朋">李朋</a>、</span><span class="user-block"><a data-tip="p$t$lastknow" href="http://www.zhihu.com/people/lastknow" class="zg-link" title="万万万">万万万</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">仅技术外包不靠谱，12306 的运营水平更需提高。在用户已经注册了帐号并且填入完整身份、支付信息的情况下，依然用售票窗口的思路设计服务产品，说明 12306 缺乏在互联网平台上创新的能力。如果 12306 把整个互联网售票渠道授权给某一个互联网公司，会催生很多创新的售票服务产品，并且轻易解决在线抢票的问题。<br><br>首先可以考虑的是『摇票』。春运行程固定，车次和起止车站都可以提前得知，多个旅客参与同一车次的『摇票』活动。客户提前充值，摇中自动购买，摇中摇不中短信通知，完全不需要在『放票』时间去和别人抢票。<br><br>其次，可以提供的是『行程规划』服务。旅客预充值并输入起止城市和浮动的出行时间，价格或者列车的档次等，由系统根据已预约的行程自动卖票，出票通知。不仅可以避免旅客在出票当天反复查询多个车次临时决定行程，还可以提前根据行程规划数据调配车次，避免人流上来了才发现车不够。<br><br>三是可以通过购票和车票使用情况建立信用记录，并以此决定『摇票』和『形成规划』服务的抢票权重，刺激用户诚信购票，打击黄牛买断车票的行为。<br><br>1. 2. 点还可以给网站带来大量的预存现金，并且相当一部分是不会再退给旅客的，可以直接用做春运时期的运营资金，或者存在余额宝里把利息发给网站员工，避免春运加班加点不能回家造成怨声载道，把气撒在打客服电话的旅客头上。^_^<br><br>=========无耻的分割线===========<br><br>很多人拿双十一天猫的流量和春运时的 12306 比，认为 12306 的流量更高天猫的也无法应对。但双十一搞出来就是用流量来刺激消费欲望的，而 12306 的用户买票需求稳定，需要的去峰值的产品服务形式。如果运营它的是一个互联网公司会首先认识到这一点，可能用很低的流量就把票卖出去了。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3792988-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-08" target="_blank" href="/question/22451397/answer/21487176">编辑于 2014-01-09</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>35 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3776713"
data-atoken="21446924"
data-collapsed="0"
data-created="1389027355"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="106.12526059"


>
<a class="zg-anchor-hidden" name="answer-3776713"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">71</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$frank-26"
class="zm-item-link-avatar"
href="/people/frank-26">
<img src="http://pic1.zhimg.com/0f39d7928_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/0f39d7928_s.jpg" />
</a>



<a data-tip="p$t$frank-26" href="/people/frank-26">Frank</a>，<strong title="高速铁路 CRH380BK" class="zu-question-my-bio">高速铁路 CRH380BK</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="71">

<span class="voters">
<span class="user-block"><a data-tip="p$t$larse" href="http://www.zhihu.com/people/larse" class="zg-link" title="Larse Ma">Larse Ma</a>、</span><span class="user-block"><a data-tip="p$t$li-peng-22-48" href="http://www.zhihu.com/people/li-peng-22-48" class="zg-link" title="李朋">李朋</a>、</span><span class="user-block"><a data-tip="p$t$fang-liang-76" href="http://www.zhihu.com/people/fang-liang-76" class="zg-link" title="方亮">方亮</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">12306外包给淘宝做又能怎么样？<br><br>淘宝的优势是什么？<br>完善的用户体验设计，美观的界面，丰富的高并发处理经验等等，但是把这些优势套到12306上，春运购票体验会有本质变化么？<br><br>12306归根结底就是个卖票的网站，虽然她名声在外，万众瞩目，但她在整个铁路系统只是微不足道的一环。12306做的再好，就算并发比现在高一万倍，界面好看一万倍，也不会多制造一张票。<br><br>12306不可能承载增加春运运力这么重大的使命。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3776713-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21446924">编辑于 2014-01-07</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>13 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3880760"
data-atoken="21705235"
data-collapsed="0"
data-created="1389864626"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="2.1252016195"


>
<a class="zg-anchor-hidden" name="answer-3880760"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">1</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$hai-tao-53"
class="zm-item-link-avatar"
href="/people/hai-tao-53">
<img src="http://pic1.zhimg.com/b30631834_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/b30631834_s.jpg" />
</a>



<a data-tip="p$t$hai-tao-53" href="/people/hai-tao-53">海涛</a>，<strong title="关注时事政经，思维+阅历=水平；制度需要技术（如分粥者最后取）" class="zu-question-my-bio">关注时事政经，思维+阅历=水平；制度需要…</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="1">

<span class="voters">
<span class="user-block"><a data-tip="p$t$liuhai" href="http://www.zhihu.com/people/liuhai" class="zg-link" title="刘海">刘海</a></span>
</span>


<span>赞同</span>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">首先，这种应用，IBM还真的不一定行。苏宁-IBM的合作结果摆在那里。。。。【
<a href="http://www.zhihu.com/question/22059634" class="internal">你为什么从苏宁离职？</a> 】；淘宝应该会好很多。<br>其次，<b>12306只是火车票系统的一个前置系统而已</b>，与窗口、代售点、电话并列，根本还未涉及核心的后台票务系统。除了12306，其它都是原有的旧系统。<br>所以，最近出现很多“理解派”其实都表错情了：12306所做的事情其实非常少。<br>另外，要杜绝把 <b>运力不足导致的票不够</b>，与 <b>网站没做好的卡死</b> 及 <b>给黄牛钻空子导致的票紧张</b> 混为一谈：运力不足，红米也产能不足，大家为什么没骂小米的网站差，而是骂雷军的饥饿营销？<br>当然，从规模来说，12306网站不卡死，也是需要很多投入和经验的。但是目前它有太多不该有的低级错误，这几年一路是改进了很多，但是还有一些自挖的坑。<br>最近有人说淘宝的压力与12306的压力不一样。得到很多人的理解。<br>但是，这种系统，最怕的是应用特点导致的数据库无法分多个服务器存储处理，而无法堆叠服务器，就只能尽量提高单服务器（集群、簇）的性能，而性能到一定程度后，不但性价比剧减，而且到一定规模后，基本很难再提高了。<br>而从后台的分解条件看，<b>火车票的座位、线路以及淘宝的店铺、商品，正好都是可以分服务器的——它们的交易，与其他座位、线路、店铺、商品没有紧密的相关性</b>。从这一点看，只要多设服务器，肯定可以解决（有些应用，简单的加服务器是无效的）。<br>只是从成本考虑，尽量少设服务器（如多个线路、多个局合用一个服务器）。但能分服务器，就是松了一口气。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3880760-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21705235">发布于 2014-01-16</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>2 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3788007"
data-atoken="21474781"
data-collapsed="0"
data-created="1389110524"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="87.1252443777"


>
<a class="zg-anchor-hidden" name="answer-3788007"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">65</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
<h3 class="zm-item-answer-author-wrap">匿名用户</h3></div>
<div class="zm-item-vote-info " data-votecount="65">

<span class="voters">
<span class="user-block"><a data-tip="p$t$cheng-feng-zhe" href="http://www.zhihu.com/people/cheng-feng-zhe" class="zg-link" title="乘风者">乘风者</a>、</span><span class="user-block"><a data-tip="p$t$wheel-time" href="http://www.zhihu.com/people/wheel-time" class="zg-link" title="Wheel Time">Wheel Time</a>、</span><span class="user-block"><a data-tip="p$t$zhao-xiao-60-20" href="http://www.zhihu.com/people/zhao-xiao-60-20" class="zg-link" title="赵骁">赵骁</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><p><strong>老师说：“大雄，给你90元，你再去跟胖虎借10元，这样你总共有多少钱？” 大雄说：“0元。” 老师说：“你根本不懂数学！” 大雄说：“你根本不懂胖虎！！<br></strong>技术就是毒品，技术控就是瘾君子，你能在里面找到极度快感，但终究你会死在技术上。自始至终技术以外的世界是和你无关的。</p><p>这道‘<strong>12306 为什么不外包给淘宝做’</strong>题目像极了一大包白色的粉沫状物体从天而降，然后就是捎带血丝的壮观场面，再就是各种</p><p>发泄后的快感。<br>言归正传我们用最最基础论证思维框架‘是什么 为什么 怎么办’来解答这道题。 </p><br>1.12306网站是什么？<br>答：是中国铁路系统卖火车票的网站<br>2.中国的火车票又不愁卖为什么还要建设12306网站呢？<br>答：为了迎合时代发展呀，现在的人们已经渐渐习惯了在互联网上买内裤、买手纸了，铁老大的车票不能买岂不是为社会主义抹黑吗？那好吧建12306.cn站吧！<br>3.下属请示领导怎么建设呢？<br>答：还是老一套呗搞个方案找几个砖家论证一下，申请点资金，大家内部操作一下走个招标的形式，下属单位的业绩要有，兄弟单位的产值也不能少，最好拉个I*M什么的来陪衬一下就更好了，于公于私大家面子上都能过去就行了，毕竟信息化不是修铁路挖隧道没有人命问题，顶多买不到票，我不建站你不照样买不到票，至于技术嘛!!!最好也扔给系统内科研院所，搞得好还可以当自主创新典型嘛！搞得不好也是下属单位好支会好处理。<br><p>事实上如果你相信12306网站建立的初衷是为了解决供求的问题，那么请你转到题首研读大雄借钱的故事。<br>既然精美的UI、优秀的架构、流畅的访问速度解决不了供需的问题那么铁老大为什么要让淘宝建站内？</p><p>PS：<br>关于以上提到的什么内幕呀关联 交易呀什么的请自行度娘,关于太极股份，同方股份背景的请自行挖掘，最重要的是要熟悉国家体制下央企的行事作风，铁老大的老大风格实在是太鲜明了。<br>至于12306能不能做到精美的UI、优秀的架构、流畅的访问速度呢，答案是肯定的，理由有二<br>1.从网站上线到如今，铁老大摒弃了I*M清华的Z/TPF，闭门造车自己摸索到2012年能抗11WTPS了，说明他们还是有人才和实力的再搞搞还是大有希望滴。<br>2.活生生的例子盯着12306的大牛太多了，所以愿意尝试解决的人也多，问题被解决的几率也大，况且现在公认的瓶颈在于集群架构问题，放眼全球能抗20wTPS的系统还是大有人在的。</p><p>我们都是技术控，但是我们不是外星人，用技术的眼光看社会，有时还得用社会的心态对待技术。<br>沒科學的人文是軟弱的、沒人文的科學是麻木的，二樣全沒真就是就是愚昧了</p><p>嘿嘿，一直以来知乎都算是一个优雅的地方，当我们在讨论知乎时，我们在讨论什么？</p>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3788007-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-08" target="_blank" href="/question/22451397/answer/21474781">编辑于 2014-01-09</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>9 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3818825"
data-atoken="21551058"
data-collapsed="0"
data-created="1389357001"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="15.1252373215"


>
<a class="zg-anchor-hidden" name="answer-3818825"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">13</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$huang-fang-yuan-60"
class="zm-item-link-avatar"
href="/people/huang-fang-yuan-60">
<img src="http://pic2.zhimg.com/9820a0f35_s.jpg"
class="zm-list-avatar"
data-source="http://pic2.zhimg.com/9820a0f35_s.jpg" />
</a>



<a data-tip="p$t$huang-fang-yuan-60" href="/people/huang-fang-yuan-60">黄方远</a>，<strong title="学生在读University of Rochester" class="zu-question-my-bio">学生在读University of Rochester</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="13">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xiao-dao-72" href="http://www.zhihu.com/people/xiao-dao-72" class="zg-link" title="小刀">小刀</a>、</span><span class="user-block"><a data-tip="p$t$li-fan-26-10" href="http://www.zhihu.com/people/li-fan-26-10" class="zg-link" title="李帆">李帆</a>、</span><span class="user-block"><a data-tip="p$t$li-peng-22-48" href="http://www.zhihu.com/people/li-peng-22-48" class="zg-link" title="李朋">李朋</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><p>我是来吐(fan)槽(dui)一下排名第一的逻辑的，附带一下我觉得为什么不分区的疑惑，虽然我知道这话题都快被讨论烂了也没什么人会拉下来看XD</p><p>===========引用==========</p><p>“<u>12306这个事情，就是标准的限价商品供不应求之后出现排队与黑市现象的例子。因为供不应求，所以有了黄牛、抢票软件与秒杀。如果供应充足，一个车次直到发车前都有一两张余票，那么黄牛、抢票就毫无存在价值，旅客也用不着守在电脑前和其他人比拼手速和网速以及电脑性能网络性能了。”</u></p><p>---1. 供需平衡下也可以出现黄牛，很简单地例子，100张票，正好100个人有需要，我黄牛一个人买掉20张，那只有80个人买得到票，剩下的人就必须根据“自己多么需要这张票”而付出额外的金钱。（“擦怎么没票了，铁道部傻逼啊”---“哟哟小哥，我这边正好还有两张票，要不要要不要？”---“多少钱？”----“500”----“尼玛这么贵？！”----“要不要随你，回不回去过年咯？想想你爸妈？”----（哔哔哔哔哔--）“好吧”）</p><p>---PS:原因？信息不对称啊，对于买家而言，他不知道如果他不买其实那20张票就没人会买了，他看到的只是如果不买这“剩下的两张”中的一张，他就回不去。经济学里就是讲，看“回家”这件事的marginal value有多高，有多高，通过一定的讨价还价，他就会付多少钱。</p><p>---PPS: 其实“供需平衡”只是个现象，实际中多数产品只要价格够低，需求总是会变多的...价格越低（质量不变的前提下），需求越高。</p><br><p><u>现在供应不足的前提下，12306就算把系统做的性能再高，也只是会加快热门车次票务秒杀的速度而已——而这更会刺激抢票软件，大家为了在更短的时间里成功抢到队列名额就会不断提升自己的抢票性能。打个比方说就是一个店门前排队，消费者为了增加买到商品的概率去雇人代排，每个消费者都雇了好多人，造成店门口的通道拥挤不堪。为了减缓拥堵，商家不断拓宽通道，但每次一拓宽消费者们就会增加雇佣的排队劳力把新增的通道空间占满，形成恶性循环。这样下去，只要还存在供不应求的现象，这种循环就不会有终止的时候。也就是说，12306的问题主要不是出在网站本身。</u></p><br>---2. 问题的表征确实是供需不平衡，但把“供应做大”只是其中一条思路，而且现在看来，是一条很难走的路。btw,其实大家对“性能”的要求之一也包含了维护秩序杜绝“插队“--假身份证和黄牛抢票吧？<br><br><p><u>那么怎样解决供应不足的问题？这么多年来铁路不断升级运力修建新线，已经建成全球最庞大的铁路运输系统，可是到了春运还是只能勉强应付。从这个角度来说铁路部门在供应不足的问题上也不该承担太大责任，他们已经做得很不错了。</u></p>---3. 从这里开始作者的思路就有点诡异了...你看我供应很难做，我们已经做得很好啦！所以一定是你们这群消费者的问题！╮(╯_╰)╭好吧...<br><br><p><u>那么问题的根源就出在不断增加的需求上了。为什么我国铁路系统需要承担如此庞大的客运流量需求？很显然，是因为全国范围的人口流动。大量务工上学人员过节要返乡，节后回驻地，这个刚性需求是合理的。可是为什么他们必须要到外地去打工上学？为什么数以亿计的人员要远离家乡去谋生求学？</u></p><p>----4. 于是作者把铁道部自身的问题转嫁到了“地区发展不平衡”上。我不想讨论动机，因为从回复里看，作者有的时候有点呆呆的，但至少还是让我觉得真诚的。所以我只是想说...少侠这个思路...不太对啊！</p><br><p>----所以，来说一下为什么我觉得作者思路不对&amp;为什么说是铁道部的问题？</p><p>5.1 因为首先，铁道部拥有一般企业没有的优势---国家资源。从上面的论述，我认为春运最主要的问题之一（1/2）是黄牛，是他们扰乱了市场的供需平衡，通过无端虚构一些需求来获取利润。但其实这个问题可以通过联网公安系统来解决（我们国家身份证都是防伪的啊，一个假身份证能买票还叫什么实名制啊？？这不是欺负老实人么？）这里铁道部的优势就出来了，作为资源支持，铁道部是【有能力】要求公安部配合的。</p><p>（所以这段吐槽的是王强君的思路，供需是不对，但这不能怪需求方啊，我有需求我想买东西天经地义啊...）</p><br><p>5.2 其次，这可行么？</p><p>是啊，光维持现在的峰值已经这么困难了，你还要再多一个数据库check环节？</p><p>这里我只是有个疑惑，铁道部设计网站的时候，为什么不分区？华东华南华西华北，只要在12306首页加一个引导页，“请问你的目的地是哪里?” 或者按方向，分成 "华东--》华南"、“华南--》华东”、“华东--》华西”etc. 一个方向的票全放在一个方向分区的服务器里，这样不就分流了么？你也不用全网时时推送余票数据了啊，一个方向分区站内更新数据库就可以咯。这样就可以解决“加了服务器也没有”的境况了吧？为什么不呢为什么没有呢为什么呢为什么</p><br><br><p>=====================</p><p>吐槽完毕，其实楼上很多吐槽体制的(好吧我有点美分向)很对我胃口啊。而且从经济学上来讲垄断确实很难达到社会效益(total marginal value)最大化，哪怕垄断者真的有心想这么做，更何况现实可能并非这样呢？我猜这也是为什么<a data-hash="789e2e68e5baf02a859da78a07527761" href="http://www.zhihu.com/people/789e2e68e5baf02a859da78a07527761" class="member_mention" data-tip="p$b$789e2e68e5baf02a859da78a07527761">@王强</a> 的帖子这么受争议楼下讨论如此激烈的问题，一半人在用技术，与，另一半在用制度来讨论的人，尝试互相沟通，结果谁都听不进，也说服不了谁╮(╯▽╰)╭</p><p>人生真是艰难。</p>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3818825-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21551058">发布于 2014-01-10</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>43 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3807781"
data-atoken="21523795"
data-collapsed="0"
data-created="1389266565"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="-2.8747562962"


>
<a class="zg-anchor-hidden" name="answer-3807781"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">18</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$imusiq"
class="zm-item-link-avatar"
href="/people/imusiq">
<img src="http://pic2.zhimg.com/ab02ca7fd_s.jpg"
class="zm-list-avatar"
data-source="http://pic2.zhimg.com/ab02ca7fd_s.jpg" />
</a>



<a data-tip="p$t$imusiq" href="/people/imusiq">Av</a>，<strong title="虾米" class="zu-question-my-bio">虾米</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="18">

<span class="voters">
<span class="user-block"><a data-tip="p$t$li-si-4-11" href="http://www.zhihu.com/people/li-si-4-11" class="zg-link" title="李四">李四</a>、</span><span class="user-block"><a data-tip="p$t$lao-wang-21" href="http://www.zhihu.com/people/lao-wang-21" class="zg-link" title="老王">老王</a>、</span><span class="user-block"><a data-tip="p$t$zhang-yuan-27-22" href="http://www.zhihu.com/people/zhang-yuan-27-22" class="zg-link" title="张元">张元</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">--------------------------------------------------------------------------------------------<br>第一名@王强 的答案：12306首秀被骂的狗血喷头后铁道部找来IBM、阿里巴巴等大企业要解决方案，给出的条件是资金管够但是问题得解决。几大企业最后都拒绝了。12306开始自己尝试解决问题。他们发现市面上可以买到的成套解决方案都不足以应付春运购票负载，所以只能自己改进已有的数据库（注：其实是改用<a href="http://www.vmware.com/cn/products/vfabric-sqlfire/overview.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">VMware SQLFire/GemFire<i class="icon-external"></i></a>，这里我之前理解错误）。<br>--------------------------------------------------------------------------------------------<br> @子小翼 在知乎日报评论区的说法：敢不敢放手给阿里做？保证完美解决不在话下。 <br>真能扯，不放手给别人做，自己做得那么差就反咬一口，说别人不敢接。<br>明明是马云亲自带领众弟子到铁道部洽谈，被铁道部以所谓不能与商业挂钩为由拒绝。之后淘系通过各种努力，都被压制。<br>--------------------------------------------------------------------------------------------<br>罗生门。<br>两个说法都没有信息来源，不可信。<br><br>直觉判断，换阿里巴巴做肯定比现在好。<br><br>12306通过太极股份采购自家产品，花了5亿建这个网站，显然是腐败。<br>搜狐做过一个专题解读这个时间：<a href="http://business.sohu.com/s2013/12306dc/" class=" wrap external" target="_blank" rel="nofollow noreferrer">公司调查第63期：12306成本调查<i class="icon-external"></i></a><br><br>12306那恶心的购票体验，高峰期老是奔溃，提示有票反复刷都没法买。<br>最反人类的是，每天晚上11点到早上7点都要维护！每天都需要维护8小时，这是上世纪穿越来的网站吧？<br>能不能买到票是另外一个逻辑的。<br>双十一能不能抢到自己心仪的东西，购物体验都是不错的，而且每一年都有很大的进步。<br><br>PS：这个问题下的答案得发多少五毛钱啊，现在行情点一个赞多少钱？


</div>

</div>
<a class="zg-anchor-hidden ac" name="3807781-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21523795">发布于 2014-01-09</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>10 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3779004"
data-atoken="21452632"
data-collapsed="0"
data-created="1389063129"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="28.1252574185"


>
<a class="zg-anchor-hidden" name="answer-3779004"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">21</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$Alan.Way"
class="zm-item-link-avatar"
href="/people/Alan.Way">
<img src="http://pic4.zhimg.com/2d3dd4d97_s.jpg"
class="zm-list-avatar"
data-source="http://pic4.zhimg.com/2d3dd4d97_s.jpg" />
</a>



<a data-tip="p$t$Alan.Way" href="/people/Alan.Way">淡定的小汤圆</a>，<strong title="美丽心情" class="zu-question-my-bio">美丽心情</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="21">

<span class="voters">
<span class="user-block"><a data-tip="p$t$muzique" href="http://www.zhihu.com/people/muzique" class="zg-link" title="王大亮">王大亮</a>、</span><span class="user-block"><a data-tip="p$t$oakfire" href="http://www.zhihu.com/people/oakfire" class="zg-link" title="魏永赳">魏永赳</a>、</span><span class="user-block"><a data-tip="p$t$ren-xiao-chi" href="http://www.zhihu.com/people/ren-xiao-chi" class="zg-link" title="任小媸">任小媸</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">有些人把问题都给搞错，还说什么票的问题不是一个网站能解决的，大哥，拜托你搞清问题再说好吧，让淘宝做不是解决票少的问题，不是让淘宝解决运力，是解决网站不瘫痪，别报错，如果没票你就提示说没票，别刷了半天网页挂了！而且高峰的时候都打不开网页，虽然那个时候还有票！简而言之，票的数量咱不管，咱就说网站体验好一些！而这个是淘宝能解决而12306不能解决的，没票就提示没票，别给我来个40X之类的报错！


</div>

</div>
<a class="zg-anchor-hidden ac" name="3779004-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21452632">编辑于 2014-01-07</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>2 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3776878"
data-atoken="21447325"
data-collapsed="0"
data-created="1389028807"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="40.1252383114"


>
<a class="zg-anchor-hidden" name="answer-3776878"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">26</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$antant"
class="zm-item-link-avatar"
href="/people/antant">
<img src="http://pic2.zhimg.com/4d37fd291_s.jpg"
class="zm-list-avatar"
data-source="http://pic2.zhimg.com/4d37fd291_s.jpg" />
</a>



<a data-tip="p$t$antant" href="/people/antant">thinkant</a>，<strong title="总的来说，这是个挺肤浅的人" class="zu-question-my-bio">总的来说，这是个挺肤浅的人</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="26">

<span class="voters">
<span class="user-block"><a data-tip="p$t$he-pan-97" href="http://www.zhihu.com/people/he-pan-97" class="zg-link" title="he pan">he pan</a>、</span><span class="user-block"><a data-tip="p$t$kkpilot" href="http://www.zhihu.com/people/kkpilot" class="zg-link" title="Charlie Ding">Charlie Ding</a>、</span><span class="user-block"><a data-tip="p$t$857026864" href="http://www.zhihu.com/people/857026864" class="zg-link" title="陈鹏">陈鹏</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">觉得可以把后端业务做成开放平台接口，再把接口开放给国内几家互联网公司。这样12306就不要管前端交互设计、支付、用户登录与管理、网站负载了，专心做好票务数据处理好了。接口的好处是只要设计交易支付协议格式，像银行的pos机支付和在线支付，一次网络请求就完成交易了。现在的网站，被无数抢票软件浏览器重发请求（达到十多亿次每日），先抢票后支付的流程不合理，造成资源的极大浪费。<br>这个数据处理复杂度，不会超过沪市的股票交易数据，那可是几万家交易所和券商、基金对同一只股票的买卖操作，服务器端能够每秒得出价格，不容半点差错。全国银行的每子电子交易数据处理也很复杂，大型在线游戏c/s端的数据交互也很复杂。<br>这些购票人员流量，一天几亿，反正闲着也是闲着，分散在淘宝京东等，电商每pv可值一块钱。微信购票有奖，支付宝钱包购票送集分宝，让他们去争流量争破头好了。这样用户也不会有登陆不进去、浏览器不兼容、服务器常挂掉的问题。<br>然后铁道部把住接口请求的门槛，比如淘宝一天只能接口请求一亿次，若要一亿五千万次，得花钱买，生财有道的好法子。由于请求限制，怎么让用户不瞎点击瞎查询，提高交互性，这些应用得想办法。<br>有些技术人员把业务需求想复杂了，理解成「一分钟上亿的pv」「每出一张票都要对全线路做数据更新」，夸大了技术的难度。一是在春运高峰期是每天二十四小时分时放票，有些线路票九点开始抢，有的十点开始，不可能是某时刻统一全部放票流量瞬间涌入。二是余票并没有和全国余票同步，而是一种放票制，规定固定数目的票给网站，现实里学生可以提前四十天买票单位可内部订票，站台排队提前时间更早。有时候上午有一百张票放出抢光，下午又会放出票。<br>还有，@王强 的答案里的「1TB内存，数据库全部在内存中运行」这话没人质疑吗？我虽然不是擅长服务器硬件，硬盘1TB我还信，内存能达到TB级了？数据库这种静态数据怎么能全部放在动态内存中运行？<br>最后吐槽一句，「12306再快也解决火车票供应不足的问题」，怎么会轻易被这种逻辑歪了楼。我们在讲效率问题，怎么又变成供需问题。12306难道没有解放人工售票的劳力？难道没有节省人排队买票的时间成本？<br>2014.01.10：楼上的铁路系统内部人士 @范二  是个删评论拉黑人的货，贴下我原来的评论吧，公道自在人心。<br><blockquote>铁老大就是铁老大，只有国有垄断才敢这么牛逼哄哄吧。垄断了80%的电商市场的阿里，哪个员工敢出来骂用户是loser？360公司，在系统杀毒优化软件没有机会的领域杀一条血路，一个蚊子做一盘菜，现在还被某些人骂成狗，他们至今对用户摆过脸色么？你这么屌，你领导知道么？<br>互联网产品，有竞争，几乎每天都在做优化和版本迭代，不创新就会死。政府的网站，工信部的域名备案查询网站，一个查询验证码怎么输不对得半小时。只有骂和倒逼，你们才会改进啊。去年的旧版12306网站，雇个前端临时工，把前端页面优化一下，一年省下来的流量费怕是几十万了吧，真以为我们是无理取闹，我们是心疼自己的钱被你们浪费了。用户的反馈，互联网公司第二天就改正了，你们是选择性失明啊。</blockquote>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3776878-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21447325">编辑于 2014-01-10</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>33 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3795787"
data-atoken="21494069"
data-collapsed="0"
data-created="1389175263"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="59.1252442393"


>
<a class="zg-anchor-hidden" name="answer-3795787"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">44</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$liu-jun-chen"
class="zm-item-link-avatar"
href="/people/liu-jun-chen">
<img src="http://pic3.zhimg.com/c0dde3eb2_s.jpg"
class="zm-list-avatar"
data-source="http://pic3.zhimg.com/c0dde3eb2_s.jpg" />
</a>



<a data-tip="p$t$liu-jun-chen" href="/people/liu-jun-chen">刘君臣</a>，<strong title="程序猿、美剧控、历史爱好者、单身待解救" class="zu-question-my-bio">程序猿、美剧控、历史爱好者、单身待解救</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="44">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xiang-yu-kang" href="http://www.zhihu.com/people/xiang-yu-kang" class="zg-link" title="项于康">项于康</a>、</span><span class="user-block"><a data-tip="p$t$li-peng-22-48" href="http://www.zhihu.com/people/li-peng-22-48" class="zg-link" title="李朋">李朋</a>、</span><span class="user-block"><a data-tip="p$t$chengzhx76" href="http://www.zhihu.com/people/chengzhx76" class="zg-link" title="程光灿">程光灿</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><b>代码优化不出来火车票好伐！！！！！</b><br>对于春节一票难求的问题，12306被国人吐槽的体无完肤，我曾今也是其中的一员，但是冷静的考虑后，我对12306表示同情！我表示今年我也没有买到回家的火车票，但是这不能怪12306，请先不要喷，先耐着性子往下看。<br><b>第一：公共资源有限</b><br>首先，一票难求由中国铁路的运力决定的，只有这么多火车，只有这么多座位，却有好几亿人在这几天同时需要这个资源，光想想就很恐怖。如果保证人人都能买到票，那就只有买更多的火车了，车次增加了就有了足够的座位，那么请试想一下，这么多火车同时在有限的铁路线上跑，你能保证不堵火车？即使调度有方，那节后数量庞大的火车的维护和保养费用谁来买单？平时哪里来的这么庞大的客流量？！<br><b>第二：东西部经济差距巨大</b><br>试举一例，我是乘坐K529次火车的，这是一列从杭州发往成都东的火车。这列火车要经过浙江省、江西省、湖北省、重庆市、四川省，常规线路连接杭州和成都东就只有这一列火车（临客除外），请再想一下这四省一市有多少人在华东打工赚钱？我想这个数字一定很庞大。平时工作忙很少回家团聚，过年回家更是刚需。真的没有这么多票供应。说到底还是东西部经济发展的剪刀差决定的，如果家乡有很就业机会、有比较好的发展条件、有比较好的薪资待遇，谁跑上千公里去打工？这个是经济问题更是个政治问题，多说无益，希望东西部的经济发展越来越平衡吧。<br><b>第三：网站技术架构</b><br>在不做技术的人眼中“这不就是买张票付个款吗？这能有多难？”。你不知道隔行如隔山吗？不同的业务场景下的技术实现是不一样的，不要认为你去天猫超市去买包纸巾和去12306买张票是一模一样的。<b>库存不一样好吗？前者是非固定的，后者是固定的；前者只需要写到队列然后闲时更新，后者则需要</b><b>实时全库查询并执行更新</b>。<a data-hash="789e2e68e5baf02a859da78a07527761" href="http://www.zhihu.com/people/789e2e68e5baf02a859da78a07527761" class="member_mention" data-editable="true" data-title="@王强" data-tip="p$b$789e2e68e5baf02a859da78a07527761">@王强</a>我严重同意楼主举的客户雇人去店面排队的例子<b>。</b><b>各种各样的刷票插件和刷票客户端的出现不仅没有减轻网站压力，反而更加加大了对网站的请求和数据IO，这只会让更多的人买不到票，甚至连网站都上不去。</b><br>关于票务系统和其他系统的不可比之处和一些优化方案匿名用户已经做了介绍，我不在赘述。我主要说说12306已经作出的相应调整和优化。<br>2012年6月选择了Pivotal GemFire分布式内存计较平台(Distributed In-memory computing)革新12306。<noscript><img src="http://pic4.zhimg.com/a8d1a4ef743c3b60f5386766b29cf30b_b.jpg" data-rawwidth="919" data-rawheight="525" class="origin_image zh-lightbox-thumb" width="919" data-original="http://pic4.zhimg.com/a8d1a4ef743c3b60f5386766b29cf30b_r.jpg"></noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="919" data-rawheight="525" class="origin_image zh-lightbox-thumb lazy" width="919" data-original="http://pic4.zhimg.com/a8d1a4ef743c3b60f5386766b29cf30b_r.jpg" data-actualsrc="http://pic4.zhimg.com/a8d1a4ef743c3b60f5386766b29cf30b_b.jpg"><b>GemFire分布式内存数据平台的技术原理</b>如上图所示：通过云计较平台虚拟化技术，将若干X86办事器的内存集中起来，组成最高可达数十TB的内存资本池，将全数数据加载到内存中，进行内存计较。计较过程自己不需要读写磁盘，只是按期将数据同步或异步方式写到磁盘。GemFire在分布式集群中保留了多份数据，任何一台机器故障，其它机器上还有备份数据，是以凡是不用担忧数据丢失，而且有磁盘数据作为备份。GemFire撑持把内存数据持久化到各类传统的关系数据库、Hadoop库和其它文件系统中。<br><noscript><img src="http://pic4.zhimg.com/26dd35f7ac5a903ff2fd97f74cad6307_b.jpg" data-rawwidth="354" data-rawheight="297" class="content_image" width="354">当前计较架构的瓶颈在存储，处置器的速度按照摩尔定律翻番增加，而磁盘存储的速度增加很迟缓，由此造成庞大高达10万倍的差距(如上图)当前计较架构的瓶颈在存储，处置器的速度按照摩尔定律翻番增加，而磁盘存储的速度增加很迟缓，由此造成庞大高达10万倍的差距(如上图)。</noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="354" data-rawheight="297" class="content_image lazy" width="354" data-actualsrc="http://pic4.zhimg.com/26dd35f7ac5a903ff2fd97f74cad6307_b.jpg">当前计较架构的瓶颈在存储，处置器的速度按照摩尔定律翻番增加，而磁盘存储的速度增加很迟缓，由此造成庞大高达10万倍的差距(如上图)当前计较架构的瓶颈在存储，处置器的速度按照摩尔定律翻番增加，而磁盘存储的速度增加很迟缓，由此造成庞大高达10万倍的差距(如上图)。<br>按照计较与存储的关系，我们可以将计较架构分为四代：<br><b>第一代，基于磁盘的单一系统</b>：计较过程中需要从磁盘读取数据。小型机、大型机是其中的佼佼者，将单一系统的机能做到极致。<br><b>第二代，基于磁盘的分布式集群系统</b>：计较过程中需要从磁盘读取数据，但通过度布系统将数据分离到分歧的办事器磁盘上，提高整个系统的处置能力。今朝良多大型互联网和电子商务公司采用基于X86办事器的分布式集群系统，依靠海量的X86办事器摆设解决高流量并发的问题。<br><b>第三代，基于内存的单一系统</b>：将整个数据库放在内存中，计较过程不需要从磁盘读取数据。整个系统的机能取决于单一系统的机能。传统的内存数据库就是这样的系统，对于企业级的应用可以很好地解决拜候速度的问题，但面临海量数据或是海量并发拜候的扩展性问题就力所不及。<br><b>第四代，基于内存的分布式集群系统</b>：GemFire就是这样的系统，并行计较是其关头技术之一，因而可以通过增加办事器摆设规模，在内存计较的根本上，线性扩展机能。<br><noscript><img src="http://pic2.zhimg.com/3f9488ee25a87338e7755a198b026029_b.jpg" data-rawwidth="865" data-rawheight="453" class="origin_image zh-lightbox-thumb" width="865" data-original="http://pic2.zhimg.com/3f9488ee25a87338e7755a198b026029_r.jpg"></noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="865" data-rawheight="453" class="origin_image zh-lightbox-thumb lazy" width="865" data-original="http://pic2.zhimg.com/3f9488ee25a87338e7755a198b026029_r.jpg" data-actualsrc="http://pic2.zhimg.com/3f9488ee25a87338e7755a198b026029_b.jpg"><br><noscript><img src="http://pic1.zhimg.com/0c645a183aaf0d46fd54eca2e46f9e30_b.jpg" data-rawwidth="789" data-rawheight="509" class="origin_image zh-lightbox-thumb" width="789" data-original="http://pic1.zhimg.com/0c645a183aaf0d46fd54eca2e46f9e30_r.jpg"></noscript><img src="//s1.zhimg.com/misc/whitedot.jpg" data-rawwidth="789" data-rawheight="509" class="origin_image zh-lightbox-thumb lazy" width="789" data-original="http://pic1.zhimg.com/0c645a183aaf0d46fd54eca2e46f9e30_r.jpg" data-actualsrc="http://pic1.zhimg.com/0c645a183aaf0d46fd54eca2e46f9e30_b.jpg"><br><p>根据系统运行数据记录，技术改造之后，<strong>在只采用10几台X86服务器实现了以前数十台小型机的余票计算和查询能力，单次查询的最长时间从之前的15秒左右下降到0.2秒以下，缩短了75倍以上</strong>。2012年春运的极端高流量并发情况下，系统几近瘫痪。而在改造之后，<strong>支持每秒上万次的并发查询，高峰期间达到2.6万个查询/秒吞吐量</strong>，整个系统效率显著提高。如上图所示。</p><p>订单查询系统改造，在改造之前的系统运行模式下，每秒只能支持300-400个查询/秒的吞吐量，高流量的并发查询只能通过分库来实现。改造之后，可以实现高达上万个查询/秒的吞吐量，而且查询速度可以保障在20毫秒左右。</p><p>新的技术架构可以<strong>按需弹性动态扩展</strong>，并发量增加时，还可以通过动态增加X86服务器来应对，保持毫秒级的响应时间。</p><br><b>结论：</b><br>不可否认阿里的技术团队确实很牛X，但是请不要认为除了阿里的技术团队以外就没有优秀的技术团队了好吗？即使阿里来做的话，依然解决不了这个购票难的问题，最多是操作流程和用户体验要好出很多很多！阿里花10年之功才积累到今天这个地步，12306还很年轻。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3795787-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-08" target="_blank" href="/question/22451397/answer/21494069">编辑于 2014-01-09</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>32 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3796022"
data-atoken="21494640"
data-collapsed="0"
data-created="1389176708"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="20.1252500518"


>
<a class="zg-anchor-hidden" name="answer-3796022"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">13</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$wang-dan-5-78"
class="zm-item-link-avatar"
href="/people/wang-dan-5-78">
<img src="http://pic3.zhimg.com/49a77ab32_s.jpg"
class="zm-list-avatar"
data-source="http://pic3.zhimg.com/49a77ab32_s.jpg" />
</a>



<a data-tip="p$t$wang-dan-5-78" href="/people/wang-dan-5-78">理想的蘑菇</a>，<strong title="招copy base CD/ACD请联系我，坐标深圳/北京" class="zu-question-my-bio">招copy base CD/ACD请联系我，坐标深圳/…</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="13">

<span class="voters">
<span class="user-block"><a data-tip="p$t$ta-bian-qing-shan" href="http://www.zhihu.com/people/ta-bian-qing-shan" class="zg-link" title="踏遍青山">踏遍青山</a>、</span><span class="user-block"><a data-tip="p$t$muzique" href="http://www.zhihu.com/people/muzique" class="zg-link" title="王大亮">王大亮</a>、</span><span class="user-block"><a data-tip="p$t$virtual" href="http://www.zhihu.com/people/virtual" class="zg-link" title="Virtual">Virtual</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">为毛很多答案都在讨论“根本问题是票不够”？我从来没抱希望一定能买到票，作为一个12306的个人用户，我只说我的用户需求。<br><br>我希望达到的是：<br>1.余票信息实时显示<br>2.如果做不到1，那么刷新页面的速度能够保证在0.5秒内<br>3.点击订票后出现明显的排队信息<br>4.如果不能做到3，请在点击订票后显示订票失败，以便我重新刷票<br>5.以上任何一步操作不出现服务器无响应的情况<br><br>此外还有很多不涉及服务器之类的纯粹用户体验设计上的问题不多说了。这跟我能不能买到票没有半毛钱关系，我相信没有任何人觉得12306网站做好了就能买到票。而应该关注的是<b>，花了这么多钱建成的网站好不好用，至于这个网站是用来买票还是用来下毛片，根本不是问题的核心。</b>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3796022-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21494640">发布于 2014-01-08</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>添加评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3763441"
data-atoken="21413957"
data-collapsed="0"
data-created="1388931585"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="25.1252674022"


>
<a class="zg-anchor-hidden" name="answer-3763441"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">23</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$Igarashisendai"
class="zm-item-link-avatar"
href="/people/Igarashisendai">
<img src="http://pic3.zhimg.com/1ffe70d1a_s.jpg"
class="zm-list-avatar"
data-source="http://pic3.zhimg.com/1ffe70d1a_s.jpg" />
</a>



<a data-tip="p$t$Igarashisendai" href="/people/Igarashisendai">Sephiroth</a>，<strong title="什么都懂一点" class="zu-question-my-bio">什么都懂一点</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="23">

<span class="voters">
<span class="user-block"><a data-tip="p$t$y_guo" href="http://www.zhihu.com/people/y_guo" class="zg-link" title="杨过">杨过</a>、</span><span class="user-block"><a data-tip="p$t$fleshfeng" href="http://www.zhihu.com/people/fleshfeng" class="zg-link" title="feng flesh">feng flesh</a>、</span><span class="user-block"><a data-tip="p$t$yu-ni-mei-de-ming" href="http://www.zhihu.com/people/yu-ni-mei-de-ming" class="zg-link" title="霜城">霜城</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><p>为什么总有人把淘宝和12306技术难度混为一谈…<br>
12306是做的不好，连基本的并发访问都处理的不好。但是这两者本身数据库就不同。敢问双11双12你能打开淘宝，但你能流畅的选择商品下单进入支付宝付款中间从没有卡顿么？<br>
更何况售票厅和网上订票电话订票同时都要确定一趟列车的一个座位时候，题主大概想想这其中的过程就明白了<br>
在重申一次，12306是烂到家，但请不要和淘宝比</p>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3763441-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21413957">发布于 2014-01-05</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>15 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="4736558"
data-atoken="23760645"
data-collapsed="0"
data-created="1395715305"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="8.1248044513"


>
<a class="zg-anchor-hidden" name="answer-4736558"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">4</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$ping-lun-shi"
class="zm-item-link-avatar"
href="/people/ping-lun-shi">
<img src="http://pic2.zhimg.com/ecd362c35_s.jpg"
class="zm-list-avatar"
data-source="http://pic2.zhimg.com/ecd362c35_s.jpg" />
</a>



<a data-tip="p$t$ping-lun-shi" href="/people/ping-lun-shi">评论尸</a>，<strong title="奔跑着哀悼" class="zu-question-my-bio">奔跑着哀悼</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="4">

<span class="voters">
<span class="user-block"><a data-tip="p$t$lmintlcx" href="http://www.zhihu.com/people/lmintlcx" class="zg-link" title="罗承鑫">罗承鑫</a>、</span><span class="user-block"><a data-tip="p$t$Jeffreywang" href="http://www.zhihu.com/people/Jeffreywang" class="zg-link" title="逍遥小妖">逍遥小妖</a>、</span><span class="user-block"><a data-tip="p$t$qren" href="http://www.zhihu.com/people/qren" class="zg-link" title="秋纫">秋纫</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><p>首先说结论：不能</p><p>论证过程：</p><p>根据IBM的对外宣传，从去年12月份开始上线的12306移动端就是IBM做的（来源：<a href="http://weibo.com/3624125415/ACzS79m5c?mod=weibotime" class=" wrap external" target="_blank" rel="nofollow noreferrer">新浪微博注册<i class="icon-external"></i></a>）</p><p>你们觉得有改进么？我觉得不。</p>


</div>

</div>
<a class="zg-anchor-hidden ac" name="4736558-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-03-25" target="_blank" href="/question/22451397/answer/23760645">编辑于 2014-03-25</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>添加评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3820453"
data-atoken="21555098"
data-collapsed="0"
data-created="1389367237"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="9.1252365656"


>
<a class="zg-anchor-hidden" name="answer-3820453"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">6</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$liu-jia-49-15"
class="zm-item-link-avatar"
href="/people/liu-jia-49-15">
<img src="http://pic1.zhimg.com/da8e974dc_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/da8e974dc_s.jpg" />
</a>



<a data-tip="p$t$liu-jia-49-15" href="/people/liu-jia-49-15">刘嘉</a>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="6">

<span class="voters">
<span class="user-block"><a data-tip="p$t$Lans_cloudy" href="http://www.zhihu.com/people/Lans_cloudy" class="zg-link" title="Kartellet">Kartellet</a>、</span><span class="user-block"><a data-tip="p$t$wu-mu-7" href="http://www.zhihu.com/people/wu-mu-7" class="zg-link" title="吴慕">吴慕</a>、</span><span class="user-block"><a data-tip="p$t$fleshfeng" href="http://www.zhihu.com/people/fleshfeng" class="zg-link" title="feng flesh">feng flesh</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><b>很多人的纠结点主要在这几个方面：</b><br><br><u>1。 车票余票计算复杂，比淘宝商品直接-1难很多。</u><br>确实如此，但是并非没有解决方案，12306目前使用的队列系统就是很好的解决方案。12306在第一年并没有队列系统，导致整个系统基本完全瘫痪。近两年已经改善很多。<br><br><u>2. 票少人多，无论用什么系统总会有人买不到票。</u><br>确实如此，但是就像一个评论说的非常好，不是所有人都能考上大学，关键要有一个公平的方式。<br><br><b>那么12306就完美了吗？ 其实还差很远。</b><br><br><u>1. 购票流程彻底错误。</u><b>第一</b>，先秒杀后输入信息给查询系统制造了极大的压力，而实际上开放购票时间固定，根本不需要查询余票，在整点时刻，所有车都是满票的。<b>第二</b>，先秒杀后输入信息，给了秒杀软件可乘之机，人手选择席别和乘车人，永远赶不上秒杀软件，这个就破坏了整个系统最关键的东西--公平。<br><br><u>2. 前端设计水平依然不高</u>，从代码就能看出来，虽然今年已经改进不少。还有容易被破解的验证码，又给作弊带来可乘之机。同时还有登录用户串线，秒杀软件突破5张限制等丑闻。<br><br><b>如果把12306外包给淘宝， 会更好吗？</b><br>很多人认为两者购买流程不一样，而且购票本来就是世界难题，所以淘宝也解决不了。但是淘宝的双十一，一样是世界难题，但是他在各个方面都解决的很好，证明了他有解决世界难题的能力，而且淘宝是互联网公司，比IBM之类的领域更靠近，更靠谱。没准淘宝在第一年就可以做到12306第三年的水平。<br>不过淘宝并非国企，如果一个国家的铁路购票系统依赖一个非国企，并不十分安全，所以全部外包不太现实，但是这安全代价造成了在至少2年时间里全民无法购票或无法公平购票。<br><br><b>如果我是领导我会怎么办？</b><br>把沈阳铁路局的车都扔给淘宝做，并要求淘宝随时有增加其他列车的能力。<br>其他的车次交给国企做， 并要求有随时接手淘宝负责的沈阳铁路局票务的能里。<br><br><b>这不是重复建设吗？</b><br>那为啥有中国移动，中国电信和中国联通？


</div>

</div>
<a class="zg-anchor-hidden ac" name="3820453-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-10" target="_blank" href="/question/22451397/answer/21555098">编辑于 2014-01-10</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>2 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3787327"
data-atoken="21473076"
data-collapsed="0"
data-created="1389106578"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="22.1252550108"


>
<a class="zg-anchor-hidden" name="answer-3787327"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">20</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
<h3 class="zm-item-answer-author-wrap">匿名用户</h3></div>
<div class="zm-item-vote-info " data-votecount="20">

<span class="voters">
<span class="user-block"><a data-tip="p$t$an-yang-36" href="http://www.zhihu.com/people/an-yang-36" class="zg-link" title="安阳">安阳</a>、</span><span class="user-block"><a data-tip="p$t$muzique" href="http://www.zhihu.com/people/muzique" class="zg-link" title="王大亮">王大亮</a>、</span><span class="user-block"><a data-tip="p$t$wang-shawn-59" href="http://www.zhihu.com/people/wang-shawn-59" class="zg-link" title="Wang Shawn">Wang Shawn</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><p>我觉得应该外包给雷军比较合适。<br>
1.先在小米官网开放购票预约，不设最高预约限额。<br>
2.开放购买时只释放一小部分票。然后通过小米官网，雷军微博，对外表示第一轮票只用了1秒就被抢光了。让大家少安毋躁，等待下一轮抢票。<br>
3.放出大部分车票，给淘宝黄牛，价高者得。<br>
4.待春运过后，彻底放开购买。</p><p>以上是根据小米的行经得出的建议，不严肃，可折叠。</p>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3787327-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21473076">发布于 2014-01-07</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>2 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3775422"
data-atoken="21443766"
data-collapsed="0"
data-created="1389019413"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="21.125243376"


>
<a class="zg-anchor-hidden" name="answer-3775422"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">17</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
<h3 class="zm-item-answer-author-wrap">匿名用户</h3></div>
<div class="zm-item-vote-info " data-votecount="17">

<span class="voters">
<span class="user-block"><a data-tip="p$t$y_guo" href="http://www.zhihu.com/people/y_guo" class="zg-link" title="杨过">杨过</a>、</span><span class="user-block"><a data-tip="p$t$xingmo" href="http://www.zhihu.com/people/xingmo" class="zg-link" title="Meepo">Meepo</a>、</span><span class="user-block"><a data-tip="p$t$oakfire" href="http://www.zhihu.com/people/oakfire" class="zg-link" title="魏永赳">魏永赳</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">不是铁道系统，但是因为业务关系有所了解。这个问题回答起来可以很长，但为了安全起见，简单谈谈。<br>铁道部没外包给阿里，无非两大主因：<br><ul><li>铁道部不愿给</li><li>阿里不想接</li></ul>首先谈第一个。接触了这么庞大臃肿又良莠不齐的官僚机构，你就会知道除非有来自高层关注，否则他们自己是不可能做出外包这个决定的。这，这还真是体制问题。（这里本来准备了一个例子，还是删了，若干年后也许可以解封，对不住各位）<br>然后谈第二个。阿里的技术应该没问题，但是绝对不可能是现在的淘宝系统直接套上去，上面已经有几个回答指出这点了。铁路卖票的模型差异和淘宝就不小，更关键是，他们的系统其实只是电子化，就是把原来那套业务模型搬到电脑上而已，而不是完全针对线上系统优化设计的。所以这个不是纯技术问题，你要想做得好，不可避免要动的业务模型，这可不是阿里能搞定的。这种风险，换我是马云也不接的。<br>--------------------------------------------------------------------------------------------------------------------------<br>P.S. 例子不能给。给点其他信息，据我个人了解，排名第一答案里的第一句话是不对的。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3775422-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-06" target="_blank" href="/question/22451397/answer/21443766">编辑于 2014-01-09</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>11 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3818246"
data-atoken="21549698"
data-collapsed="0"
data-created="1389352548"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="15.1252376356"


>
<a class="zg-anchor-hidden" name="answer-3818246"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">9</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$guanmian"
class="zm-item-link-avatar"
href="/people/guanmian">
<img src="http://pic2.zhimg.com/416d5ca85_s.jpg"
class="zm-list-avatar"
data-source="http://pic2.zhimg.com/416d5ca85_s.jpg" />
</a>



<a data-tip="p$t$guanmian" href="/people/guanmian">Steve Guan</a>，<strong title="轻微强迫症患者" class="zu-question-my-bio">轻微强迫症患者</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="9">

<span class="voters">
<span class="user-block"><a data-tip="p$t$lao-wang-21" href="http://www.zhihu.com/people/lao-wang-21" class="zg-link" title="老王">老王</a>、</span><span class="user-block"><a data-tip="p$t$astrowq" href="http://www.zhihu.com/people/astrowq" class="zg-link" title="王强">王强</a>、</span><span class="user-block"><a data-tip="p$t$qi-fei-2-45" href="http://www.zhihu.com/people/qi-fei-2-45" class="zg-link" title="亓飞">亓飞</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">“买票难”和“12306网站做的烂”是两个概念。对于“12306网站做的烂”，如果换做阿里来做一定比现在好很多。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3818246-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21549698">发布于 2014-01-10</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>1 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3798430"
data-atoken="21500651"
data-collapsed="0"
data-created="1389192800"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="3.1252489145"


>
<a class="zg-anchor-hidden" name="answer-3798430"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">3</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$mo-ya-xing-zhe"
class="zm-item-link-avatar"
href="/people/mo-ya-xing-zhe">
<img src="http://pic3.zhimg.com/e249af39e_s.jpg"
class="zm-list-avatar"
data-source="http://pic3.zhimg.com/e249af39e_s.jpg" />
</a>



<a data-tip="p$t$mo-ya-xing-zhe" href="/people/mo-ya-xing-zhe">磨牙行者</a>，<strong title="干产品干到人都老了，梦想是做达文西哪怕只做个要你命三千" class="zu-question-my-bio">干产品干到人都老了，梦想是做达文西哪怕…</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="3">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xingmo" href="http://www.zhihu.com/people/xingmo" class="zg-link" title="Meepo">Meepo</a>、</span><span class="user-block"><a data-tip="p$t$huang-zhuo-38" href="http://www.zhihu.com/people/huang-zhuo-38" class="zg-link" title="煌灼">煌灼</a>、</span><span class="user-block"><a data-tip="p$t$spoontzc" href="http://www.zhihu.com/people/spoontzc" class="zg-link" title="夏亚阿兹纳布">夏亚阿兹纳布</a></span>
</span>


<span>赞同</span>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><p>换谁来做都会被骂，无非是被骂的角度不同而已，登录为什么会卡？为什么不用cdn解决静态资源的访问问题？这个说明12306某些部分的设计是白痴水平。<br>
但解决了这些问题又如何呢？无非是把骂点转移到别的地方。转移到更加适合阴谋论的地方。<br>
当用户因为登录问题买不到票或者因渣ui不能忍受的时候，只会怀疑12306技术有问题，进而怀疑项目款变成了回扣。<br>
但当上述问题都不存在时，大家还是买不到票，结果是什么？是怀疑12306的购票规则有问题，为什么我的网络带宽比你大，你抢到我没抢到？为什么我下手快，你抢到我没抢到？随机？怎么个随机法？有没有内外勾结出给关系户？<br>
你是说你是真随机？好啊，我用抢票软件，我发动n多人一起抢。为什么我动用的资源多，最后还是没有战胜动用资源少的？为什么好多人都有这个感觉？要是真随机，怎么会这样？<br>
今天我听说同事说他同学在某公司做技术，帮他抢到两张票（凭某种特权），我会怎么想？</p><p>不管真随机假随机还是不随机，都不是公平。涨票价才是公平，但涨票价这事谁也不接受。涨价的利润就算直接发给没买到票的人，大家也肯定不接受！话说回来，有电脑有网的凭什么就要比没电脑没网络的人机会更多？在这件事上，大家要的是平等，不是公平。</p><p>技术本来是用来提供一种平等感的，但过分稀缺的资源在分发的时候就没办法给出平等感，平等感真做出来了，公平感就要丧失。</p><p>第三方公司要多少钱才能既有技术实力又有厚脸皮来做这个事呢？还是站一边笑笑安全吧。</p>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3798430-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21500651">发布于 2014-01-08</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>添加评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3785582"
data-atoken="21468894"
data-collapsed="0"
data-created="1389097131"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="2.125239864"


>
<a class="zg-anchor-hidden" name="answer-3785582"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">8</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$upstar"
class="zm-item-link-avatar"
href="/people/upstar">
<img src="http://pic3.zhimg.com/d5a6274c7a42e847bc8bc43b1a3daa36_s.jpg"
class="zm-list-avatar"
data-source="http://pic3.zhimg.com/d5a6274c7a42e847bc8bc43b1a3daa36_s.jpg" />
</a>



<a data-tip="p$t$upstar" href="/people/upstar">随机森林</a>，<strong title="一个小而美之梦" class="zu-question-my-bio">一个小而美之梦</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="8">

<span class="voters">
<span class="user-block"><a data-tip="p$t$MosesK" href="http://www.zhihu.com/people/MosesK" class="zg-link" title="绯红旅者">绯红旅者</a>、</span><span class="user-block"><a data-tip="p$t$sosdan" href="http://www.zhihu.com/people/sosdan" class="zg-link" title="凉宫八儿匕">凉宫八儿匕</a>、</span><span class="user-block"><a data-tip="p$t$lin-zu-xiong" href="http://www.zhihu.com/people/lin-zu-xiong" class="zg-link" title="林足雄">林足雄</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><a href="http://www.zhihu.com/people/789e2e68e5baf02a859da78a07527761" data-hash="789e2e68e5baf02a859da78a07527761" class="member_mention" data-editable="true" data-title="@王强" data-tip="p$b$789e2e68e5baf02a859da78a07527761">@王强</a> 讲的道理基本上是对的。12306所遇到的问题根本不在于IT技术，换句话说，根本问题不是通过技术可以解决的。<br><br>12306已经尽力了。一张票，一百个人都想买，这个矛盾怎么通过软件来解决？论系统的性能、体验，12306在国有企业的系统里面算是首屈一指了吧。你回想一下银行、电信运营商、航空公司的系统。<br><br>票不够似乎是铁道部的责任，但铁道部也是受害者。铁道部为什么亏损？贪污腐败固然是原因，但是还有一个更重要的原因是铁路运营的市场化被抑制了。铁道部不能制定灵活的营销策略，甚至不能涨价。为什么不能涨价？因为我们有那么多农民工兄弟和学生需要廉价的交通工具。铁道部也搞不懂为什么那么多傻x都特么要背井离乡跑到遥远的地方去念书、上班、打工还非要一起赶在春节回家。<br><br>这么说来无疑是乘客自己的责任了。但谁特么愿意舍弃父母、抛妻弃子、背井离乡？难道不是因为外面的大学更好、外面的收入更高、外面的机会更多？<br><br>是的，显然责任在于政府！资源投入不均衡，权力集中在大城市。似乎到这里是一个完美的结局。大家都可以拍着桌子大喊道，我早就说了，狗x的政府是傻x，是他们太无能造成了一切问题。<br><br>但是，政府其实也有无奈。这个国家的核心竞争力一直都是建立在人口红利之上。说白了就是靠人多，廉价的人。政府也希望我们国家都是苹果、高通这样的高端企业，但事实上我们只有富士康。噢，富士康那还是台湾的，我们只有富士康在河南、四川开的工厂。无论如何，当家乡也有工厂以后，可以更少的人跑去广东、浙江了吧。也算是减少了火车票的需求，这么说来，12306应该感谢富士康。<br><br>——————————————————————<br><b>补充：</b><br>以上讲的都是系统技术之外的大背景，为了表明我是懂技术、真正思考解决办法的人，我还是补充一些建设性意见。<br>看到很多技术专家深入阐述了高并发查询、订单完整性、库存管理，这些确实是困难。但是这些困难真的一定必须直面么？对于供需矛盾，无法通过系统设计来解决。但是在IT系统层面，确实可以通过设计来简化矛盾。<br><br><b>解决方法1：</b>把放票的次数增加。如果一天只放一次，那所有人都集中的一起。如果每5分钟放一次票，是否可以适度分散压力？这个方法听起来似乎有效，但是假如有刷票工具存在的话，就行不通了。<br><br><b>解决方法2：乘客分散购票。就像汽车限行。</b><br>当人很多的时候，火车站会开设多个窗口来分散队伍。当车很多的时候，可以按照车牌号限行。损害局部利益，换取更多的整体利益。这是很好的思路。<br>所以，我们把乘客进行分群，把各个群强制分散到不同的时间段购票。<br>分群方法有很多。可以随机分群，也可以按特征分群。比如身份证尾号为1的早上8点-10点、尾号为2的10点-12点...<br>在确保公平的前提下，分散了压力。前提是，每一段时间放出相同数量的票。<br><br>有人会说，那万一我恰好有事不能赶在规定的时间购票呢？听起来似乎有道理，谁也难免有点急事。<br>优化措施：自主选择群。让所有将会在网上购票的人预先自主选择一个时间段（买过票的人都知道，提前放票的日期是固定的，可选择的只是一天内的时间段）。并且还能看到同一个时间段有多少人，大家会选择人相对少的时间段，这样就让压力均匀分布。一旦你选定一个时间段，你就只能在这个时间段购票。<br><br>我是不是显得过于机智了？<br><br><b>解决方法3：预先登记，随机分配。就像卖彩票。</b><br>12306为什么会遇到这个问题？<br>因为思维惯性。传统窗口售票是采用顺序优先的方法，这没有问题，因为传统窗口不会同时涌进来10000万要求排队，但是在网上可以同时涌进来1亿人。（这里所说的同时，是针对人类的感知能力，不是机器时间）<br>假设12306再投入5个亿的成本（都是纳税人的钱），建设了一套理论上足够厉害的系统：可以实时处理100000000000000000000000次/秒的请求，并且可以把请求的先后顺序精确到0.000000000000000001秒，这样的话，一切问题都解决了吧。<br>但是这样有什么意义呢？0.000000000000000001秒已经远远超出了人类的反应速度，理论上的公平，事实上变成了随机分配。<br><br>当然，我并不是说“谁运气好就能抢到”这本身有什么问题，事实上随机分配也是很好的思路。彩票不就是这样的吗？<br>操作方法是这样的：让所有人在提前一段时间内登记购票需求。登记完成以后，随机抽取出来一部分幸运乘客售票。在抽奖的时候不考虑登记的时间先后顺序，所以没有拥堵、没有高负载和并发。为什么彩票不会抢购？并不是因为彩票不一定能赚，也不是因为彩票数量无限，而是因为是否中奖跟先后顺序没有关联。现在跟我一起念一遍：没有优先，就没有杀戮。<br>鉴于知乎用户们的智商都很高，有人可能会问：如何确定抽出多少个用户呢？如何确保抽出的用户刚好买完所有的票呢？<br>我会假装说，Good question！答案是：可以一个一个的抽，抽出以后如果有他要的票，就卖给他，如果没有他的票，就再抽下一个。直到所有的票卖完为止。这听起来似乎有点麻烦，但是这对计算机来说是很简单的事情。<br><br><br><b>综上所述：对于12306的技术层面的讨论是一个笑话。</b><br>很多人都喜欢拿淘宝和小米来说，那我们就来看一下这是不是同一个问题。淘宝在双11的时候、小米在限量抢购的时候会出现春节前12306一样的海量访问。但这三者在业务层面是有差别的。<br><ul><li>淘宝之所以出现抢购是因为有部分低价商品有数量限制（假如没有数量限制，那还抢个毛啊），而且这种限制是人为设置的。淘宝的目的就是用这些低价商品吸引流量，提升其他商品的销量。<br></li><li>但是12306的火车票卖完了就可以歇了，没有交叉销售，剩余流量没有价值。这种差异决定了，淘宝需要有效应对每一次访问，而12306不需要。<br></li><li>再说说小米，也是卖完了就没了，跟12306差不多。所以小米很机智，就做了一个假的前端按钮，一点就告诉你没货了，根本没有去查询后端数据库。小米如此调戏用户，固然值得抨击，但是我们也可以看出小米是真正思考过问题。而12306的技术专家们、包括上面各种一来就讨论技术的人们，都没有从业务层面去思考。</li></ul>总之，12306根本不需要那么强的处理能力。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3785582-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21468894">编辑于 2014-01-10</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>13 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3773423"
data-atoken="21438824"
data-collapsed="0"
data-created="1389008015"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="18.125261987"


>
<a class="zg-anchor-hidden" name="answer-3773423"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">15</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$li-de-bao-32"
class="zm-item-link-avatar"
href="/people/li-de-bao-32">
<img src="http://pic2.zhimg.com/888c06ce2d2672e3553063882b045b25_s.jpg"
class="zm-list-avatar"
data-source="http://pic2.zhimg.com/888c06ce2d2672e3553063882b045b25_s.jpg" />
</a>



<a data-tip="p$t$li-de-bao-32" href="/people/li-de-bao-32">李得宝</a>，<strong title="普通伪铁路爱好者" class="zu-question-my-bio">普通伪铁路爱好者</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="15">

<span class="voters">
<span class="user-block"><a data-tip="p$t$fleshfeng" href="http://www.zhihu.com/people/fleshfeng" class="zg-link" title="feng flesh">feng flesh</a>、</span><span class="user-block"><a data-tip="p$t$xingmo" href="http://www.zhihu.com/people/xingmo" class="zg-link" title="Meepo">Meepo</a>、</span><span class="user-block"><a data-tip="p$t$ma-hang" href="http://www.zhihu.com/people/ma-hang" class="zg-link" title="马航">马航</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">我来说一下如果给淘宝做，淘宝可以做什么。<br>1，优化热门车放票时间，防止同时大批量同时抢票。比如预约售票，随机安排。就像正方系统选修课的安排一样。而不是同时大家一起抢。当然了，要是买3张这样的还是会给连坐的。<br><br>2，整合特价机票，分流用户。空铁联运。<br><br>3，用技术手段分析运力，优化票额分配方案。<br><br>4，大数据分析，提倡合理换乘。比如上海到川渝方向车票紧张，可在武汉换乘，合理分配运力。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3773423-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21438824">发布于 2014-01-06</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>13 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3785308"
data-atoken="21468214"
data-collapsed="0"
data-created="1389095646"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="12.1252397631"


>
<a class="zg-anchor-hidden" name="answer-3785308"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">7</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$xuxiaolan"
class="zm-item-link-avatar"
href="/people/xuxiaolan">
<img src="http://pic4.zhimg.com/f9cdac8eb_s.jpg"
class="zm-list-avatar"
data-source="http://pic4.zhimg.com/f9cdac8eb_s.jpg" />
</a>



<a data-tip="p$t$xuxiaolan" href="/people/xuxiaolan">徐小懒</a>，<strong title="写代码爱好者，创业中" class="zu-question-my-bio">写代码爱好者，创业中</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="7">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xie-chao-54" href="http://www.zhihu.com/people/xie-chao-54" class="zg-link" title="叶超">叶超</a>、</span><span class="user-block"><a data-tip="p$t$jun-wen-29" href="http://www.zhihu.com/people/jun-wen-29" class="zg-link" title="jun wen">jun wen</a>、</span><span class="user-block"><a data-tip="p$t$wang-shawn-59" href="http://www.zhihu.com/people/wang-shawn-59" class="zg-link" title="Wang Shawn">Wang Shawn</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">先把技术问题放一边<br>我们站在淘宝的角度，从业务角度来考虑下，马云会不会接这个活儿？<br><br>接个外包个技术活儿，<b>流量</b>还是12306的，淘宝能收多少技术服务费？<br>几个亿RMB的收入，这么点钱对淘宝、对马云有啥诱惑力？<br><br><br>马云想要的一定是<b>流量</b>，只要能让用户<b>上淘宝买火车票</b>，<b>不要钱都干</b>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3785308-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21468214">编辑于 2014-01-10</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>4 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3796573"
data-atoken="21496042"
data-collapsed="0"
data-created="1389181022"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="6.1252497469"


>
<a class="zg-anchor-hidden" name="answer-3796573"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">6</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$wink"
class="zm-item-link-avatar"
href="/people/wink">
<img src="http://pic1.zhimg.com/61eed6048_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/61eed6048_s.jpg" />
</a>



<a data-tip="p$t$wink" href="/people/wink">姚维</a>，<strong title="前聚能推cto" class="zu-question-my-bio">前聚能推cto</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="6">

<span class="voters">
<span class="user-block"><a data-tip="p$t$ben-miao-28" href="http://www.zhihu.com/people/ben-miao-28" class="zg-link" title="Ben Miao">Ben Miao</a>、</span><span class="user-block"><a data-tip="p$t$xiao-xiang-40-84" href="http://www.zhihu.com/people/xiao-xiang-40-84" class="zg-link" title="潇湘">潇湘</a>、</span><span class="user-block"><a data-tip="p$t$shui-kou-16" href="http://www.zhihu.com/people/shui-kou-16" class="zg-link" title="shui kou">shui kou</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><a href="http://server.chinabyte.com/151/12820151.shtml" class=" wrap external" target="_blank" rel="nofollow noreferrer">分布式集群内存数据技术引领12306技术革命<i class="icon-external"></i></a> 这个链接可以纯当作一个笑话来看。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3796573-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21496042">发布于 2014-01-08</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>1 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3781932"
data-atoken="21459813"
data-collapsed="0"
data-created="1389077477"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="8.1252570697"


>
<a class="zg-anchor-hidden" name="answer-3781932"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">8</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$zhong-yue-ming"
class="zm-item-link-avatar"
href="/people/zhong-yue-ming">
<img src="http://pic3.zhimg.com/bb6746e8a_s.jpg"
class="zm-list-avatar"
data-source="http://pic3.zhimg.com/bb6746e8a_s.jpg" />
</a>



<a data-tip="p$t$zhong-yue-ming" href="/people/zhong-yue-ming">终月冥</a>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="8">

<span class="voters">
<span class="user-block"><a data-tip="p$t$zhang-xing-yun" href="http://www.zhihu.com/people/zhang-xing-yun" class="zg-link" title="张星云">张星云</a>、</span><span class="user-block"><a data-tip="p$t$li-tian-81" href="http://www.zhihu.com/people/li-tian-81" class="zg-link" title="李田">李田</a>、</span><span class="user-block"><a data-tip="p$t$liumapple" href="http://www.zhihu.com/people/liumapple" class="zg-link" title="liumapple">liumapple</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">可能是怕7天无理由退货，没抢到坐票的可能会给差评。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3781932-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21459813">发布于 2014-01-07</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>1 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3810677"
data-atoken="21531037"
data-collapsed="0"
data-created="1389286539"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="6.1252422936"


>
<a class="zg-anchor-hidden" name="answer-3810677"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">5</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$ray-duo"
class="zm-item-link-avatar"
href="/people/ray-duo">
<img src="http://pic1.zhimg.com/da8e974dc_s.jpg"
class="zm-list-avatar"
data-source="http://pic1.zhimg.com/da8e974dc_s.jpg" />
</a>



<a data-tip="p$t$ray-duo" href="/people/ray-duo">Ray Duo</a>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="5">

<span class="voters">
<span class="user-block"><a data-tip="p$t$duo-kan-shao-shuo-23" href="http://www.zhihu.com/people/duo-kan-shao-shuo-23" class="zg-link" title="多看少说">多看少说</a>、</span><span class="user-block"><a data-tip="p$t$hai-tao-53" href="http://www.zhihu.com/people/hai-tao-53" class="zg-link" title="海涛">海涛</a>、</span><span class="user-block"><a data-tip="p$t$fleshfeng" href="http://www.zhihu.com/people/fleshfeng" class="zg-link" title="feng flesh">feng flesh</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix"><p>看了 <a href="http://www.zhihu.com/question/22451397/answer/21426532" class="internal"><span class="invisible">http://www.</span><span class="visible">zhihu.com/question/2245</span><span class="invisible">1397/answer/21426532</span><span class="ellipsis"></span></a> 这篇答案以及评论，虽然最近才看知乎，也从没回答过问题，但这次不吐不快。下面把在上面评论copy如下：</p><p>（第一次在知乎留言，知乎的留言竟然不分页，好粗暴）<br>
作者说了两件事情：<br>
1、供需问题，归根结底是发展不平衡。这个说法没错，但是没有讨论的价值。现在中国好多问题说到底都和地区发展不平衡、资源分配不平衡有关，高考问题、房价问题、户籍问题等等。具体到12306这个问题上，需求大于供给这种理由，虽然是事实，但听起来很像在敷衍。因为我看即使买到票的人都在骂这个网站烂。</p><p>2、12306遇到的问题是世界级难题，单节点计算能力有瓶颈，几乎无解。我看了作者的回答，以及作者和大家的讨论，发现12306这件事确实没有以前想的那么简单。昨天就看到帖子了，昨天今天在路上也都一直在想，我觉得也没有作者说的那么复杂。</p><p>--</p><p>虽然在线售火车票和淘宝卖东西不太一样，但最终都是商品售卖，都是下单和库存管理。</p><p>作者说12306卖票比淘宝卖商品要复杂很多，我看也不见得。淘宝在下单的时候，也有很复杂的情况，比如套餐组合折扣、红包、店铺红包、各种积分抵扣、优惠券抵扣，而12306的订单信息就简单的多，从处理订单的复杂程度来看，淘宝更甚。当然这都是下单后的业务，要说下单这个过程，12306看起来要复杂一些，但其实并不一定。</p><p>由于每列车之间的售票是没有关联的，所以可以单就一列车票的售卖来说明。假设一列车全程有20个站，那最终所有可买的组合是C20，2，大约有不超过200个选择。所以可以看成有200个商品在售卖，只不过每卖出一个商品，要更新多个商品的库存罢了（所有和所卖出路线有重合的路线的库存都要减1）。这200个商品的库存都放内存的话，即使每下一单把200个商品都更新一次，开销也不大吧。当然也要考虑下单量和下单频率。</p><p>再来看订单数量的问题，根据讨论中看到的资料，一次列车大约算5000个座位的话，按极端情况来算，每个乘客只做一站就下车。那么所有车票卖完产生的订单数是5000*19~=10万。假如所有乘客坐5站就下车，那么订单数立马下降为2万。即便这样的话，也比较夸张了，毕竟5站以内的这种短途，很多人宁可选择客车了。我觉得，对于一个20站的旅程，按所有人10站下车，应该算是合理的。这样算下来也就1万单了。一台服务器处理1万个订单困难么？当然还要看下单频率。</p><p>用户的下单频率是不可控的，但是系统处理订单的速度是可控的。用户整点开始疯狂刷新，这时其实都不用太关心界面上显示的余票数量准不准（没人会抱怨说明明网站上显示有2张票，为什么我点进去没有了）。这1万的订单需求，即时有10万个人在抢，那就让这10万人都进来得了，系统把这10万人都放进一个大队列里，也没有说要把10万人1秒全消化掉。剩下的就是下单和减库存了，一个一个来，想不明白怎么可能出现超单？而且订单的逻辑极其简单，没有促销折扣、套餐组合，纯粹是把商品（200个中的一个，纯静态的）+人+日期（固定的）关联起来，处理完一条，相关库存减一，这样1万个订单处理完，要很久么？？？当然也可能没那么简单，毕竟还有各种席别之分，还有乘车日期的问题。</p><p>如果考虑上乘车日期的话，那商品可能要远远大于200了，但从春运的情况来看，基本上一天的车票，很短时间内就卖完了，所以商品的列表里很少会同时出现1天以上的待售商品（路线）。<br>
如果考虑到席别的问题，那商品的数目可能要翻翻，但这仅仅是在空间上有更多消耗（内存），在更新库存的时间消耗并没有增加，如处理一个卧铺订单，只不过要在200个卧铺商品中更新库存罢了。</p><p>最终体现在产品和系统上，流程大约就是这样的，某整点开始放票，用户疯狂刷余票数量，前端服务器向后端系统请求余票数，并缓存5秒。用户看到有余票，点击下单。系统接到下单请求，放到队列里。这时不管用户怎么刷新页面，所有的压力都在前端服务器，后端订单处理服务器只不过需要每5秒（1秒一次也无所谓吧）报告一次余票。其他计算资源全部专心处理订单就好了。也就10000单，都是内存读写，分分钟好嘛。。。</p><p>以上的判断是基于20站的列车，有些车次站大于20，但也有的车次站数很少（大部分高铁和动车），基本上和按20站算差不多。而且是按任意两站点的票数是均匀的，但实际上并不是这样，以我的经历来看，明明始发站点1~终点站点10的票有很多，但买站点1~站点5却买不到，最后没办法只能花2倍的钱，买始发到终点。所以最终一列20站的列车最终商品数肯定不会超过100。<br>
这还把整列火车的所有5000个座位都放上网上来卖的结果。</p><p>当然每次列车一台服务器，太浪费了，春运一过，就全闲置了，但也不是作者说的那样靠加机器解决不了。其实实际做的时候，可以通过调整预售期和放票时间，一台服务器可以处理很多的车次，最终也用不了太多的服务器。</p><p>另外之前说12306新版一期就花了近2亿不知道是真是假？</p><p>另外，产品上可以改（tu）进（cao）的点太多了。现在是一旦放票，整个页面就卡住了，竟然能把浏览器卡死，只不过是网络请求时间长了而已，页面上也没什么特效，也没啥计算量，怎么会卡崩溃？？？看了下JS代码，写的那叫一个乱，那叫一个烂。前端团队这么烂，系统和运维团队会特别高明？？？</p><p>最终12306的下场就是，买不到票的人，明明第一时间点进去了，排队等了大半天，最后没买到，一通骂。抢到票的人也是莫名其妙，中间卡了个半死，以为抢不到了，最后不知道怎么就抢到了，也是一通骂。</p>


</div>

</div>
<a class="zg-anchor-hidden ac" name="3810677-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21531037">发布于 2014-01-10</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>1 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3797831"
data-atoken="21499169"
data-collapsed="0"
data-created="1389189198"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="7.1252491691"


>
<a class="zg-anchor-hidden" name="answer-3797831"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">6</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$gao-bo-52"
class="zm-item-link-avatar"
href="/people/gao-bo-52">
<img src="http://pic3.zhimg.com/ec5fe8e06_s.jpg"
class="zm-list-avatar"
data-source="http://pic3.zhimg.com/ec5fe8e06_s.jpg" />
</a>



<a data-tip="p$t$gao-bo-52" href="/people/gao-bo-52">高波</a>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="6">

<span class="voters">
<span class="user-block"><a data-tip="p$t$lao-wang-21" href="http://www.zhihu.com/people/lao-wang-21" class="zg-link" title="老王">老王</a>、</span><span class="user-block"><a data-tip="p$t$davidloman" href="http://www.zhihu.com/people/davidloman" class="zg-link" title="David Lin">David Lin</a>、</span><span class="user-block"><a data-tip="p$t$jun-wen-29" href="http://www.zhihu.com/people/jun-wen-29" class="zg-link" title="jun wen">jun wen</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">卧槽。。。最高票开头感觉还在说技术啊。。。挺有道理的东西。。<br><br>看着看着感觉在说 <br><br>一党独裁，遍地是宰。。。。。。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3797831-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21499169">发布于 2014-01-08</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>添加评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3792713"
data-atoken="21486487"
data-collapsed="0"
data-created="1389159550"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="20.1252512647"


>
<a class="zg-anchor-hidden" name="answer-3792713"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">15</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
<h3 class="zm-item-answer-author-wrap">匿名用户</h3></div>
<div class="zm-item-vote-info " data-votecount="15">

<span class="voters">
<span class="user-block"><a data-tip="p$t$hu-zi-86-42" href="http://www.zhihu.com/people/hu-zi-86-42" class="zg-link" title="胡子">胡子</a>、</span><span class="user-block"><a data-tip="p$t$qing-dao-fu-29" href="http://www.zhihu.com/people/qing-dao-fu-29" class="zg-link" title="清道夫">清道夫</a>、</span><span class="user-block"><a data-tip="p$t$bwkeys" href="http://www.zhihu.com/people/bwkeys" class="zg-link" title="心灵黑白键">心灵黑白键</a></span>
</span>


<a href="javascript:;" class="more"> 等人赞同</a>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">外包给做防火墙的那个公司啊！<br>主干网上每个数据都查询关键词，还让你感觉不到明显的卡，多么牛逼的技术！


</div>

</div>
<a class="zg-anchor-hidden ac" name="3792713-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link meta-item" target="_blank" href="/question/22451397/answer/21486487">发布于 2014-01-08</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>2 条评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>

<div tabindex="-1" class="zm-item-answer "

itemscope itemtype="http://schema.org/Answer"
data-aid="3781524"
data-atoken="21458800"
data-collapsed="0"
data-created="1389075515"
data-deleted="0"
data-helpful="1"
data-isowner="0"
data-score="2.1252572048"


>
<a class="zg-anchor-hidden" name="answer-3781524"></a>


<div class="zm-votebar">
<button class="up ">
<i class="icon vote-arrow"></i>
<span class="label">赞同</span>
<span class="count">1</span>
</button>
<button class="down ">
<i class="icon vote-arrow"></i>
<span class="label">反对</span>
</button>
</div>


<div class="answer-head">
<div class="zm-item-answer-author-info">
<h3 class="zm-item-answer-author-wrap">


<a data-tip="p$t$tongsucn"
class="zm-item-link-avatar"
href="/people/tongsucn">
<img src="http://pic4.zhimg.com/e35970eaa84c167a4651545c83ed96af_s.jpg"
class="zm-list-avatar"
data-source="http://pic4.zhimg.com/e35970eaa84c167a4651545c83ed96af_s.jpg" />
</a>



<a data-tip="p$t$tongsucn" href="/people/tongsucn">苏桐</a>，<strong title="预备役攻城狮" class="zu-question-my-bio">预备役攻城狮</strong>

</h3>
<a href="javascript:;" name="collapse" class="collapse meta-item zg-right"><i class="z-icon-fold"></i>收起</a>
</div>
<div class="zm-item-vote-info " data-votecount="1">

<span class="voters">
<span class="user-block"><a data-tip="p$t$xingmo" href="http://www.zhihu.com/people/xingmo" class="zg-link" title="Meepo">Meepo</a></span>
</span>


<span>赞同</span>


</div>
</div>
<div class="zm-item-rich-text" data-resourceid="1161451" data-action="/answer/content">

<div class=" zm-editable-content clearfix">除了技术架构方面，这其中还涉及到一趟列车沿途各站分票调度的问题。<br><br>现实情况是，如同<a data-hash="789e2e68e5baf02a859da78a07527761" href="http://www.zhihu.com/people/789e2e68e5baf02a859da78a07527761" class="member_mention" data-editable="true" data-title="@王强" data-tip="p$b$789e2e68e5baf02a859da78a07527761">@王强</a> 所言，12306和淘宝的业务类型是不一样的， 短时间内技术上很难，甚至不能解决卖一张票必须做全线更新的问题。所以铁路部门必须（而且貌似是已经）根据往年数据和经验，合理预测规划某天某次列车的乘客出发和终到站分布情况，这样才能最大限度地将单趟列车运力资源做到占用最大化。淘宝、IBM等的优势在于技术解决方案，能够让系统性能可靠性稳定性提升（但是也不能解决全线更新问题），铁路部门的优势在于有历史数据，可以根据数据进行预测进而提升单列车资源占用率。所以二者的结合才是当下比较合理的解决方案。但是二者能否结合？如何结合？这些都需要受到很多你懂的因素的控制，这个就不在本题的讨论范围了。<br><br>我们假设二者突破了重重障碍在一起了。即便是这样，也未必能解决一票难求的问题：<br><ol><li>历史数据分析再靠谱，每年车次调度安排也都在变化。特别是近年高铁大跃进，很多原来的慢车没有了，客流量向其它车次转移，这都带来了很多调度上的不确定因素——预测未必靠谱；<br></li><li>预测不靠谱，进而带来的是资源分配不当，会有更大比例的人无法乘车，单列资源占用率还是上不去；<br></li><li>假设预测靠谱，单列占用率上去了，就能解决一票难求的问题了吗？也不行。占用率上去了，运力提升了，但是这并不意味着整个铁路可用总运力提升。何况现实里还存在大量运力分配不均的情况，比如相对低收入的人群需求的慢车整体运力下降，而相对昂贵的高铁的运力却大幅提升。<br></li></ol><br>综上所述，12306外包给淘宝做，可能网站真的就不卡了，但是该抢不到票还是抢不到。很多人把抢不到票的原因归罪于12306，但是真的该被问责的，应该是偏低的总运力和不符合现状的运力资源分配。


</div>

</div>
<a class="zg-anchor-hidden ac" name="3781524-comment"></a>
<div class="zm-item-meta zm-item-comment-el answer-actions clearfix">
<div class="zm-meta-panel">

<span class="answer-date-link-wrap">
<a class="answer-date-link last_updated meta-item" data-tip="s$t$发布于 2014-01-07" target="_blank" href="/question/22451397/answer/21458800">编辑于 2014-01-07</a>
</span>

<a href="#" name="addcomment" class=" meta-item toggle-comment">
<i class="z-icon-comment"></i>添加评论</a>


<a href="#" class="meta-item zu-autohide" name="thanks" data-thanked="false"><i class="z-icon-thank"></i>感谢</a>



<a href="#" class="meta-item zu-autohide" name="share">
<i class="z-icon-share"></i>分享</a>
<a href="#" class="meta-item zu-autohide" name="favo">
<i class="z-icon-collect"></i>收藏</a>




<span class="zg-bull zu-autohide">&bull;</span>

<a href="#" name="nohelp" class="meta-item zu-autohide">没有帮助</a>

<span class="zg-bull zu-autohide">&bull;</span>
<a href="#" name="report" class="meta-item zu-autohide">举报</a>



<span class="copyright zu-autohide"></span>


</div>
</div>
</div>


</div>

<div id="zh-question-collapsed-link" class="zu-question-collap-title" style="display:" >
<a href="javascript:;" name="expand" class="zg-link-gray" id="zh-question-collapsed-switcher">
<span id="zh-question-collapsed-num">56</span> 个回答被折叠
</a>
（<a target="_blank" href="http://www.zhihu.com/question/20120168" class="zg-link-gray">为什么？</a>）
</div>
<div id="zh-question-collapsed-wrap" class="zh-question-answer-wrapper" style="display:none"></div>
<a name="draft"></a>
<div id="zh-question-answer-form-wrap" class="zh-question-answer-form-wrap">
<div class="zm-editable-tip"></div>
<div class="zm-editable-content"></div>
</div>

<div class="shameimaru-placeholder" data-class="QuestionBottomShameimaruV2" data-params='{&quot;token&quot;:22451397}'></div>
<!-- end of content -->
</div>
</div>
<div class="zu-main-sidebar">




<div class="zm-side-section">
<div class="zm-side-section-inner" id="zh-question-side-header-wrap">
<button data-follow="q:m:button" class="follow-button zg-follow zg-btn-green" data-id="1161451">关注问题</button>

<div class="zg-btn-white" id="zh-question-operation-menu"
>
<i class="zg-icon-dropdown-menu zg-icon"></i><b class="hide-text">设置</b>
</div>

<div class="zh-question-followers-sidebar">
<div class="zg-gray-normal">

<a href="/question/22451397/followers"><strong>7741</strong></a>
人关注该问题

</div>

<div class="list zu-small-avatar-list zg-clear">

<a title="理想的蘑菇"
data-tip="p$t$wang-dan-5-78"
class="zm-item-link-avatar"
href="/people/wang-dan-5-78">
<img src="http://pic3.zhimg.com/49a77ab32_s.jpg" class="zm-item-img-avatar">
</a>

<a title="Fenng"
data-tip="p$t$fenng"
class="zm-item-link-avatar"
href="/people/fenng">
<img src="http://pic1.zhimg.com/515e26050_s.jpg" class="zm-item-img-avatar">
</a>

<a title="vczh"
data-tip="p$t$incredible-vczh"
class="zm-item-link-avatar"
href="/people/incredible-vczh">
<img src="http://pic1.zhimg.com/3a6c25ac3864540e80cdef9bc2a73900_s.jpg" class="zm-item-img-avatar">
</a>

<a title="唐鹏"
data-tip="p$t$tang-peng-11-52"
class="zm-item-link-avatar"
href="/people/tang-peng-11-52">
<img src="http://pic1.zhimg.com/da8e974dc_s.jpg" class="zm-item-img-avatar">
</a>

<a title="RUI DING"
data-tip="p$t$rui-ding-48"
class="zm-item-link-avatar"
href="/people/rui-ding-48">
<img src="http://pic4.zhimg.com/3d7b84807_s.jpg" class="zm-item-img-avatar">
</a>

<a title="张少晖"
data-tip="p$t$zhang-shao-hui-21"
class="zm-item-link-avatar"
href="/people/zhang-shao-hui-21">
<img src="http://pic1.zhimg.com/da8e974dc_s.jpg" class="zm-item-img-avatar">
</a>

<a title="欧思日"
data-tip="p$t$ousiri"
class="zm-item-link-avatar"
href="/people/ousiri">
<img src="http://pic1.zhimg.com/da8e974dc_s.jpg" class="zm-item-img-avatar">
</a>

<a title="不鳥萬Rio"
data-tip="p$t$rio"
class="zm-item-link-avatar"
href="/people/rio">
<img src="http://pic4.zhimg.com/ffc0a08ff_s.jpg" class="zm-item-img-avatar">
</a>

<a title="woody"
data-tip="p$t$woody"
class="zm-item-link-avatar"
href="/people/woody">
<img src="http://pic3.zhimg.com/e89ebc8e2_s.jpg" class="zm-item-img-avatar">
</a>

<a title="华画"
data-tip="p$t$hua-hua-77-56"
class="zm-item-link-avatar"
href="/people/hua-hua-77-56">
<img src="http://pic1.zhimg.com/72bc5443c_s.jpg" class="zm-item-img-avatar">
</a>

<a title="欧阳紫"
data-tip="p$t$ou-yang-zi-48"
class="zm-item-link-avatar"
href="/people/ou-yang-zi-48">
<img src="http://pic2.zhimg.com/d1a0d8daa8ef1bfda2d7ca69f1d40e19_s.jpg" class="zm-item-img-avatar">
</a>

<a title="Ye zhe"
data-tip="p$t$ye-zhe-1"
class="zm-item-link-avatar"
href="/people/ye-zhe-1">
<img src="http://pic1.zhimg.com/900099a8c_s.jpg" class="zm-item-img-avatar">
</a>

<a title="kinsey"
data-tip="p$t$kinsey"
class="zm-item-link-avatar"
href="/people/kinsey">
<img src="http://pic3.zhimg.com/ce2484e2a_s.jpg" class="zm-item-img-avatar">
</a>

<a title="pandapeng"
data-tip="p$t$pandapeng"
class="zm-item-link-avatar"
href="/people/pandapeng">
<img src="http://pic1.zhimg.com/da8e974dc_s.jpg" class="zm-item-img-avatar">
</a>

<a title="郑方虎"
data-tip="p$t$zheng-fang-hu"
class="zm-item-link-avatar"
href="/people/zheng-fang-hu">
<img src="http://pic1.zhimg.com/c9a9560ec_s.jpg" class="zm-item-img-avatar">
</a>

<a title="周舟"
data-tip="p$t$zhou-zhou-7-96"
class="zm-item-link-avatar"
href="/people/zhou-zhou-7-96">
<img src="http://pic1.zhimg.com/6bc90dd58_s.jpg" class="zm-item-img-avatar">
</a>

<a title="二果子"
data-tip="p$t$erguozi"
class="zm-item-link-avatar"
href="/people/erguozi">
<img src="http://pic3.zhimg.com/b2d9e574906c6645c9433512d4cf0bda_s.jpg" class="zm-item-img-avatar">
</a>

<a title="邢京墨"
data-tip="p$t$xing-hao-peng"
class="zm-item-link-avatar"
href="/people/xing-hao-peng">
<img src="http://pic2.zhimg.com/d36b098bd_s.jpg" class="zm-item-img-avatar">
</a>

</div>

</div>
</div>
</div>

<div class="shameimaru-placeholder" data-class="QuestionUpShameimaruV2" data-params='{&quot;token&quot;:22451397}'></div>
<div class="zm-side-section">
<div class="zm-side-section-inner">
<div id="zh-question-related-questions" class="zh-question-related-questions clearfix">

<h3>相关问题</h3>
<ul itemprop="relatedQuestion" itemscope itemtype="http://schema.org/ItemList">

<li itemprop="itemListElement" itemscope itemtype="http://schema.org/Question"><a class="question_link" href="/question/21137895">阿里巴巴王坚博士学心理学的，是怎么与计算机扯上关系的?</a> <span class="num">22 个回答</span><meta itemprop="followerCount" content="141" /></li>

<li itemprop="itemListElement" itemscope itemtype="http://schema.org/Question"><a class="question_link" href="/question/20026139">三大互联网巨头百度、腾讯、阿里巴巴、密集布局深圳的原因是什么？</a> <span class="num">25 个回答</span><meta itemprop="followerCount" content="369" /></li>

<li itemprop="itemListElement" itemscope itemtype="http://schema.org/Question"><a class="question_link" href="/question/20706262">阿里巴巴收购虾米的原因是什么？</a> <span class="num">47 个回答</span><meta itemprop="followerCount" content="966" /></li>

<li itemprop="itemListElement" itemscope itemtype="http://schema.org/Question"><a class="question_link" href="/question/20248906">阿里巴巴集团是会优先选择整体上市，而不是分拆上市吗？这样做的好处是什么？</a> <span class="num">9 个回答</span><meta itemprop="followerCount" content="237" /></li>

<li itemprop="itemListElement" itemscope itemtype="http://schema.org/Question"><a class="question_link" href="/question/20320333">非计算机科班出身的人怎样进好的互联网公司？</a> <span class="num">4 个回答</span><meta itemprop="followerCount" content="53" /></li>

</ul>
</div>
</div>
</div>

<div class="zm-side-section">
<div class="zm-side-section-inner">
<h3>分享问题</h3>
<div id="zh-question-webshare-container" data-title="分享问题" data-type="question" data-id="1161451" data-url-token="22451397" class="zh-question-webshare-links clearfix">
<a href="#" name="sina"><i class="zg-icon zg-icon-webshare-weibo"></i>微博</a>

<a href="#" name="letter"><i class="zg-icon zg-icon-webshare-letter"></i>站内私信</a>
</div>
</div>
</div>

<div class="zm-side-section">
<div class="zm-side-section-inner">
<h3>问题状态</h3>
<div class="zg-gray-normal">
最近活动于 <span class="time">19:28</span>
<span class="zg-bull">&bull;</span>
<a href="/question/22451397/log">查看问题日志</a>
</div>
<div class="zg-gray-normal">
被浏览 <strong>354266</strong> 次，相关话题关注者 <strong>1446525</strong> 人
</div>
</div>
</div>
<div class="shameimaru-placeholder" data-class="QuestionDownShameimaruV2" data-params='{&quot;token&quot;:22451397}'></div>
</div>
<div class="zg-clear"></div>
</div>

<div id="zh-footer" class="zh-footer">
<div class="zg-wrap clearfix">
<ul>

<li><a href="/question/19581624" target='_blank'>知乎指南</a></li>
<li><a href="javascript:;" id="js-feedback-button">建议反馈</a></li>

<li><a href="/app" target='_blank'>移动应用</a></li>
<li><a href="/careers">加入知乎</a></li>
<li><a href="/terms" target="_blank">知乎协议</a></li>
<li><a href="mailto:bd@zhihu.com">商务合作</a></li>
</ul>
<span class="copy">&copy; 2015 知乎</span>
</div>
</div>




<script type="text/json" class="json-inline" data-name="current_user">["\u5468\u5ef7\u680b","zhou-ting-dong","http:\/\/pic1.zhimg.com\/da8e974dc_s.jpg","cccc55debc70a1a240cb44bb3a7105eb","\u8eab\u5904\u8ff7\u5bab\u770b\u98ce\u666f",0,0,1,"theforgived@163.com","http:\/\/mail.163.com",0,true,false,34481478041600]</script>
<script type="text/json" class="json-inline" data-name="env">["zhihu.com","comet.zhihu.com",false,null]</script>
<script type="text/json" class="json-inline" data-name="permissions">[]</script>


<script type="text/json" class="json-inline" data-name="ga_vars">{"user_created":1382035597000,"now":1432037637000,"abtest_mask":"---------1--------------------","user_attr":[1,0,0,"-",1],"user_hash":"cccc55debc70a1a240cb44bb3a7105eb"}</script>

<script type="text/json" class="json-inline" data-name="current_question">{"status":"normal","isLocked":0,"detailEditReasonRequired":true,"editPermission":false,"isAnon":0,"qid":1161451,"urlToken":22451397,"showInvitePanel":false,"askAboutMember":0}</script>
<script type="text/json" class="json-inline" data-name="current_question_owner">false</script>
<script type="text/json" class="json-inline" data-name="draft">[]</script>
<script type="text/json" class="json-inline" data-name="my_answer">{}</script>
<script type="text/json" class="json-inline" data-name="need_first_answer_guide">false</script>

<script type="text/json" class="json-inline" data-name="redirect_to">""</script>



<script src="http://static.zhihu.com/static/ver/82cfd3bf774281811fa8287dc189988f.extern_src.min.js"></script>
<script src="http://static.zhihu.com/static/ver/60cb4425686f826f8dafa2de40ba1f8d.app_core.js"></script>
<script src="http://static.zhihu.com/static/ver/866f5803686f7f91e711c6344cf33cbd.sign.js"></script>
<script src="http://static.zhihu.com/static/ver/cc8f693aff19f54c35010a73ae94019c.app.js"></script>
<script src="http://static.zhihu.com/static/ver/9d748175f7cfaf9ae897126b3d31945b.rich_text_editor.js"></script>

<script type="text/zscript" znonce="f93f2d29bb104db09703f8794bf7fd55">
ZH.entrySQ();
</script>

<input type="hidden" name="_xsrf" value="84e257bef37cce16a2988798fd1fc96e"/>
</body>
</html>